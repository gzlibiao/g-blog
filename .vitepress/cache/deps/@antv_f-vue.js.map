{
  "version": 3,
  "sources": ["../../../node_modules/.pnpm/rbush@3.0.1/node_modules/rbush/rbush.js", "../../../node_modules/.pnpm/eventemitter3@4.0.7/node_modules/eventemitter3/index.js", "../../../node_modules/.pnpm/gl-matrix@3.4.3/node_modules/gl-matrix/esm/common.js", "../../../node_modules/.pnpm/gl-matrix@3.4.3/node_modules/gl-matrix/esm/mat3.js", "../../../node_modules/.pnpm/gl-matrix@3.4.3/node_modules/gl-matrix/esm/mat4.js", "../../../node_modules/.pnpm/gl-matrix@3.4.3/node_modules/gl-matrix/esm/quat.js", "../../../node_modules/.pnpm/gl-matrix@3.4.3/node_modules/gl-matrix/esm/vec3.js", "../../../node_modules/.pnpm/gl-matrix@3.4.3/node_modules/gl-matrix/esm/vec4.js", "../../../node_modules/.pnpm/gl-matrix@3.4.3/node_modules/gl-matrix/esm/vec2.js", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/path/process/path/process/clone-path.ts", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/path/parser/path/parser/params-parser.ts", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/path/process/path/process/fix-arc.ts", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/path/parser/path/parser/params-count.ts", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/path/util/path/util/is-path-array.ts", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/path/util/path/util/is-absolute-array.ts", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/path/util/path/util/is-normalized-array.ts", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/path/parser/path/parser/finalize-segment.ts", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/path/parser/path/parser/scan-flag.ts", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/path/parser/path/parser/is-digit-start.ts", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/path/parser/path/parser/scan-param.ts", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/path/parser/path/parser/is-space.ts", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/path/parser/path/parser/skip-spaces.ts", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/path/parser/path/parser/is-path-command.ts", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/path/parser/path/parser/is-arc-command.ts", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/path/parser/path/parser/scan-segment.ts", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/path/parser/path/parser/path-parser.ts", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/path/parser/path/parser/parse-path-string.ts", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/path/convert/path/convert/path-2-absolute.ts", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/path/process/path/process/normalize-segment.ts", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/path/process/path/process/normalize-path.ts", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/path/util/path/util/is-curve-array.ts", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/path/util/path/util/rotate-vector.ts", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/path/process/path/process/arc-2-cubic.ts", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/path/process/path/process/quad-2-cubic.ts", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/path/util/path/util/mid-point.ts", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/path/util/path/util/distance-square-root.ts", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/path/util/path/util/segment-line-factory.ts", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/path/process/path/process/line-2-cubic.ts", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/path/process/path/process/segment-2-cubic.ts", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/path/convert/path/convert/path-2-curve.ts", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/path/process/path/process/reverse-curve.ts", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/path/util/path/util/segment-arc-factory.ts", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/path/util/path/util/segment-cubic-factory.ts", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/path/util/path/util/segment-quad-factory.ts", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/path/util/path/util/path-length-factory.ts", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/path/util/path/util/get-total-length.ts", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/path/util/path/util/get-rotated-curve.ts", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/path/util/path/util/get-path-area.ts", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/path/util/path/util/get-draw-direction.ts", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/path/util/path/util/get-point-at-length.ts", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/path/util/path/util/equalize-segments.ts", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/lodash/lodash/is-function.ts", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/lodash/lodash/is-nil.ts", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/lodash/lodash/is-type.ts", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/lodash/lodash/is-array.ts", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/lodash/lodash/is-object.ts", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/lodash/lodash/each.ts", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/lodash/lodash/is-object-like.ts", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/lodash/lodash/is-plain-object.ts", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/lodash/lodash/max.ts", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/lodash/lodash/min.ts", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/lodash/lodash/pull.ts", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/lodash/lodash/pull-at.ts", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/lodash/lodash/reduce.ts", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/lodash/lodash/is-string.ts", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/lodash/lodash/clamp.ts", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/lodash/lodash/is-number.ts", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/lodash/lodash/is-integer.ts", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/lodash/lodash/is-number-equal.ts", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/lodash/lodash/mod.ts", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/lodash/lodash/to-degree.ts", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/lodash/lodash/to-radian.ts", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/lodash/lodash/get-type.ts", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/lodash/lodash/is-boolean.ts", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/lodash/lodash/is-prototype.ts", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/lodash/lodash/is-undefined.ts", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/lodash/lodash/pick.ts", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/lodash/lodash/omit.ts", "../../../node_modules/.pnpm/@antv+util@3.3.2/node_modules/@antv/util/esm/lodash/lodash/cache.ts", "../../../node_modules/.pnpm/@antv+f-engine@0.0.35/node_modules/@antv/f-engine/es/component/index.js", "../../../node_modules/.pnpm/@antv+f-engine@0.0.35/node_modules/@antv/f-engine/es/children.js", "../../../node_modules/.pnpm/@antv+g-lite@1.0.42/node_modules/@antv/g-lite/dist/index.esm.js", "../../../node_modules/.pnpm/d3-color@1.4.1/node_modules/d3-color/src/define.js", "../../../node_modules/.pnpm/d3-color@1.4.1/node_modules/d3-color/src/color.js", "../../../node_modules/.pnpm/d3-color@1.4.1/node_modules/d3-color/src/math.js", "../../../node_modules/.pnpm/d3-color@1.4.1/node_modules/d3-color/src/lab.js", "../../../node_modules/.pnpm/d3-color@1.4.1/node_modules/d3-color/src/cubehelix.js", "../../../node_modules/.pnpm/@antv+g-math@1.7.42/node_modules/@antv/g-math/dist/index.esm.js", "../../../node_modules/.pnpm/@antv+f-engine@0.0.35/node_modules/@antv/f-engine/es/shape/util/util.js", "../../../node_modules/.pnpm/@antv+f-engine@0.0.35/node_modules/@antv/f-engine/es/shape/arc.js", "../../../node_modules/.pnpm/@antv+f-engine@0.0.35/node_modules/@antv/f-engine/es/shape/marker.js", "../../../node_modules/.pnpm/@antv+f-engine@0.0.35/node_modules/@antv/f-engine/es/shape/sector.js", "../../../node_modules/.pnpm/@antv+f-engine@0.0.35/node_modules/@antv/f-engine/es/shape/util/smooth.js", "../../../node_modules/.pnpm/@antv+f-engine@0.0.35/node_modules/@antv/f-engine/es/shape/smoothPolyline.js", "../../../node_modules/.pnpm/@antv+g-gesture@0.0.68/node_modules/@antv/g-gesture/dist/index.esm.js", "../../../node_modules/.pnpm/@antv+f-engine@0.0.35/node_modules/@antv/f-engine/es/gesture.js", "../../../node_modules/.pnpm/@antv+f-engine@0.0.35/node_modules/@antv/f-engine/es/jsx/tag.js", "../../../node_modules/.pnpm/@antv+f-engine@0.0.35/node_modules/@antv/f-engine/es/canvas/render/createShape.js", "../../../node_modules/.pnpm/@antv+f-engine@0.0.35/node_modules/@antv/f-engine/es/canvas/equal.js", "../../../node_modules/.pnpm/@antv+f-engine@0.0.35/node_modules/@antv/f-engine/es/canvas/workTags.js", "../../../node_modules/.pnpm/@antv+f-engine@0.0.35/node_modules/@antv/f-engine/es/canvas/render/findClosestShapeNode.js", "../../../node_modules/.pnpm/@antv+f-engine@0.0.35/node_modules/@antv/f-engine/es/canvas/render/animator.js", "../../../node_modules/.pnpm/@antv+f-engine@0.0.35/node_modules/@antv/f-engine/es/canvas/render/applyStyle.js", "../../../node_modules/.pnpm/@antv+f-engine@0.0.35/node_modules/@antv/f-engine/es/canvas/render/animation.js", "../../../node_modules/.pnpm/@antv+f-engine@0.0.35/node_modules/@antv/f-engine/es/canvas/shape/rect.js", "../../../node_modules/.pnpm/@antv+f-engine@0.0.35/node_modules/@antv/f-engine/es/canvas/shape/line.js", "../../../node_modules/.pnpm/@antv+f-engine@0.0.35/node_modules/@antv/f-engine/es/canvas/shape/text.js", "../../../node_modules/.pnpm/@antv+f-engine@0.0.35/node_modules/@antv/f-engine/es/canvas/shape/circle.js", "../../../node_modules/.pnpm/@antv+f-engine@0.0.35/node_modules/@antv/f-engine/es/canvas/shape/marker.js", "../../../node_modules/.pnpm/@antv+f-engine@0.0.35/node_modules/@antv/f-engine/es/canvas/shape/index.js", "../../../node_modules/.pnpm/@antv+f-engine@0.0.35/node_modules/@antv/f-engine/es/canvas/render/css-layout.js", "../../../node_modules/.pnpm/@antv+f-engine@0.0.35/node_modules/@antv/f-engine/es/canvas/render/computeLayout.js", "../../../node_modules/.pnpm/@antv+f-engine@0.0.35/node_modules/@antv/f-engine/es/canvas/render/index.js", "../../../node_modules/.pnpm/@antv+g-plugin-canvas-path-generator@1.1.44_@antv+g-lite@1.0.42/node_modules/@antv/g-plugin-canvas-path-generator/dist/index.esm.js", "../../../node_modules/.pnpm/@antv+g-plugin-canvas-picker@1.8.42_@antv+g-lite@1.0.42/node_modules/@antv/g-plugin-canvas-picker/dist/index.esm.js", "../../../node_modules/.pnpm/@antv+g-plugin-canvas-renderer@1.7.47_@antv+g-lite@1.0.42/node_modules/@antv/g-plugin-canvas-renderer/dist/index.esm.js", "../../../node_modules/.pnpm/@antv+g-plugin-image-loader@1.1.45_@antv+g-lite@1.0.42/node_modules/@antv/g-plugin-image-loader/dist/index.esm.js", "../../../node_modules/.pnpm/@antv+g-plugin-mobile-interaction@0.7.42_@antv+g-lite@1.0.42/node_modules/@antv/g-plugin-mobile-interaction/dist/index.esm.js", "../../../node_modules/.pnpm/@antv+g-mobile-canvas@0.8.42_@antv+g-lite@1.0.42/node_modules/@antv/g-mobile-canvas/dist/index.esm.js", "../../../node_modules/.pnpm/@antv+g-mobile-canvas-element@0.6.42_@antv+g-lite@1.0.42/node_modules/@antv/g-mobile-canvas-element/dist/index.esm.js", "../../../node_modules/.pnpm/@antv+f-engine@0.0.35/node_modules/@antv/f-engine/es/component/updater.js", "../../../node_modules/.pnpm/@antv+f-engine@0.0.35/node_modules/@antv/f-engine/es/canvas/index.js", "../../../node_modules/.pnpm/@antv+f-engine@0.0.35/node_modules/@antv/f-engine/es/canvas/theme.js", "../../../node_modules/.pnpm/@antv+f-engine@0.0.35/node_modules/@antv/f-engine/es/canvas/cssRule.js", "../../../node_modules/.pnpm/@antv+f-engine@0.0.35/node_modules/@antv/f-engine/es/canvas/util.js", "../../../node_modules/.pnpm/@antv+g-web-animations-api@1.0.31_@antv+g-lite@1.0.42/node_modules/@antv/g-web-animations-api/dist/index.esm.js", "../../../node_modules/.pnpm/@antv+f-engine@0.0.35/node_modules/@antv/f-engine/es/timeline.js", "../../../node_modules/.pnpm/@antv+f-vue@0.0.35_vue@3.2.47/node_modules/@antv/f-vue/es/index.js"],
  "sourcesContent": ["(function (global, factory) {\ntypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\ntypeof define === 'function' && define.amd ? define(factory) :\n(global = global || self, global.RBush = factory());\n}(this, function () { 'use strict';\n\nfunction quickselect(arr, k, left, right, compare) {\n    quickselectStep(arr, k, left || 0, right || (arr.length - 1), compare || defaultCompare);\n}\n\nfunction quickselectStep(arr, k, left, right, compare) {\n\n    while (right > left) {\n        if (right - left > 600) {\n            var n = right - left + 1;\n            var m = k - left + 1;\n            var z = Math.log(n);\n            var s = 0.5 * Math.exp(2 * z / 3);\n            var sd = 0.5 * Math.sqrt(z * s * (n - s) / n) * (m - n / 2 < 0 ? -1 : 1);\n            var newLeft = Math.max(left, Math.floor(k - m * s / n + sd));\n            var newRight = Math.min(right, Math.floor(k + (n - m) * s / n + sd));\n            quickselectStep(arr, k, newLeft, newRight, compare);\n        }\n\n        var t = arr[k];\n        var i = left;\n        var j = right;\n\n        swap(arr, left, k);\n        if (compare(arr[right], t) > 0) { swap(arr, left, right); }\n\n        while (i < j) {\n            swap(arr, i, j);\n            i++;\n            j--;\n            while (compare(arr[i], t) < 0) { i++; }\n            while (compare(arr[j], t) > 0) { j--; }\n        }\n\n        if (compare(arr[left], t) === 0) { swap(arr, left, j); }\n        else {\n            j++;\n            swap(arr, j, right);\n        }\n\n        if (j <= k) { left = j + 1; }\n        if (k <= j) { right = j - 1; }\n    }\n}\n\nfunction swap(arr, i, j) {\n    var tmp = arr[i];\n    arr[i] = arr[j];\n    arr[j] = tmp;\n}\n\nfunction defaultCompare(a, b) {\n    return a < b ? -1 : a > b ? 1 : 0;\n}\n\nvar RBush = function RBush(maxEntries) {\n    if ( maxEntries === void 0 ) maxEntries = 9;\n\n    // max entries in a node is 9 by default; min node fill is 40% for best performance\n    this._maxEntries = Math.max(4, maxEntries);\n    this._minEntries = Math.max(2, Math.ceil(this._maxEntries * 0.4));\n    this.clear();\n};\n\nRBush.prototype.all = function all () {\n    return this._all(this.data, []);\n};\n\nRBush.prototype.search = function search (bbox) {\n    var node = this.data;\n    var result = [];\n\n    if (!intersects(bbox, node)) { return result; }\n\n    var toBBox = this.toBBox;\n    var nodesToSearch = [];\n\n    while (node) {\n        for (var i = 0; i < node.children.length; i++) {\n            var child = node.children[i];\n            var childBBox = node.leaf ? toBBox(child) : child;\n\n            if (intersects(bbox, childBBox)) {\n                if (node.leaf) { result.push(child); }\n                else if (contains(bbox, childBBox)) { this._all(child, result); }\n                else { nodesToSearch.push(child); }\n            }\n        }\n        node = nodesToSearch.pop();\n    }\n\n    return result;\n};\n\nRBush.prototype.collides = function collides (bbox) {\n    var node = this.data;\n\n    if (!intersects(bbox, node)) { return false; }\n\n    var nodesToSearch = [];\n    while (node) {\n        for (var i = 0; i < node.children.length; i++) {\n            var child = node.children[i];\n            var childBBox = node.leaf ? this.toBBox(child) : child;\n\n            if (intersects(bbox, childBBox)) {\n                if (node.leaf || contains(bbox, childBBox)) { return true; }\n                nodesToSearch.push(child);\n            }\n        }\n        node = nodesToSearch.pop();\n    }\n\n    return false;\n};\n\nRBush.prototype.load = function load (data) {\n    if (!(data && data.length)) { return this; }\n\n    if (data.length < this._minEntries) {\n        for (var i = 0; i < data.length; i++) {\n            this.insert(data[i]);\n        }\n        return this;\n    }\n\n    // recursively build the tree with the given data from scratch using OMT algorithm\n    var node = this._build(data.slice(), 0, data.length - 1, 0);\n\n    if (!this.data.children.length) {\n        // save as is if tree is empty\n        this.data = node;\n\n    } else if (this.data.height === node.height) {\n        // split root if trees have the same height\n        this._splitRoot(this.data, node);\n\n    } else {\n        if (this.data.height < node.height) {\n            // swap trees if inserted one is bigger\n            var tmpNode = this.data;\n            this.data = node;\n            node = tmpNode;\n        }\n\n        // insert the small tree into the large tree at appropriate level\n        this._insert(node, this.data.height - node.height - 1, true);\n    }\n\n    return this;\n};\n\nRBush.prototype.insert = function insert (item) {\n    if (item) { this._insert(item, this.data.height - 1); }\n    return this;\n};\n\nRBush.prototype.clear = function clear () {\n    this.data = createNode([]);\n    return this;\n};\n\nRBush.prototype.remove = function remove (item, equalsFn) {\n    if (!item) { return this; }\n\n    var node = this.data;\n    var bbox = this.toBBox(item);\n    var path = [];\n    var indexes = [];\n    var i, parent, goingUp;\n\n    // depth-first iterative tree traversal\n    while (node || path.length) {\n\n        if (!node) { // go up\n            node = path.pop();\n            parent = path[path.length - 1];\n            i = indexes.pop();\n            goingUp = true;\n        }\n\n        if (node.leaf) { // check current node\n            var index = findItem(item, node.children, equalsFn);\n\n            if (index !== -1) {\n                // item found, remove the item and condense tree upwards\n                node.children.splice(index, 1);\n                path.push(node);\n                this._condense(path);\n                return this;\n            }\n        }\n\n        if (!goingUp && !node.leaf && contains(node, bbox)) { // go down\n            path.push(node);\n            indexes.push(i);\n            i = 0;\n            parent = node;\n            node = node.children[0];\n\n        } else if (parent) { // go right\n            i++;\n            node = parent.children[i];\n            goingUp = false;\n\n        } else { node = null; } // nothing found\n    }\n\n    return this;\n};\n\nRBush.prototype.toBBox = function toBBox (item) { return item; };\n\nRBush.prototype.compareMinX = function compareMinX (a, b) { return a.minX - b.minX; };\nRBush.prototype.compareMinY = function compareMinY (a, b) { return a.minY - b.minY; };\n\nRBush.prototype.toJSON = function toJSON () { return this.data; };\n\nRBush.prototype.fromJSON = function fromJSON (data) {\n    this.data = data;\n    return this;\n};\n\nRBush.prototype._all = function _all (node, result) {\n    var nodesToSearch = [];\n    while (node) {\n        if (node.leaf) { result.push.apply(result, node.children); }\n        else { nodesToSearch.push.apply(nodesToSearch, node.children); }\n\n        node = nodesToSearch.pop();\n    }\n    return result;\n};\n\nRBush.prototype._build = function _build (items, left, right, height) {\n\n    var N = right - left + 1;\n    var M = this._maxEntries;\n    var node;\n\n    if (N <= M) {\n        // reached leaf level; return leaf\n        node = createNode(items.slice(left, right + 1));\n        calcBBox(node, this.toBBox);\n        return node;\n    }\n\n    if (!height) {\n        // target height of the bulk-loaded tree\n        height = Math.ceil(Math.log(N) / Math.log(M));\n\n        // target number of root entries to maximize storage utilization\n        M = Math.ceil(N / Math.pow(M, height - 1));\n    }\n\n    node = createNode([]);\n    node.leaf = false;\n    node.height = height;\n\n    // split the items into M mostly square tiles\n\n    var N2 = Math.ceil(N / M);\n    var N1 = N2 * Math.ceil(Math.sqrt(M));\n\n    multiSelect(items, left, right, N1, this.compareMinX);\n\n    for (var i = left; i <= right; i += N1) {\n\n        var right2 = Math.min(i + N1 - 1, right);\n\n        multiSelect(items, i, right2, N2, this.compareMinY);\n\n        for (var j = i; j <= right2; j += N2) {\n\n            var right3 = Math.min(j + N2 - 1, right2);\n\n            // pack each entry recursively\n            node.children.push(this._build(items, j, right3, height - 1));\n        }\n    }\n\n    calcBBox(node, this.toBBox);\n\n    return node;\n};\n\nRBush.prototype._chooseSubtree = function _chooseSubtree (bbox, node, level, path) {\n    while (true) {\n        path.push(node);\n\n        if (node.leaf || path.length - 1 === level) { break; }\n\n        var minArea = Infinity;\n        var minEnlargement = Infinity;\n        var targetNode = (void 0);\n\n        for (var i = 0; i < node.children.length; i++) {\n            var child = node.children[i];\n            var area = bboxArea(child);\n            var enlargement = enlargedArea(bbox, child) - area;\n\n            // choose entry with the least area enlargement\n            if (enlargement < minEnlargement) {\n                minEnlargement = enlargement;\n                minArea = area < minArea ? area : minArea;\n                targetNode = child;\n\n            } else if (enlargement === minEnlargement) {\n                // otherwise choose one with the smallest area\n                if (area < minArea) {\n                    minArea = area;\n                    targetNode = child;\n                }\n            }\n        }\n\n        node = targetNode || node.children[0];\n    }\n\n    return node;\n};\n\nRBush.prototype._insert = function _insert (item, level, isNode) {\n    var bbox = isNode ? item : this.toBBox(item);\n    var insertPath = [];\n\n    // find the best node for accommodating the item, saving all nodes along the path too\n    var node = this._chooseSubtree(bbox, this.data, level, insertPath);\n\n    // put the item into the node\n    node.children.push(item);\n    extend(node, bbox);\n\n    // split on node overflow; propagate upwards if necessary\n    while (level >= 0) {\n        if (insertPath[level].children.length > this._maxEntries) {\n            this._split(insertPath, level);\n            level--;\n        } else { break; }\n    }\n\n    // adjust bboxes along the insertion path\n    this._adjustParentBBoxes(bbox, insertPath, level);\n};\n\n// split overflowed node into two\nRBush.prototype._split = function _split (insertPath, level) {\n    var node = insertPath[level];\n    var M = node.children.length;\n    var m = this._minEntries;\n\n    this._chooseSplitAxis(node, m, M);\n\n    var splitIndex = this._chooseSplitIndex(node, m, M);\n\n    var newNode = createNode(node.children.splice(splitIndex, node.children.length - splitIndex));\n    newNode.height = node.height;\n    newNode.leaf = node.leaf;\n\n    calcBBox(node, this.toBBox);\n    calcBBox(newNode, this.toBBox);\n\n    if (level) { insertPath[level - 1].children.push(newNode); }\n    else { this._splitRoot(node, newNode); }\n};\n\nRBush.prototype._splitRoot = function _splitRoot (node, newNode) {\n    // split root node\n    this.data = createNode([node, newNode]);\n    this.data.height = node.height + 1;\n    this.data.leaf = false;\n    calcBBox(this.data, this.toBBox);\n};\n\nRBush.prototype._chooseSplitIndex = function _chooseSplitIndex (node, m, M) {\n    var index;\n    var minOverlap = Infinity;\n    var minArea = Infinity;\n\n    for (var i = m; i <= M - m; i++) {\n        var bbox1 = distBBox(node, 0, i, this.toBBox);\n        var bbox2 = distBBox(node, i, M, this.toBBox);\n\n        var overlap = intersectionArea(bbox1, bbox2);\n        var area = bboxArea(bbox1) + bboxArea(bbox2);\n\n        // choose distribution with minimum overlap\n        if (overlap < minOverlap) {\n            minOverlap = overlap;\n            index = i;\n\n            minArea = area < minArea ? area : minArea;\n\n        } else if (overlap === minOverlap) {\n            // otherwise choose distribution with minimum area\n            if (area < minArea) {\n                minArea = area;\n                index = i;\n            }\n        }\n    }\n\n    return index || M - m;\n};\n\n// sorts node children by the best axis for split\nRBush.prototype._chooseSplitAxis = function _chooseSplitAxis (node, m, M) {\n    var compareMinX = node.leaf ? this.compareMinX : compareNodeMinX;\n    var compareMinY = node.leaf ? this.compareMinY : compareNodeMinY;\n    var xMargin = this._allDistMargin(node, m, M, compareMinX);\n    var yMargin = this._allDistMargin(node, m, M, compareMinY);\n\n    // if total distributions margin value is minimal for x, sort by minX,\n    // otherwise it's already sorted by minY\n    if (xMargin < yMargin) { node.children.sort(compareMinX); }\n};\n\n// total margin of all possible split distributions where each node is at least m full\nRBush.prototype._allDistMargin = function _allDistMargin (node, m, M, compare) {\n    node.children.sort(compare);\n\n    var toBBox = this.toBBox;\n    var leftBBox = distBBox(node, 0, m, toBBox);\n    var rightBBox = distBBox(node, M - m, M, toBBox);\n    var margin = bboxMargin(leftBBox) + bboxMargin(rightBBox);\n\n    for (var i = m; i < M - m; i++) {\n        var child = node.children[i];\n        extend(leftBBox, node.leaf ? toBBox(child) : child);\n        margin += bboxMargin(leftBBox);\n    }\n\n    for (var i$1 = M - m - 1; i$1 >= m; i$1--) {\n        var child$1 = node.children[i$1];\n        extend(rightBBox, node.leaf ? toBBox(child$1) : child$1);\n        margin += bboxMargin(rightBBox);\n    }\n\n    return margin;\n};\n\nRBush.prototype._adjustParentBBoxes = function _adjustParentBBoxes (bbox, path, level) {\n    // adjust bboxes along the given tree path\n    for (var i = level; i >= 0; i--) {\n        extend(path[i], bbox);\n    }\n};\n\nRBush.prototype._condense = function _condense (path) {\n    // go through the path, removing empty nodes and updating bboxes\n    for (var i = path.length - 1, siblings = (void 0); i >= 0; i--) {\n        if (path[i].children.length === 0) {\n            if (i > 0) {\n                siblings = path[i - 1].children;\n                siblings.splice(siblings.indexOf(path[i]), 1);\n\n            } else { this.clear(); }\n\n        } else { calcBBox(path[i], this.toBBox); }\n    }\n};\n\nfunction findItem(item, items, equalsFn) {\n    if (!equalsFn) { return items.indexOf(item); }\n\n    for (var i = 0; i < items.length; i++) {\n        if (equalsFn(item, items[i])) { return i; }\n    }\n    return -1;\n}\n\n// calculate node's bbox from bboxes of its children\nfunction calcBBox(node, toBBox) {\n    distBBox(node, 0, node.children.length, toBBox, node);\n}\n\n// min bounding rectangle of node children from k to p-1\nfunction distBBox(node, k, p, toBBox, destNode) {\n    if (!destNode) { destNode = createNode(null); }\n    destNode.minX = Infinity;\n    destNode.minY = Infinity;\n    destNode.maxX = -Infinity;\n    destNode.maxY = -Infinity;\n\n    for (var i = k; i < p; i++) {\n        var child = node.children[i];\n        extend(destNode, node.leaf ? toBBox(child) : child);\n    }\n\n    return destNode;\n}\n\nfunction extend(a, b) {\n    a.minX = Math.min(a.minX, b.minX);\n    a.minY = Math.min(a.minY, b.minY);\n    a.maxX = Math.max(a.maxX, b.maxX);\n    a.maxY = Math.max(a.maxY, b.maxY);\n    return a;\n}\n\nfunction compareNodeMinX(a, b) { return a.minX - b.minX; }\nfunction compareNodeMinY(a, b) { return a.minY - b.minY; }\n\nfunction bboxArea(a)   { return (a.maxX - a.minX) * (a.maxY - a.minY); }\nfunction bboxMargin(a) { return (a.maxX - a.minX) + (a.maxY - a.minY); }\n\nfunction enlargedArea(a, b) {\n    return (Math.max(b.maxX, a.maxX) - Math.min(b.minX, a.minX)) *\n           (Math.max(b.maxY, a.maxY) - Math.min(b.minY, a.minY));\n}\n\nfunction intersectionArea(a, b) {\n    var minX = Math.max(a.minX, b.minX);\n    var minY = Math.max(a.minY, b.minY);\n    var maxX = Math.min(a.maxX, b.maxX);\n    var maxY = Math.min(a.maxY, b.maxY);\n\n    return Math.max(0, maxX - minX) *\n           Math.max(0, maxY - minY);\n}\n\nfunction contains(a, b) {\n    return a.minX <= b.minX &&\n           a.minY <= b.minY &&\n           b.maxX <= a.maxX &&\n           b.maxY <= a.maxY;\n}\n\nfunction intersects(a, b) {\n    return b.minX <= a.maxX &&\n           b.minY <= a.maxY &&\n           b.maxX >= a.minX &&\n           b.maxY >= a.minY;\n}\n\nfunction createNode(children) {\n    return {\n        children: children,\n        height: 1,\n        leaf: true,\n        minX: Infinity,\n        minY: Infinity,\n        maxX: -Infinity,\n        maxY: -Infinity\n    };\n}\n\n// sort an array so that items come in groups of n unsorted items, with groups sorted between each other;\n// combines selection algorithm with binary divide & conquer approach\n\nfunction multiSelect(arr, left, right, n, compare) {\n    var stack = [left, right];\n\n    while (stack.length) {\n        right = stack.pop();\n        left = stack.pop();\n\n        if (right - left <= n) { continue; }\n\n        var mid = left + Math.ceil((right - left) / n / 2) * n;\n        quickselect(arr, mid, left, right, compare);\n\n        stack.push(left, mid, mid, right);\n    }\n}\n\nreturn RBush;\n\n}));\n", "'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n", "/**\n * Common utilities\n * @module glMatrix\n */\n// Configuration Constants\nexport var EPSILON = 0.000001;\nexport var ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexport var RANDOM = Math.random;\n/**\n * Sets the type of array used when creating new vectors and matrices\n *\n * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\n */\n\nexport function setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\n * Convert Degree To Radian\n *\n * @param {Number} a Angle in Degrees\n */\n\nexport function toRadian(a) {\n  return a * degree;\n}\n/**\n * Tests whether or not the arguments have approximately the same value, within an absolute\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\n * than or equal to 1.0, and a relative tolerance is used for larger values)\n *\n * @param {Number} a The first number to test.\n * @param {Number} b The second number to test.\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};", "import * as glMatrix from \"./common.js\";\n/**\n * 3x3 Matrix\n * @module mat3\n */\n\n/**\n * Creates a new identity mat3\n *\n * @returns {mat3} a new 3x3 matrix\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(9);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[5] = 0;\n    out[6] = 0;\n    out[7] = 0;\n  }\n\n  out[0] = 1;\n  out[4] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the upper-left 3x3 values into the given mat3.\n *\n * @param {mat3} out the receiving 3x3 matrix\n * @param {ReadonlyMat4} a   the source 4x4 matrix\n * @returns {mat3} out\n */\n\nexport function fromMat4(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[4];\n  out[4] = a[5];\n  out[5] = a[6];\n  out[6] = a[8];\n  out[7] = a[9];\n  out[8] = a[10];\n  return out;\n}\n/**\n * Creates a new mat3 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat3} a matrix to clone\n * @returns {mat3} a new 3x3 matrix\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Copy the values from one mat3 to another\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Create a new mat3 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} A new mat3\n */\n\nexport function fromValues(m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  var out = new glMatrix.ARRAY_TYPE(9);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set the components of a mat3 to the given values\n *\n * @param {mat3} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m10 Component in column 1, row 0 position (index 3)\n * @param {Number} m11 Component in column 1, row 1 position (index 4)\n * @param {Number} m12 Component in column 1, row 2 position (index 5)\n * @param {Number} m20 Component in column 2, row 0 position (index 6)\n * @param {Number} m21 Component in column 2, row 1 position (index 7)\n * @param {Number} m22 Component in column 2, row 2 position (index 8)\n * @returns {mat3} out\n */\n\nexport function set(out, m00, m01, m02, m10, m11, m12, m20, m21, m22) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m10;\n  out[4] = m11;\n  out[5] = m12;\n  out[6] = m20;\n  out[7] = m21;\n  out[8] = m22;\n  return out;\n}\n/**\n * Set a mat3 to the identity matrix\n *\n * @param {mat3} out the receiving matrix\n * @returns {mat3} out\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Transpose the values of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a12 = a[5];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a01;\n    out[5] = a[7];\n    out[6] = a02;\n    out[7] = a12;\n  } else {\n    out[0] = a[0];\n    out[1] = a[3];\n    out[2] = a[6];\n    out[3] = a[1];\n    out[4] = a[4];\n    out[5] = a[7];\n    out[6] = a[2];\n    out[7] = a[5];\n    out[8] = a[8];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b01 = a22 * a11 - a12 * a21;\n  var b11 = -a22 * a10 + a12 * a20;\n  var b21 = a21 * a10 - a11 * a20; // Calculate the determinant\n\n  var det = a00 * b01 + a01 * b11 + a02 * b21;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = b01 * det;\n  out[1] = (-a22 * a01 + a02 * a21) * det;\n  out[2] = (a12 * a01 - a02 * a11) * det;\n  out[3] = b11 * det;\n  out[4] = (a22 * a00 - a02 * a20) * det;\n  out[5] = (-a12 * a00 + a02 * a10) * det;\n  out[6] = b21 * det;\n  out[7] = (-a21 * a00 + a01 * a20) * det;\n  out[8] = (a11 * a00 - a01 * a10) * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the source matrix\n * @returns {mat3} out\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  out[0] = a11 * a22 - a12 * a21;\n  out[1] = a02 * a21 - a01 * a22;\n  out[2] = a01 * a12 - a02 * a11;\n  out[3] = a12 * a20 - a10 * a22;\n  out[4] = a00 * a22 - a02 * a20;\n  out[5] = a02 * a10 - a00 * a12;\n  out[6] = a10 * a21 - a11 * a20;\n  out[7] = a01 * a20 - a00 * a21;\n  out[8] = a00 * a11 - a01 * a10;\n  return out;\n}\n/**\n * Calculates the determinant of a mat3\n *\n * @param {ReadonlyMat3} a the source matrix\n * @returns {Number} determinant of a\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  return a00 * (a22 * a11 - a12 * a21) + a01 * (-a22 * a10 + a12 * a20) + a02 * (a21 * a10 - a11 * a20);\n}\n/**\n * Multiplies two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2];\n  var a10 = a[3],\n      a11 = a[4],\n      a12 = a[5];\n  var a20 = a[6],\n      a21 = a[7],\n      a22 = a[8];\n  var b00 = b[0],\n      b01 = b[1],\n      b02 = b[2];\n  var b10 = b[3],\n      b11 = b[4],\n      b12 = b[5];\n  var b20 = b[6],\n      b21 = b[7],\n      b22 = b[8];\n  out[0] = b00 * a00 + b01 * a10 + b02 * a20;\n  out[1] = b00 * a01 + b01 * a11 + b02 * a21;\n  out[2] = b00 * a02 + b01 * a12 + b02 * a22;\n  out[3] = b10 * a00 + b11 * a10 + b12 * a20;\n  out[4] = b10 * a01 + b11 * a11 + b12 * a21;\n  out[5] = b10 * a02 + b11 * a12 + b12 * a22;\n  out[6] = b20 * a00 + b21 * a10 + b22 * a20;\n  out[7] = b20 * a01 + b21 * a11 + b22 * a21;\n  out[8] = b20 * a02 + b21 * a12 + b22 * a22;\n  return out;\n}\n/**\n * Translate a mat3 by the given vector\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to translate\n * @param {ReadonlyVec2} v vector to translate by\n * @returns {mat3} out\n */\n\nexport function translate(out, a, v) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      x = v[0],\n      y = v[1];\n  out[0] = a00;\n  out[1] = a01;\n  out[2] = a02;\n  out[3] = a10;\n  out[4] = a11;\n  out[5] = a12;\n  out[6] = x * a00 + y * a10 + a20;\n  out[7] = x * a01 + y * a11 + a21;\n  out[8] = x * a02 + y * a12 + a22;\n  return out;\n}\n/**\n * Rotates a mat3 by the given angle\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nexport function rotate(out, a, rad) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a10 = a[3],\n      a11 = a[4],\n      a12 = a[5],\n      a20 = a[6],\n      a21 = a[7],\n      a22 = a[8],\n      s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c * a00 + s * a10;\n  out[1] = c * a01 + s * a11;\n  out[2] = c * a02 + s * a12;\n  out[3] = c * a10 - s * a00;\n  out[4] = c * a11 - s * a01;\n  out[5] = c * a12 - s * a02;\n  out[6] = a20;\n  out[7] = a21;\n  out[8] = a22;\n  return out;\n}\n/**\n * Scales the mat3 by the dimensions in the given vec2\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to rotate\n * @param {ReadonlyVec2} v the vec2 to scale the matrix by\n * @returns {mat3} out\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1];\n  out[0] = x * a[0];\n  out[1] = x * a[1];\n  out[2] = x * a[2];\n  out[3] = y * a[3];\n  out[4] = y * a[4];\n  out[5] = y * a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.translate(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Translation vector\n * @returns {mat3} out\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 1;\n  out[5] = 0;\n  out[6] = v[0];\n  out[7] = v[1];\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.rotate(dest, dest, rad);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat3} out\n */\n\nexport function fromRotation(out, rad) {\n  var s = Math.sin(rad),\n      c = Math.cos(rad);\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = -s;\n  out[4] = c;\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat3.identity(dest);\n *     mat3.scale(dest, dest, vec);\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyVec2} v Scaling vector\n * @returns {mat3} out\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = v[1];\n  out[5] = 0;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 1;\n  return out;\n}\n/**\n * Copies the values from a mat2d into a mat3\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat2d} a the matrix to copy\n * @returns {mat3} out\n **/\n\nexport function fromMat2d(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = 0;\n  out[3] = a[2];\n  out[4] = a[3];\n  out[5] = 0;\n  out[6] = a[4];\n  out[7] = a[5];\n  out[8] = 1;\n  return out;\n}\n/**\n * Calculates a 3x3 matrix from the given quaternion\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyQuat} q Quaternion to create matrix from\n *\n * @returns {mat3} out\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[3] = yx - wz;\n  out[6] = zx + wy;\n  out[1] = yx + wz;\n  out[4] = 1 - xx - zz;\n  out[7] = zy - wx;\n  out[2] = zx - wy;\n  out[5] = zy + wx;\n  out[8] = 1 - xx - yy;\n  return out;\n}\n/**\n * Calculates a 3x3 normal matrix (transpose inverse) from the 4x4 matrix\n *\n * @param {mat3} out mat3 receiving operation result\n * @param {ReadonlyMat4} a Mat4 to derive the normal matrix from\n *\n * @returns {mat3} out\n */\n\nexport function normalFromMat4(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[2] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[3] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[4] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[5] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[6] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[7] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[8] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  return out;\n}\n/**\n * Generates a 2D projection matrix with the given bounds\n *\n * @param {mat3} out mat3 frustum matrix will be written into\n * @param {number} width Width of your gl context\n * @param {number} height Height of gl context\n * @returns {mat3} out\n */\n\nexport function projection(out, width, height) {\n  out[0] = 2 / width;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -2 / height;\n  out[5] = 0;\n  out[6] = -1;\n  out[7] = 1;\n  out[8] = 1;\n  return out;\n}\n/**\n * Returns a string representation of a mat3\n *\n * @param {ReadonlyMat3} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nexport function str(a) {\n  return \"mat3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat3\n *\n * @param {ReadonlyMat3} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8]);\n}\n/**\n * Adds two mat3's\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @returns {mat3} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat3} out the receiving matrix\n * @param {ReadonlyMat3} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat3} out\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  return out;\n}\n/**\n * Adds two mat3's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat3} out the receiving vector\n * @param {ReadonlyMat3} a the first operand\n * @param {ReadonlyMat3} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat3} out\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat3} a The first matrix.\n * @param {ReadonlyMat3} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3],\n      a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7],\n      a8 = a[8];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3],\n      b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7],\n      b8 = b[8];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8));\n}\n/**\n * Alias for {@link mat3.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link mat3.subtract}\n * @function\n */\n\nexport var sub = subtract;", "import * as glMatrix from \"./common.js\";\n/**\n * 4x4 Matrix<br>Format: column-major, when typed out it looks like row-major<br>The matrices are being post multiplied.\n * @module mat4\n */\n\n/**\n * Creates a new identity mat4\n *\n * @returns {mat4} a new 4x4 matrix\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(16);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n  }\n\n  out[0] = 1;\n  out[5] = 1;\n  out[10] = 1;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a new mat4 initialized with values from an existing matrix\n *\n * @param {ReadonlyMat4} a matrix to clone\n * @returns {mat4} a new 4x4 matrix\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Copy the values from one mat4 to another\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Create a new mat4 with the given values\n *\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\n * @returns {mat4} A new mat4\n */\n\nexport function fromValues(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\n * Set the components of a mat4 to the given values\n *\n * @param {mat4} out the receiving matrix\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\n * @returns {mat4} out\n */\n\nexport function set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\n * Set a mat4 to the identity matrix\n *\n * @param {mat4} out the receiving matrix\n * @returns {mat4} out\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Transpose the values of a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n        a02 = a[2],\n        a03 = a[3];\n    var a12 = a[6],\n        a13 = a[7];\n    var a23 = a[11];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a01;\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a02;\n    out[9] = a12;\n    out[11] = a[14];\n    out[12] = a03;\n    out[13] = a13;\n    out[14] = a23;\n  } else {\n    out[0] = a[0];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a[1];\n    out[5] = a[5];\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a[2];\n    out[9] = a[6];\n    out[10] = a[10];\n    out[11] = a[14];\n    out[12] = a[3];\n    out[13] = a[7];\n    out[14] = a[11];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\n * Inverts a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n  out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n  out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n  out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n  out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n  out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n  out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n  return out;\n}\n/**\n * Calculates the adjugate of a mat4\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the source matrix\n * @returns {mat4} out\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  out[0] = a11 * (a22 * a33 - a23 * a32) - a21 * (a12 * a33 - a13 * a32) + a31 * (a12 * a23 - a13 * a22);\n  out[1] = -(a01 * (a22 * a33 - a23 * a32) - a21 * (a02 * a33 - a03 * a32) + a31 * (a02 * a23 - a03 * a22));\n  out[2] = a01 * (a12 * a33 - a13 * a32) - a11 * (a02 * a33 - a03 * a32) + a31 * (a02 * a13 - a03 * a12);\n  out[3] = -(a01 * (a12 * a23 - a13 * a22) - a11 * (a02 * a23 - a03 * a22) + a21 * (a02 * a13 - a03 * a12));\n  out[4] = -(a10 * (a22 * a33 - a23 * a32) - a20 * (a12 * a33 - a13 * a32) + a30 * (a12 * a23 - a13 * a22));\n  out[5] = a00 * (a22 * a33 - a23 * a32) - a20 * (a02 * a33 - a03 * a32) + a30 * (a02 * a23 - a03 * a22);\n  out[6] = -(a00 * (a12 * a33 - a13 * a32) - a10 * (a02 * a33 - a03 * a32) + a30 * (a02 * a13 - a03 * a12));\n  out[7] = a00 * (a12 * a23 - a13 * a22) - a10 * (a02 * a23 - a03 * a22) + a20 * (a02 * a13 - a03 * a12);\n  out[8] = a10 * (a21 * a33 - a23 * a31) - a20 * (a11 * a33 - a13 * a31) + a30 * (a11 * a23 - a13 * a21);\n  out[9] = -(a00 * (a21 * a33 - a23 * a31) - a20 * (a01 * a33 - a03 * a31) + a30 * (a01 * a23 - a03 * a21));\n  out[10] = a00 * (a11 * a33 - a13 * a31) - a10 * (a01 * a33 - a03 * a31) + a30 * (a01 * a13 - a03 * a11);\n  out[11] = -(a00 * (a11 * a23 - a13 * a21) - a10 * (a01 * a23 - a03 * a21) + a20 * (a01 * a13 - a03 * a11));\n  out[12] = -(a10 * (a21 * a32 - a22 * a31) - a20 * (a11 * a32 - a12 * a31) + a30 * (a11 * a22 - a12 * a21));\n  out[13] = a00 * (a21 * a32 - a22 * a31) - a20 * (a01 * a32 - a02 * a31) + a30 * (a01 * a22 - a02 * a21);\n  out[14] = -(a00 * (a11 * a32 - a12 * a31) - a10 * (a01 * a32 - a02 * a31) + a30 * (a01 * a12 - a02 * a11));\n  out[15] = a00 * (a11 * a22 - a12 * a21) - a10 * (a01 * a22 - a02 * a21) + a20 * (a01 * a12 - a02 * a11);\n  return out;\n}\n/**\n * Calculates the determinant of a mat4\n *\n * @param {ReadonlyMat4} a the source matrix\n * @returns {Number} determinant of a\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n}\n/**\n * Multiplies two mat4s\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n      a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n  var a10 = a[4],\n      a11 = a[5],\n      a12 = a[6],\n      a13 = a[7];\n  var a20 = a[8],\n      a21 = a[9],\n      a22 = a[10],\n      a23 = a[11];\n  var a30 = a[12],\n      a31 = a[13],\n      a32 = a[14],\n      a33 = a[15]; // Cache only the current line of the second matrix\n\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[4];\n  b1 = b[5];\n  b2 = b[6];\n  b3 = b[7];\n  out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[8];\n  b1 = b[9];\n  b2 = b[10];\n  b3 = b[11];\n  out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[12];\n  b1 = b[13];\n  b2 = b[14];\n  b3 = b[15];\n  out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  return out;\n}\n/**\n * Translate a mat4 by the given vector\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to translate\n * @param {ReadonlyVec3} v vector to translate by\n * @returns {mat4} out\n */\n\nexport function translate(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n\n  if (a === out) {\n    out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];\n    out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];\n    out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];\n    out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];\n  } else {\n    a00 = a[0];\n    a01 = a[1];\n    a02 = a[2];\n    a03 = a[3];\n    a10 = a[4];\n    a11 = a[5];\n    a12 = a[6];\n    a13 = a[7];\n    a20 = a[8];\n    a21 = a[9];\n    a22 = a[10];\n    a23 = a[11];\n    out[0] = a00;\n    out[1] = a01;\n    out[2] = a02;\n    out[3] = a03;\n    out[4] = a10;\n    out[5] = a11;\n    out[6] = a12;\n    out[7] = a13;\n    out[8] = a20;\n    out[9] = a21;\n    out[10] = a22;\n    out[11] = a23;\n    out[12] = a00 * x + a10 * y + a20 * z + a[12];\n    out[13] = a01 * x + a11 * y + a21 * z + a[13];\n    out[14] = a02 * x + a12 * y + a22 * z + a[14];\n    out[15] = a03 * x + a13 * y + a23 * z + a[15];\n  }\n\n  return out;\n}\n/**\n * Scales the mat4 by the dimensions in the given vec3 not using vectorization\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to scale\n * @param {ReadonlyVec3} v the vec3 to scale the matrix by\n * @returns {mat4} out\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  out[0] = a[0] * x;\n  out[1] = a[1] * x;\n  out[2] = a[2] * x;\n  out[3] = a[3] * x;\n  out[4] = a[4] * y;\n  out[5] = a[5] * y;\n  out[6] = a[6] * y;\n  out[7] = a[7] * y;\n  out[8] = a[8] * z;\n  out[9] = a[9] * z;\n  out[10] = a[10] * z;\n  out[11] = a[11] * z;\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\n * Rotates a mat4 by the given angle around the given axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @param {ReadonlyVec3} axis the axis to rotate around\n * @returns {mat4} out\n */\n\nexport function rotate(out, a, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n  var b00, b01, b02;\n  var b10, b11, b12;\n  var b20, b21, b22;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c;\n  a00 = a[0];\n  a01 = a[1];\n  a02 = a[2];\n  a03 = a[3];\n  a10 = a[4];\n  a11 = a[5];\n  a12 = a[6];\n  a13 = a[7];\n  a20 = a[8];\n  a21 = a[9];\n  a22 = a[10];\n  a23 = a[11]; // Construct the elements of the rotation matrix\n\n  b00 = x * x * t + c;\n  b01 = y * x * t + z * s;\n  b02 = z * x * t - y * s;\n  b10 = x * y * t - z * s;\n  b11 = y * y * t + c;\n  b12 = z * y * t + x * s;\n  b20 = x * z * t + y * s;\n  b21 = y * z * t - x * s;\n  b22 = z * z * t + c; // Perform rotation-specific matrix multiplication\n\n  out[0] = a00 * b00 + a10 * b01 + a20 * b02;\n  out[1] = a01 * b00 + a11 * b01 + a21 * b02;\n  out[2] = a02 * b00 + a12 * b01 + a22 * b02;\n  out[3] = a03 * b00 + a13 * b01 + a23 * b02;\n  out[4] = a00 * b10 + a10 * b11 + a20 * b12;\n  out[5] = a01 * b10 + a11 * b11 + a21 * b12;\n  out[6] = a02 * b10 + a12 * b11 + a22 * b12;\n  out[7] = a03 * b10 + a13 * b11 + a23 * b12;\n  out[8] = a00 * b20 + a10 * b21 + a20 * b22;\n  out[9] = a01 * b20 + a11 * b21 + a21 * b22;\n  out[10] = a02 * b20 + a12 * b21 + a22 * b22;\n  out[11] = a03 * b20 + a13 * b21 + a23 * b22;\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  }\n\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the X axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function rotateX(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[4] = a10 * c + a20 * s;\n  out[5] = a11 * c + a21 * s;\n  out[6] = a12 * c + a22 * s;\n  out[7] = a13 * c + a23 * s;\n  out[8] = a20 * c - a10 * s;\n  out[9] = a21 * c - a11 * s;\n  out[10] = a22 * c - a12 * s;\n  out[11] = a23 * c - a13 * s;\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the Y axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function rotateY(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c - a20 * s;\n  out[1] = a01 * c - a21 * s;\n  out[2] = a02 * c - a22 * s;\n  out[3] = a03 * c - a23 * s;\n  out[8] = a00 * s + a20 * c;\n  out[9] = a01 * s + a21 * c;\n  out[10] = a02 * s + a22 * c;\n  out[11] = a03 * s + a23 * c;\n  return out;\n}\n/**\n * Rotates a matrix by the given angle around the Z axis\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to rotate\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function rotateZ(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[8] = a[8];\n    out[9] = a[9];\n    out[10] = a[10];\n    out[11] = a[11];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n\n  out[0] = a00 * c + a10 * s;\n  out[1] = a01 * c + a11 * s;\n  out[2] = a02 * c + a12 * s;\n  out[3] = a03 * c + a13 * s;\n  out[4] = a10 * c - a00 * s;\n  out[5] = a11 * c - a01 * s;\n  out[6] = a12 * c - a02 * s;\n  out[7] = a13 * c - a03 * s;\n  return out;\n}\n/**\n * Creates a matrix from a vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, dest, vec);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyVec3} v Translation vector\n * @returns {mat4} out\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a vector scaling\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.scale(dest, dest, vec);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyVec3} v Scaling vector\n * @returns {mat4} out\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = v[1];\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = v[2];\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a given angle around a given axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotate(dest, dest, rad, axis);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @param {ReadonlyVec3} axis the axis to rotate around\n * @returns {mat4} out\n */\n\nexport function fromRotation(out, rad, axis) {\n  var x = axis[0],\n      y = axis[1],\n      z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c; // Perform rotation-specific matrix multiplication\n\n  out[0] = x * x * t + c;\n  out[1] = y * x * t + z * s;\n  out[2] = z * x * t - y * s;\n  out[3] = 0;\n  out[4] = x * y * t - z * s;\n  out[5] = y * y * t + c;\n  out[6] = z * y * t + x * s;\n  out[7] = 0;\n  out[8] = x * z * t + y * s;\n  out[9] = y * z * t - x * s;\n  out[10] = z * z * t + c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the X axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateX(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function fromXRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = c;\n  out[6] = s;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = -s;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the Y axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateY(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function fromYRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = 0;\n  out[2] = -s;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = s;\n  out[9] = 0;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from the given angle around the Z axis\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.rotateZ(dest, dest, rad);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {Number} rad the angle to rotate the matrix by\n * @returns {mat4} out\n */\n\nexport function fromZRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -s;\n  out[5] = c;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation and vector translation\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @returns {mat4} out\n */\n\nexport function fromRotationTranslation(out, q, v) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - (yy + zz);\n  out[1] = xy + wz;\n  out[2] = xz - wy;\n  out[3] = 0;\n  out[4] = xy - wz;\n  out[5] = 1 - (xx + zz);\n  out[6] = yz + wx;\n  out[7] = 0;\n  out[8] = xz + wy;\n  out[9] = yz - wx;\n  out[10] = 1 - (xx + yy);\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a new mat4 from a dual quat.\n *\n * @param {mat4} out Matrix\n * @param {ReadonlyQuat2} a Dual Quaternion\n * @returns {mat4} mat4 receiving operation result\n */\n\nexport function fromQuat2(out, a) {\n  var translation = new glMatrix.ARRAY_TYPE(3);\n  var bx = -a[0],\n      by = -a[1],\n      bz = -a[2],\n      bw = a[3],\n      ax = a[4],\n      ay = a[5],\n      az = a[6],\n      aw = a[7];\n  var magnitude = bx * bx + by * by + bz * bz + bw * bw; //Only scale if it makes sense\n\n  if (magnitude > 0) {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2 / magnitude;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2 / magnitude;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2 / magnitude;\n  } else {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  }\n\n  fromRotationTranslation(out, a, translation);\n  return out;\n}\n/**\n * Returns the translation vector component of a transformation\n *  matrix. If a matrix is built with fromRotationTranslation,\n *  the returned vector will be the same as the translation vector\n *  originally supplied.\n * @param  {vec3} out Vector to receive translation component\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {vec3} out\n */\n\nexport function getTranslation(out, mat) {\n  out[0] = mat[12];\n  out[1] = mat[13];\n  out[2] = mat[14];\n  return out;\n}\n/**\n * Returns the scaling factor component of a transformation\n *  matrix. If a matrix is built with fromRotationTranslationScale\n *  with a normalized Quaternion paramter, the returned vector will be\n *  the same as the scaling vector\n *  originally supplied.\n * @param  {vec3} out Vector to receive scaling factor component\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {vec3} out\n */\n\nexport function getScaling(out, mat) {\n  var m11 = mat[0];\n  var m12 = mat[1];\n  var m13 = mat[2];\n  var m21 = mat[4];\n  var m22 = mat[5];\n  var m23 = mat[6];\n  var m31 = mat[8];\n  var m32 = mat[9];\n  var m33 = mat[10];\n  out[0] = Math.hypot(m11, m12, m13);\n  out[1] = Math.hypot(m21, m22, m23);\n  out[2] = Math.hypot(m31, m32, m33);\n  return out;\n}\n/**\n * Returns a quaternion representing the rotational component\n *  of a transformation matrix. If a matrix is built with\n *  fromRotationTranslation, the returned quaternion will be the\n *  same as the quaternion originally supplied.\n * @param {quat} out Quaternion to receive the rotation component\n * @param {ReadonlyMat4} mat Matrix to be decomposed (input)\n * @return {quat} out\n */\n\nexport function getRotation(out, mat) {\n  var scaling = new glMatrix.ARRAY_TYPE(3);\n  getScaling(scaling, mat);\n  var is1 = 1 / scaling[0];\n  var is2 = 1 / scaling[1];\n  var is3 = 1 / scaling[2];\n  var sm11 = mat[0] * is1;\n  var sm12 = mat[1] * is2;\n  var sm13 = mat[2] * is3;\n  var sm21 = mat[4] * is1;\n  var sm22 = mat[5] * is2;\n  var sm23 = mat[6] * is3;\n  var sm31 = mat[8] * is1;\n  var sm32 = mat[9] * is2;\n  var sm33 = mat[10] * is3;\n  var trace = sm11 + sm22 + sm33;\n  var S = 0;\n\n  if (trace > 0) {\n    S = Math.sqrt(trace + 1.0) * 2;\n    out[3] = 0.25 * S;\n    out[0] = (sm23 - sm32) / S;\n    out[1] = (sm31 - sm13) / S;\n    out[2] = (sm12 - sm21) / S;\n  } else if (sm11 > sm22 && sm11 > sm33) {\n    S = Math.sqrt(1.0 + sm11 - sm22 - sm33) * 2;\n    out[3] = (sm23 - sm32) / S;\n    out[0] = 0.25 * S;\n    out[1] = (sm12 + sm21) / S;\n    out[2] = (sm31 + sm13) / S;\n  } else if (sm22 > sm33) {\n    S = Math.sqrt(1.0 + sm22 - sm11 - sm33) * 2;\n    out[3] = (sm31 - sm13) / S;\n    out[0] = (sm12 + sm21) / S;\n    out[1] = 0.25 * S;\n    out[2] = (sm23 + sm32) / S;\n  } else {\n    S = Math.sqrt(1.0 + sm33 - sm11 - sm22) * 2;\n    out[3] = (sm12 - sm21) / S;\n    out[0] = (sm31 + sm13) / S;\n    out[1] = (sm23 + sm32) / S;\n    out[2] = 0.25 * S;\n  }\n\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation, vector translation and vector scale\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *     mat4.scale(dest, scale)\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @param {ReadonlyVec3} s Scaling vector\n * @returns {mat4} out\n */\n\nexport function fromRotationTranslationScale(out, q, v, s) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  out[0] = (1 - (yy + zz)) * sx;\n  out[1] = (xy + wz) * sx;\n  out[2] = (xz - wy) * sx;\n  out[3] = 0;\n  out[4] = (xy - wz) * sy;\n  out[5] = (1 - (xx + zz)) * sy;\n  out[6] = (yz + wx) * sy;\n  out[7] = 0;\n  out[8] = (xz + wy) * sz;\n  out[9] = (yz - wx) * sz;\n  out[10] = (1 - (xx + yy)) * sz;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\n * Creates a matrix from a quaternion rotation, vector translation and vector scale, rotating and scaling around the given origin\n * This is equivalent to (but much faster than):\n *\n *     mat4.identity(dest);\n *     mat4.translate(dest, vec);\n *     mat4.translate(dest, origin);\n *     let quatMat = mat4.create();\n *     quat4.toMat4(quat, quatMat);\n *     mat4.multiply(dest, quatMat);\n *     mat4.scale(dest, scale)\n *     mat4.translate(dest, negativeOrigin);\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {quat4} q Rotation quaternion\n * @param {ReadonlyVec3} v Translation vector\n * @param {ReadonlyVec3} s Scaling vector\n * @param {ReadonlyVec3} o The origin vector around which to scale and rotate\n * @returns {mat4} out\n */\n\nexport function fromRotationTranslationScaleOrigin(out, q, v, s, o) {\n  // Quaternion math\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  var ox = o[0];\n  var oy = o[1];\n  var oz = o[2];\n  var out0 = (1 - (yy + zz)) * sx;\n  var out1 = (xy + wz) * sx;\n  var out2 = (xz - wy) * sx;\n  var out4 = (xy - wz) * sy;\n  var out5 = (1 - (xx + zz)) * sy;\n  var out6 = (yz + wx) * sy;\n  var out8 = (xz + wy) * sz;\n  var out9 = (yz - wx) * sz;\n  var out10 = (1 - (xx + yy)) * sz;\n  out[0] = out0;\n  out[1] = out1;\n  out[2] = out2;\n  out[3] = 0;\n  out[4] = out4;\n  out[5] = out5;\n  out[6] = out6;\n  out[7] = 0;\n  out[8] = out8;\n  out[9] = out9;\n  out[10] = out10;\n  out[11] = 0;\n  out[12] = v[0] + ox - (out0 * ox + out4 * oy + out8 * oz);\n  out[13] = v[1] + oy - (out1 * ox + out5 * oy + out9 * oz);\n  out[14] = v[2] + oz - (out2 * ox + out6 * oy + out10 * oz);\n  out[15] = 1;\n  return out;\n}\n/**\n * Calculates a 4x4 matrix from the given quaternion\n *\n * @param {mat4} out mat4 receiving operation result\n * @param {ReadonlyQuat} q Quaternion to create matrix from\n *\n * @returns {mat4} out\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n      y = q[1],\n      z = q[2],\n      w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[1] = yx + wz;\n  out[2] = zx - wy;\n  out[3] = 0;\n  out[4] = yx - wz;\n  out[5] = 1 - xx - zz;\n  out[6] = zy + wx;\n  out[7] = 0;\n  out[8] = zx + wy;\n  out[9] = zy - wx;\n  out[10] = 1 - xx - yy;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a frustum matrix with the given bounds\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {Number} left Left bound of the frustum\n * @param {Number} right Right bound of the frustum\n * @param {Number} bottom Bottom bound of the frustum\n * @param {Number} top Top bound of the frustum\n * @param {Number} near Near bound of the frustum\n * @param {Number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function frustum(out, left, right, bottom, top, near, far) {\n  var rl = 1 / (right - left);\n  var tb = 1 / (top - bottom);\n  var nf = 1 / (near - far);\n  out[0] = near * 2 * rl;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = near * 2 * tb;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = (right + left) * rl;\n  out[9] = (top + bottom) * tb;\n  out[10] = (far + near) * nf;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = far * near * 2 * nf;\n  out[15] = 0;\n  return out;\n}\n/**\n * Generates a perspective projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [-1, 1],\n * which matches WebGL/OpenGL's clip volume.\n * Passing null/undefined/no value for far will generate infinite projection matrix.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} fovy Vertical field of view in radians\n * @param {number} aspect Aspect ratio. typically viewport width/height\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum, can be null or Infinity\n * @returns {mat4} out\n */\n\nexport function perspectiveNO(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = (far + near) * nf;\n    out[14] = 2 * far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -2 * near;\n  }\n\n  return out;\n}\n/**\n * Alias for {@link mat4.perspectiveNO}\n * @function\n */\n\nexport var perspective = perspectiveNO;\n/**\n * Generates a perspective projection matrix suitable for WebGPU with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [0, 1],\n * which matches WebGPU/Vulkan/DirectX/Metal's clip volume.\n * Passing null/undefined/no value for far will generate infinite projection matrix.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} fovy Vertical field of view in radians\n * @param {number} aspect Aspect ratio. typically viewport width/height\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum, can be null or Infinity\n * @returns {mat4} out\n */\n\nexport function perspectiveZO(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n      nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = far * nf;\n    out[14] = far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -near;\n  }\n\n  return out;\n}\n/**\n * Generates a perspective projection matrix with the given field of view.\n * This is primarily useful for generating projection matrices to be used\n * with the still experiemental WebVR API.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {Object} fov Object containing the following values: upDegrees, downDegrees, leftDegrees, rightDegrees\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function perspectiveFromFieldOfView(out, fov, near, far) {\n  var upTan = Math.tan(fov.upDegrees * Math.PI / 180.0);\n  var downTan = Math.tan(fov.downDegrees * Math.PI / 180.0);\n  var leftTan = Math.tan(fov.leftDegrees * Math.PI / 180.0);\n  var rightTan = Math.tan(fov.rightDegrees * Math.PI / 180.0);\n  var xScale = 2.0 / (leftTan + rightTan);\n  var yScale = 2.0 / (upTan + downTan);\n  out[0] = xScale;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  out[4] = 0.0;\n  out[5] = yScale;\n  out[6] = 0.0;\n  out[7] = 0.0;\n  out[8] = -((leftTan - rightTan) * xScale * 0.5);\n  out[9] = (upTan - downTan) * yScale * 0.5;\n  out[10] = far / (near - far);\n  out[11] = -1.0;\n  out[12] = 0.0;\n  out[13] = 0.0;\n  out[14] = far * near / (near - far);\n  out[15] = 0.0;\n  return out;\n}\n/**\n * Generates a orthogonal projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [-1, 1],\n * which matches WebGL/OpenGL's clip volume.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} left Left bound of the frustum\n * @param {number} right Right bound of the frustum\n * @param {number} bottom Bottom bound of the frustum\n * @param {number} top Top bound of the frustum\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function orthoNO(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 2 * nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = (far + near) * nf;\n  out[15] = 1;\n  return out;\n}\n/**\n * Alias for {@link mat4.orthoNO}\n * @function\n */\n\nexport var ortho = orthoNO;\n/**\n * Generates a orthogonal projection matrix with the given bounds.\n * The near/far clip planes correspond to a normalized device coordinate Z range of [0, 1],\n * which matches WebGPU/Vulkan/DirectX/Metal's clip volume.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {number} left Left bound of the frustum\n * @param {number} right Right bound of the frustum\n * @param {number} bottom Bottom bound of the frustum\n * @param {number} top Top bound of the frustum\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @returns {mat4} out\n */\n\nexport function orthoZO(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = near * nf;\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a look-at matrix with the given eye position, focal point, and up axis.\n * If you want a matrix that actually makes an object look at another object, you should use targetTo instead.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {ReadonlyVec3} eye Position of the viewer\n * @param {ReadonlyVec3} center Point the viewer is looking at\n * @param {ReadonlyVec3} up vec3 pointing up\n * @returns {mat4} out\n */\n\nexport function lookAt(out, eye, center, up) {\n  var x0, x1, x2, y0, y1, y2, z0, z1, z2, len;\n  var eyex = eye[0];\n  var eyey = eye[1];\n  var eyez = eye[2];\n  var upx = up[0];\n  var upy = up[1];\n  var upz = up[2];\n  var centerx = center[0];\n  var centery = center[1];\n  var centerz = center[2];\n\n  if (Math.abs(eyex - centerx) < glMatrix.EPSILON && Math.abs(eyey - centery) < glMatrix.EPSILON && Math.abs(eyez - centerz) < glMatrix.EPSILON) {\n    return identity(out);\n  }\n\n  z0 = eyex - centerx;\n  z1 = eyey - centery;\n  z2 = eyez - centerz;\n  len = 1 / Math.hypot(z0, z1, z2);\n  z0 *= len;\n  z1 *= len;\n  z2 *= len;\n  x0 = upy * z2 - upz * z1;\n  x1 = upz * z0 - upx * z2;\n  x2 = upx * z1 - upy * z0;\n  len = Math.hypot(x0, x1, x2);\n\n  if (!len) {\n    x0 = 0;\n    x1 = 0;\n    x2 = 0;\n  } else {\n    len = 1 / len;\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  y0 = z1 * x2 - z2 * x1;\n  y1 = z2 * x0 - z0 * x2;\n  y2 = z0 * x1 - z1 * x0;\n  len = Math.hypot(y0, y1, y2);\n\n  if (!len) {\n    y0 = 0;\n    y1 = 0;\n    y2 = 0;\n  } else {\n    len = 1 / len;\n    y0 *= len;\n    y1 *= len;\n    y2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = y0;\n  out[2] = z0;\n  out[3] = 0;\n  out[4] = x1;\n  out[5] = y1;\n  out[6] = z1;\n  out[7] = 0;\n  out[8] = x2;\n  out[9] = y2;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);\n  out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);\n  out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);\n  out[15] = 1;\n  return out;\n}\n/**\n * Generates a matrix that makes something look at something else.\n *\n * @param {mat4} out mat4 frustum matrix will be written into\n * @param {ReadonlyVec3} eye Position of the viewer\n * @param {ReadonlyVec3} center Point the viewer is looking at\n * @param {ReadonlyVec3} up vec3 pointing up\n * @returns {mat4} out\n */\n\nexport function targetTo(out, eye, target, up) {\n  var eyex = eye[0],\n      eyey = eye[1],\n      eyez = eye[2],\n      upx = up[0],\n      upy = up[1],\n      upz = up[2];\n  var z0 = eyex - target[0],\n      z1 = eyey - target[1],\n      z2 = eyez - target[2];\n  var len = z0 * z0 + z1 * z1 + z2 * z2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    z0 *= len;\n    z1 *= len;\n    z2 *= len;\n  }\n\n  var x0 = upy * z2 - upz * z1,\n      x1 = upz * z0 - upx * z2,\n      x2 = upx * z1 - upy * z0;\n  len = x0 * x0 + x1 * x1 + x2 * x2;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n\n  out[0] = x0;\n  out[1] = x1;\n  out[2] = x2;\n  out[3] = 0;\n  out[4] = z1 * x2 - z2 * x1;\n  out[5] = z2 * x0 - z0 * x2;\n  out[6] = z0 * x1 - z1 * x0;\n  out[7] = 0;\n  out[8] = z0;\n  out[9] = z1;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = eyex;\n  out[13] = eyey;\n  out[14] = eyez;\n  out[15] = 1;\n  return out;\n}\n/**\n * Returns a string representation of a mat4\n *\n * @param {ReadonlyMat4} a matrix to represent as a string\n * @returns {String} string representation of the matrix\n */\n\nexport function str(a) {\n  return \"mat4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \", \" + a[9] + \", \" + a[10] + \", \" + a[11] + \", \" + a[12] + \", \" + a[13] + \", \" + a[14] + \", \" + a[15] + \")\";\n}\n/**\n * Returns Frobenius norm of a mat4\n *\n * @param {ReadonlyMat4} a the matrix to calculate Frobenius norm of\n * @returns {Number} Frobenius norm\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15]);\n}\n/**\n * Adds two mat4's\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  out[9] = a[9] + b[9];\n  out[10] = a[10] + b[10];\n  out[11] = a[11] + b[11];\n  out[12] = a[12] + b[12];\n  out[13] = a[13] + b[13];\n  out[14] = a[14] + b[14];\n  out[15] = a[15] + b[15];\n  return out;\n}\n/**\n * Subtracts matrix b from matrix a\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @returns {mat4} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  out[9] = a[9] - b[9];\n  out[10] = a[10] - b[10];\n  out[11] = a[11] - b[11];\n  out[12] = a[12] - b[12];\n  out[13] = a[13] - b[13];\n  out[14] = a[14] - b[14];\n  out[15] = a[15] - b[15];\n  return out;\n}\n/**\n * Multiply each element of the matrix by a scalar.\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to scale\n * @param {Number} b amount to scale the matrix's elements by\n * @returns {mat4} out\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  out[9] = a[9] * b;\n  out[10] = a[10] * b;\n  out[11] = a[11] * b;\n  out[12] = a[12] * b;\n  out[13] = a[13] * b;\n  out[14] = a[14] * b;\n  out[15] = a[15] * b;\n  return out;\n}\n/**\n * Adds two mat4's after multiplying each element of the second operand by a scalar value.\n *\n * @param {mat4} out the receiving vector\n * @param {ReadonlyMat4} a the first operand\n * @param {ReadonlyMat4} b the second operand\n * @param {Number} scale the amount to scale b's elements by before adding\n * @returns {mat4} out\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  out[9] = a[9] + b[9] * scale;\n  out[10] = a[10] + b[10] * scale;\n  out[11] = a[11] + b[11] * scale;\n  out[12] = a[12] + b[12] * scale;\n  out[13] = a[13] + b[13] * scale;\n  out[14] = a[14] + b[14] * scale;\n  out[15] = a[15] + b[15] * scale;\n  return out;\n}\n/**\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyMat4} a The first matrix.\n * @param {ReadonlyMat4} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8] && a[9] === b[9] && a[10] === b[10] && a[11] === b[11] && a[12] === b[12] && a[13] === b[13] && a[14] === b[14] && a[15] === b[15];\n}\n/**\n * Returns whether or not the matrices have approximately the same elements in the same position.\n *\n * @param {ReadonlyMat4} a The first matrix.\n * @param {ReadonlyMat4} b The second matrix.\n * @returns {Boolean} True if the matrices are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var a4 = a[4],\n      a5 = a[5],\n      a6 = a[6],\n      a7 = a[7];\n  var a8 = a[8],\n      a9 = a[9],\n      a10 = a[10],\n      a11 = a[11];\n  var a12 = a[12],\n      a13 = a[13],\n      a14 = a[14],\n      a15 = a[15];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  var b4 = b[4],\n      b5 = b[5],\n      b6 = b[6],\n      b7 = b[7];\n  var b8 = b[8],\n      b9 = b[9],\n      b10 = b[10],\n      b11 = b[11];\n  var b12 = b[12],\n      b13 = b[13],\n      b14 = b[14],\n      b15 = b[15];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8)) && Math.abs(a9 - b9) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a9), Math.abs(b9)) && Math.abs(a10 - b10) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a10), Math.abs(b10)) && Math.abs(a11 - b11) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a11), Math.abs(b11)) && Math.abs(a12 - b12) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a12), Math.abs(b12)) && Math.abs(a13 - b13) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a13), Math.abs(b13)) && Math.abs(a14 - b14) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a14), Math.abs(b14)) && Math.abs(a15 - b15) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a15), Math.abs(b15));\n}\n/**\n * Alias for {@link mat4.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link mat4.subtract}\n * @function\n */\n\nexport var sub = subtract;", "import * as glMatrix from \"./common.js\";\nimport * as mat3 from \"./mat3.js\";\nimport * as vec3 from \"./vec3.js\";\nimport * as vec4 from \"./vec4.js\";\n/**\n * Quaternion\n * @module quat\n */\n\n/**\n * Creates a new identity quat\n *\n * @returns {quat} a new quaternion\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  out[3] = 1;\n  return out;\n}\n/**\n * Set a quat to the identity quaternion\n *\n * @param {quat} out the receiving quaternion\n * @returns {quat} out\n */\n\nexport function identity(out) {\n  out[0] = 0;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  return out;\n}\n/**\n * Sets a quat from the given angle and rotation axis,\n * then returns it.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyVec3} axis the axis around which to rotate\n * @param {Number} rad the angle in radians\n * @returns {quat} out\n **/\n\nexport function setAxisAngle(out, axis, rad) {\n  rad = rad * 0.5;\n  var s = Math.sin(rad);\n  out[0] = s * axis[0];\n  out[1] = s * axis[1];\n  out[2] = s * axis[2];\n  out[3] = Math.cos(rad);\n  return out;\n}\n/**\n * Gets the rotation axis and angle for a given\n *  quaternion. If a quaternion is created with\n *  setAxisAngle, this method will return the same\n *  values as providied in the original parameter list\n *  OR functionally equivalent values.\n * Example: The quaternion formed by axis [0, 0, 1] and\n *  angle -90 is the same as the quaternion formed by\n *  [0, 0, 1] and 270. This method favors the latter.\n * @param  {vec3} out_axis  Vector receiving the axis of rotation\n * @param  {ReadonlyQuat} q     Quaternion to be decomposed\n * @return {Number}     Angle, in radians, of the rotation\n */\n\nexport function getAxisAngle(out_axis, q) {\n  var rad = Math.acos(q[3]) * 2.0;\n  var s = Math.sin(rad / 2.0);\n\n  if (s > glMatrix.EPSILON) {\n    out_axis[0] = q[0] / s;\n    out_axis[1] = q[1] / s;\n    out_axis[2] = q[2] / s;\n  } else {\n    // If s is zero, return any axis (no rotation - axis does not matter)\n    out_axis[0] = 1;\n    out_axis[1] = 0;\n    out_axis[2] = 0;\n  }\n\n  return rad;\n}\n/**\n * Gets the angular distance between two unit quaternions\n *\n * @param  {ReadonlyQuat} a     Origin unit quaternion\n * @param  {ReadonlyQuat} b     Destination unit quaternion\n * @return {Number}     Angle, in radians, between the two quaternions\n */\n\nexport function getAngle(a, b) {\n  var dotproduct = dot(a, b);\n  return Math.acos(2 * dotproduct * dotproduct - 1);\n}\n/**\n * Multiplies two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @returns {quat} out\n */\n\nexport function multiply(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2],\n      bw = b[3];\n  out[0] = ax * bw + aw * bx + ay * bz - az * by;\n  out[1] = ay * bw + aw * by + az * bx - ax * bz;\n  out[2] = az * bw + aw * bz + ax * by - ay * bx;\n  out[3] = aw * bw - ax * bx - ay * by - az * bz;\n  return out;\n}\n/**\n * Rotates a quaternion by the given angle about the X axis\n *\n * @param {quat} out quat receiving operation result\n * @param {ReadonlyQuat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\n\nexport function rotateX(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw + aw * bx;\n  out[1] = ay * bw + az * bx;\n  out[2] = az * bw - ay * bx;\n  out[3] = aw * bw - ax * bx;\n  return out;\n}\n/**\n * Rotates a quaternion by the given angle about the Y axis\n *\n * @param {quat} out quat receiving operation result\n * @param {ReadonlyQuat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\n\nexport function rotateY(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var by = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw - az * by;\n  out[1] = ay * bw + aw * by;\n  out[2] = az * bw + ax * by;\n  out[3] = aw * bw - ay * by;\n  return out;\n}\n/**\n * Rotates a quaternion by the given angle about the Z axis\n *\n * @param {quat} out quat receiving operation result\n * @param {ReadonlyQuat} a quat to rotate\n * @param {number} rad angle (in radians) to rotate\n * @returns {quat} out\n */\n\nexport function rotateZ(out, a, rad) {\n  rad *= 0.5;\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bz = Math.sin(rad),\n      bw = Math.cos(rad);\n  out[0] = ax * bw + ay * bz;\n  out[1] = ay * bw - ax * bz;\n  out[2] = az * bw + aw * bz;\n  out[3] = aw * bw - az * bz;\n  return out;\n}\n/**\n * Calculates the W component of a quat from the X, Y, and Z components.\n * Assumes that quaternion is 1 unit in length.\n * Any existing W component will be ignored.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate W component of\n * @returns {quat} out\n */\n\nexport function calculateW(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = Math.sqrt(Math.abs(1.0 - x * x - y * y - z * z));\n  return out;\n}\n/**\n * Calculate the exponential of a unit quaternion.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate the exponential of\n * @returns {quat} out\n */\n\nexport function exp(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  var r = Math.sqrt(x * x + y * y + z * z);\n  var et = Math.exp(w);\n  var s = r > 0 ? et * Math.sin(r) / r : 0;\n  out[0] = x * s;\n  out[1] = y * s;\n  out[2] = z * s;\n  out[3] = et * Math.cos(r);\n  return out;\n}\n/**\n * Calculate the natural logarithm of a unit quaternion.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate the exponential of\n * @returns {quat} out\n */\n\nexport function ln(out, a) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  var r = Math.sqrt(x * x + y * y + z * z);\n  var t = r > 0 ? Math.atan2(r, w) / r : 0;\n  out[0] = x * t;\n  out[1] = y * t;\n  out[2] = z * t;\n  out[3] = 0.5 * Math.log(x * x + y * y + z * z + w * w);\n  return out;\n}\n/**\n * Calculate the scalar power of a unit quaternion.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate the exponential of\n * @param {Number} b amount to scale the quaternion by\n * @returns {quat} out\n */\n\nexport function pow(out, a, b) {\n  ln(out, a);\n  scale(out, out, b);\n  exp(out, out);\n  return out;\n}\n/**\n * Performs a spherical linear interpolation between two quat\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {quat} out\n */\n\nexport function slerp(out, a, b, t) {\n  // benchmarks:\n  //    http://jsperf.com/quaternion-slerp-implementations\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      aw = a[3];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2],\n      bw = b[3];\n  var omega, cosom, sinom, scale0, scale1; // calc cosine\n\n  cosom = ax * bx + ay * by + az * bz + aw * bw; // adjust signs (if necessary)\n\n  if (cosom < 0.0) {\n    cosom = -cosom;\n    bx = -bx;\n    by = -by;\n    bz = -bz;\n    bw = -bw;\n  } // calculate coefficients\n\n\n  if (1.0 - cosom > glMatrix.EPSILON) {\n    // standard case (slerp)\n    omega = Math.acos(cosom);\n    sinom = Math.sin(omega);\n    scale0 = Math.sin((1.0 - t) * omega) / sinom;\n    scale1 = Math.sin(t * omega) / sinom;\n  } else {\n    // \"from\" and \"to\" quaternions are very close\n    //  ... so we can do a linear interpolation\n    scale0 = 1.0 - t;\n    scale1 = t;\n  } // calculate final values\n\n\n  out[0] = scale0 * ax + scale1 * bx;\n  out[1] = scale0 * ay + scale1 * by;\n  out[2] = scale0 * az + scale1 * bz;\n  out[3] = scale0 * aw + scale1 * bw;\n  return out;\n}\n/**\n * Generates a random unit quaternion\n *\n * @param {quat} out the receiving quaternion\n * @returns {quat} out\n */\n\nexport function random(out) {\n  // Implementation of http://planning.cs.uiuc.edu/node198.html\n  // TODO: Calling random 3 times is probably not the fastest solution\n  var u1 = glMatrix.RANDOM();\n  var u2 = glMatrix.RANDOM();\n  var u3 = glMatrix.RANDOM();\n  var sqrt1MinusU1 = Math.sqrt(1 - u1);\n  var sqrtU1 = Math.sqrt(u1);\n  out[0] = sqrt1MinusU1 * Math.sin(2.0 * Math.PI * u2);\n  out[1] = sqrt1MinusU1 * Math.cos(2.0 * Math.PI * u2);\n  out[2] = sqrtU1 * Math.sin(2.0 * Math.PI * u3);\n  out[3] = sqrtU1 * Math.cos(2.0 * Math.PI * u3);\n  return out;\n}\n/**\n * Calculates the inverse of a quat\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate inverse of\n * @returns {quat} out\n */\n\nexport function invert(out, a) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var dot = a0 * a0 + a1 * a1 + a2 * a2 + a3 * a3;\n  var invDot = dot ? 1.0 / dot : 0; // TODO: Would be faster to return [0,0,0,0] immediately if dot == 0\n\n  out[0] = -a0 * invDot;\n  out[1] = -a1 * invDot;\n  out[2] = -a2 * invDot;\n  out[3] = a3 * invDot;\n  return out;\n}\n/**\n * Calculates the conjugate of a quat\n * If the quaternion is normalized, this function is faster than quat.inverse and produces the same result.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quat to calculate conjugate of\n * @returns {quat} out\n */\n\nexport function conjugate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Creates a quaternion from the given 3x3 rotation matrix.\n *\n * NOTE: The resultant quaternion is not normalized, so you should be sure\n * to renormalize the quaternion yourself where necessary.\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyMat3} m rotation matrix\n * @returns {quat} out\n * @function\n */\n\nexport function fromMat3(out, m) {\n  // Algorithm in Ken Shoemake's article in 1987 SIGGRAPH course notes\n  // article \"Quaternion Calculus and Fast Animation\".\n  var fTrace = m[0] + m[4] + m[8];\n  var fRoot;\n\n  if (fTrace > 0.0) {\n    // |w| > 1/2, may as well choose w > 1/2\n    fRoot = Math.sqrt(fTrace + 1.0); // 2w\n\n    out[3] = 0.5 * fRoot;\n    fRoot = 0.5 / fRoot; // 1/(4w)\n\n    out[0] = (m[5] - m[7]) * fRoot;\n    out[1] = (m[6] - m[2]) * fRoot;\n    out[2] = (m[1] - m[3]) * fRoot;\n  } else {\n    // |w| <= 1/2\n    var i = 0;\n    if (m[4] > m[0]) i = 1;\n    if (m[8] > m[i * 3 + i]) i = 2;\n    var j = (i + 1) % 3;\n    var k = (i + 2) % 3;\n    fRoot = Math.sqrt(m[i * 3 + i] - m[j * 3 + j] - m[k * 3 + k] + 1.0);\n    out[i] = 0.5 * fRoot;\n    fRoot = 0.5 / fRoot;\n    out[3] = (m[j * 3 + k] - m[k * 3 + j]) * fRoot;\n    out[j] = (m[j * 3 + i] + m[i * 3 + j]) * fRoot;\n    out[k] = (m[k * 3 + i] + m[i * 3 + k]) * fRoot;\n  }\n\n  return out;\n}\n/**\n * Creates a quaternion from the given euler angle x, y, z.\n *\n * @param {quat} out the receiving quaternion\n * @param {x} Angle to rotate around X axis in degrees.\n * @param {y} Angle to rotate around Y axis in degrees.\n * @param {z} Angle to rotate around Z axis in degrees.\n * @returns {quat} out\n * @function\n */\n\nexport function fromEuler(out, x, y, z) {\n  var halfToRad = 0.5 * Math.PI / 180.0;\n  x *= halfToRad;\n  y *= halfToRad;\n  z *= halfToRad;\n  var sx = Math.sin(x);\n  var cx = Math.cos(x);\n  var sy = Math.sin(y);\n  var cy = Math.cos(y);\n  var sz = Math.sin(z);\n  var cz = Math.cos(z);\n  out[0] = sx * cy * cz - cx * sy * sz;\n  out[1] = cx * sy * cz + sx * cy * sz;\n  out[2] = cx * cy * sz - sx * sy * cz;\n  out[3] = cx * cy * cz + sx * sy * sz;\n  return out;\n}\n/**\n * Returns a string representation of a quatenion\n *\n * @param {ReadonlyQuat} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"quat(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n/**\n * Creates a new quat initialized with values from an existing quaternion\n *\n * @param {ReadonlyQuat} a quaternion to clone\n * @returns {quat} a new quaternion\n * @function\n */\n\nexport var clone = vec4.clone;\n/**\n * Creates a new quat initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {quat} a new quaternion\n * @function\n */\n\nexport var fromValues = vec4.fromValues;\n/**\n * Copy the values from one quat to another\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the source quaternion\n * @returns {quat} out\n * @function\n */\n\nexport var copy = vec4.copy;\n/**\n * Set the components of a quat to the given values\n *\n * @param {quat} out the receiving quaternion\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {quat} out\n * @function\n */\n\nexport var set = vec4.set;\n/**\n * Adds two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @returns {quat} out\n * @function\n */\n\nexport var add = vec4.add;\n/**\n * Alias for {@link quat.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Scales a quat by a scalar number\n *\n * @param {quat} out the receiving vector\n * @param {ReadonlyQuat} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {quat} out\n * @function\n */\n\nexport var scale = vec4.scale;\n/**\n * Calculates the dot product of two quat's\n *\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @returns {Number} dot product of a and b\n * @function\n */\n\nexport var dot = vec4.dot;\n/**\n * Performs a linear interpolation between two quat's\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {quat} out\n * @function\n */\n\nexport var lerp = vec4.lerp;\n/**\n * Calculates the length of a quat\n *\n * @param {ReadonlyQuat} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport var length = vec4.length;\n/**\n * Alias for {@link quat.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Calculates the squared length of a quat\n *\n * @param {ReadonlyQuat} a vector to calculate squared length of\n * @returns {Number} squared length of a\n * @function\n */\n\nexport var squaredLength = vec4.squaredLength;\n/**\n * Alias for {@link quat.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Normalize a quat\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a quaternion to normalize\n * @returns {quat} out\n * @function\n */\n\nexport var normalize = vec4.normalize;\n/**\n * Returns whether or not the quaternions have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyQuat} a The first quaternion.\n * @param {ReadonlyQuat} b The second quaternion.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport var exactEquals = vec4.exactEquals;\n/**\n * Returns whether or not the quaternions have approximately the same elements in the same position.\n *\n * @param {ReadonlyQuat} a The first vector.\n * @param {ReadonlyQuat} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport var equals = vec4.equals;\n/**\n * Sets a quaternion to represent the shortest rotation from one\n * vector to another.\n *\n * Both vectors are assumed to be unit length.\n *\n * @param {quat} out the receiving quaternion.\n * @param {ReadonlyVec3} a the initial vector\n * @param {ReadonlyVec3} b the destination vector\n * @returns {quat} out\n */\n\nexport var rotationTo = function () {\n  var tmpvec3 = vec3.create();\n  var xUnitVec3 = vec3.fromValues(1, 0, 0);\n  var yUnitVec3 = vec3.fromValues(0, 1, 0);\n  return function (out, a, b) {\n    var dot = vec3.dot(a, b);\n\n    if (dot < -0.999999) {\n      vec3.cross(tmpvec3, xUnitVec3, a);\n      if (vec3.len(tmpvec3) < 0.000001) vec3.cross(tmpvec3, yUnitVec3, a);\n      vec3.normalize(tmpvec3, tmpvec3);\n      setAxisAngle(out, tmpvec3, Math.PI);\n      return out;\n    } else if (dot > 0.999999) {\n      out[0] = 0;\n      out[1] = 0;\n      out[2] = 0;\n      out[3] = 1;\n      return out;\n    } else {\n      vec3.cross(tmpvec3, a, b);\n      out[0] = tmpvec3[0];\n      out[1] = tmpvec3[1];\n      out[2] = tmpvec3[2];\n      out[3] = 1 + dot;\n      return normalize(out, out);\n    }\n  };\n}();\n/**\n * Performs a spherical linear interpolation with two control points\n *\n * @param {quat} out the receiving quaternion\n * @param {ReadonlyQuat} a the first operand\n * @param {ReadonlyQuat} b the second operand\n * @param {ReadonlyQuat} c the third operand\n * @param {ReadonlyQuat} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {quat} out\n */\n\nexport var sqlerp = function () {\n  var temp1 = create();\n  var temp2 = create();\n  return function (out, a, b, c, d, t) {\n    slerp(temp1, a, d, t);\n    slerp(temp2, b, c, t);\n    slerp(out, temp1, temp2, 2 * t * (1 - t));\n    return out;\n  };\n}();\n/**\n * Sets the specified quaternion with values corresponding to the given\n * axes. Each axis is a vec3 and is expected to be unit length and\n * perpendicular to all other specified axes.\n *\n * @param {ReadonlyVec3} view  the vector representing the viewing direction\n * @param {ReadonlyVec3} right the vector representing the local \"right\" direction\n * @param {ReadonlyVec3} up    the vector representing the local \"up\" direction\n * @returns {quat} out\n */\n\nexport var setAxes = function () {\n  var matr = mat3.create();\n  return function (out, view, right, up) {\n    matr[0] = right[0];\n    matr[3] = right[1];\n    matr[6] = right[2];\n    matr[1] = up[0];\n    matr[4] = up[1];\n    matr[7] = up[2];\n    matr[2] = -view[0];\n    matr[5] = -view[1];\n    matr[8] = -view[2];\n    return normalize(out, fromMat3(out, matr));\n  };\n}();", "import * as glMatrix from \"./common.js\";\n/**\n * 3 Dimensional Vector\n * @module vec3\n */\n\n/**\n * Creates a new, empty vec3\n *\n * @returns {vec3} a new 3D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec3 initialized with values from an existing vector\n *\n * @param {ReadonlyVec3} a vector to clone\n * @returns {vec3} a new 3D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Calculates the length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Creates a new vec3 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} a new 3D vector\n */\n\nexport function fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Copy the values from one vec3 to another\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the source vector\n * @returns {vec3} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\n * Set the components of a vec3 to the given values\n *\n * @param {vec3} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @returns {vec3} out\n */\n\nexport function set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\n * Adds two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\n * Multiplies two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\n * Divides two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\n * Math.ceil the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to ceil\n * @returns {vec3} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\n * Math.floor the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to floor\n * @returns {vec3} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\n * Returns the minimum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\n * Returns the maximum of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\n * Math.round the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to round\n * @returns {vec3} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\n * Scales a vec3 by a scalar number\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec3} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\n * Adds two vec3's after scaling the second operand by a scalar value\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec3} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.hypot(x, y, z);\n}\n/**\n * Calculates the squared euclidian distance between two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Calculates the squared length of a vec3\n *\n * @param {ReadonlyVec3} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\n * Negates the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to negate\n * @returns {vec3} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to invert\n * @returns {vec3} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\n * Normalize a vec3\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a vector to normalize\n * @returns {vec3} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec3's\n *\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\n * Computes the cross product of two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @returns {vec3} out\n */\n\nexport function cross(out, a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2];\n  var bx = b[0],\n      by = b[1],\n      bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec3's\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\n * Performs a hermite interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Performs a bezier interpolation with two control points\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the first operand\n * @param {ReadonlyVec3} b the second operand\n * @param {ReadonlyVec3} c the third operand\n * @param {ReadonlyVec3} d the fourth operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec3} out\n */\n\nexport function bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec3} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec3} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat4.\n * 4th vector component is implicitly '1'\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\n * Transforms the vec3 with a mat3.\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyMat3} m the 3x3 matrix to transform with\n * @returns {vec3} out\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\n * Transforms the vec3 with a quat\n * Can also be used for dual quaternions. (Multiply it with the real part)\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec3} a the vector to transform\n * @param {ReadonlyQuat} q quaternion to transform with\n * @returns {vec3} out\n */\n\nexport function transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3];\n  var x = a[0],\n      y = a[1],\n      z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n      uvy = qz * x - qx * z,\n      uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n      uuvy = qz * uvx - qx * uvz,\n      uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\n * Rotate a 3D vector around the x-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateX(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);\n  r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the y-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateY(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Rotate a 3D vector around the z-axis\n * @param {vec3} out The receiving vec3\n * @param {ReadonlyVec3} a The vec3 point to rotate\n * @param {ReadonlyVec3} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec3} out\n */\n\nexport function rotateZ(out, a, b, rad) {\n  var p = [],\n      r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);\n  r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\n * Get the angle between two 3D vectors\n * @param {ReadonlyVec3} a The first operand\n * @param {ReadonlyVec3} b The second operand\n * @returns {Number} The angle in radians\n */\n\nexport function angle(a, b) {\n  var ax = a[0],\n      ay = a[1],\n      az = a[2],\n      bx = b[0],\n      by = b[1],\n      bz = b[2],\n      mag1 = Math.sqrt(ax * ax + ay * ay + az * az),\n      mag2 = Math.sqrt(bx * bx + by * by + bz * bz),\n      mag = mag1 * mag2,\n      cosine = mag && dot(a, b) / mag;\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec3 to zero\n *\n * @param {vec3} out the receiving vector\n * @returns {vec3} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec3} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \")\";\n}\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec3} a The first vector.\n * @param {ReadonlyVec3} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\n * Alias for {@link vec3.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec3.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec3.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec3.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec3.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec3.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec3.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec3s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 3;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n\n    return a;\n  };\n}();", "import * as glMatrix from \"./common.js\";\n/**\n * 4 Dimensional Vector\n * @module vec4\n */\n\n/**\n * Creates a new, empty vec4\n *\n * @returns {vec4} a new 4D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec4 initialized with values from an existing vector\n *\n * @param {ReadonlyVec4} a vector to clone\n * @returns {vec4} a new 4D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Creates a new vec4 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {vec4} a new 4D vector\n */\n\nexport function fromValues(x, y, z, w) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\n * Copy the values from one vec4 to another\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the source vector\n * @returns {vec4} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\n * Set the components of a vec4 to the given values\n *\n * @param {vec4} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @param {Number} z Z component\n * @param {Number} w W component\n * @returns {vec4} out\n */\n\nexport function set(out, x, y, z, w) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\n * Adds two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  return out;\n}\n/**\n * Multiplies two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  out[3] = a[3] * b[3];\n  return out;\n}\n/**\n * Divides two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  out[3] = a[3] / b[3];\n  return out;\n}\n/**\n * Math.ceil the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to ceil\n * @returns {vec4} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  out[3] = Math.ceil(a[3]);\n  return out;\n}\n/**\n * Math.floor the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to floor\n * @returns {vec4} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  out[3] = Math.floor(a[3]);\n  return out;\n}\n/**\n * Returns the minimum of two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  out[3] = Math.min(a[3], b[3]);\n  return out;\n}\n/**\n * Returns the maximum of two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {vec4} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  out[3] = Math.max(a[3], b[3]);\n  return out;\n}\n/**\n * Math.round the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to round\n * @returns {vec4} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  out[3] = Math.round(a[3]);\n  return out;\n}\n/**\n * Scales a vec4 by a scalar number\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec4} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  return out;\n}\n/**\n * Adds two vec4's after scaling the second operand by a scalar value\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec4} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec4's\n *\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\n * Calculates the squared euclidian distance between two vec4's\n *\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\n * Calculates the length of a vec4\n *\n * @param {ReadonlyVec4} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\n * Calculates the squared length of a vec4\n *\n * @param {ReadonlyVec4} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\n * Negates the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to negate\n * @returns {vec4} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = -a[3];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to invert\n * @returns {vec4} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  out[3] = 1.0 / a[3];\n  return out;\n}\n/**\n * Normalize a vec4\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a vector to normalize\n * @returns {vec4} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  var len = x * x + y * y + z * z + w * w;\n\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = x * len;\n  out[1] = y * len;\n  out[2] = z * len;\n  out[3] = w * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec4's\n *\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];\n}\n/**\n * Returns the cross-product of three vectors in a 4-dimensional space\n *\n * @param {ReadonlyVec4} result the receiving vector\n * @param {ReadonlyVec4} U the first vector\n * @param {ReadonlyVec4} V the second vector\n * @param {ReadonlyVec4} W the third vector\n * @returns {vec4} result\n */\n\nexport function cross(out, u, v, w) {\n  var A = v[0] * w[1] - v[1] * w[0],\n      B = v[0] * w[2] - v[2] * w[0],\n      C = v[0] * w[3] - v[3] * w[0],\n      D = v[1] * w[2] - v[2] * w[1],\n      E = v[1] * w[3] - v[3] * w[1],\n      F = v[2] * w[3] - v[3] * w[2];\n  var G = u[0];\n  var H = u[1];\n  var I = u[2];\n  var J = u[3];\n  out[0] = H * F - I * E + J * D;\n  out[1] = -(G * F) + I * C - J * B;\n  out[2] = G * E - H * C + J * A;\n  out[3] = -(G * D) + H * B - I * A;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec4's\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the first operand\n * @param {ReadonlyVec4} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec4} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  var aw = a[3];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  out[3] = aw + t * (b[3] - aw);\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec4} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec4} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0; // Marsaglia, George. Choosing a Point from the Surface of a\n  // Sphere. Ann. Math. Statist. 43 (1972), no. 2, 645--646.\n  // http://projecteuclid.org/euclid.aoms/1177692644;\n\n  var v1, v2, v3, v4;\n  var s1, s2;\n\n  do {\n    v1 = glMatrix.RANDOM() * 2 - 1;\n    v2 = glMatrix.RANDOM() * 2 - 1;\n    s1 = v1 * v1 + v2 * v2;\n  } while (s1 >= 1);\n\n  do {\n    v3 = glMatrix.RANDOM() * 2 - 1;\n    v4 = glMatrix.RANDOM() * 2 - 1;\n    s2 = v3 * v3 + v4 * v4;\n  } while (s2 >= 1);\n\n  var d = Math.sqrt((1 - s1) / s2);\n  out[0] = scale * v1;\n  out[1] = scale * v2;\n  out[2] = scale * v3 * d;\n  out[3] = scale * v4 * d;\n  return out;\n}\n/**\n * Transforms the vec4 with a mat4.\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec4} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n      y = a[1],\n      z = a[2],\n      w = a[3];\n  out[0] = m[0] * x + m[4] * y + m[8] * z + m[12] * w;\n  out[1] = m[1] * x + m[5] * y + m[9] * z + m[13] * w;\n  out[2] = m[2] * x + m[6] * y + m[10] * z + m[14] * w;\n  out[3] = m[3] * x + m[7] * y + m[11] * z + m[15] * w;\n  return out;\n}\n/**\n * Transforms the vec4 with a quat\n *\n * @param {vec4} out the receiving vector\n * @param {ReadonlyVec4} a the vector to transform\n * @param {ReadonlyQuat} q quaternion to transform with\n * @returns {vec4} out\n */\n\nexport function transformQuat(out, a, q) {\n  var x = a[0],\n      y = a[1],\n      z = a[2];\n  var qx = q[0],\n      qy = q[1],\n      qz = q[2],\n      qw = q[3]; // calculate quat * vec\n\n  var ix = qw * x + qy * z - qz * y;\n  var iy = qw * y + qz * x - qx * z;\n  var iz = qw * z + qx * y - qy * x;\n  var iw = -qx * x - qy * y - qz * z; // calculate result * inverse quat\n\n  out[0] = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n  out[1] = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n  out[2] = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n  out[3] = a[3];\n  return out;\n}\n/**\n * Set the components of a vec4 to zero\n *\n * @param {vec4} out the receiving vector\n * @returns {vec4} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec4} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n/**\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec4} a The first vector.\n * @param {ReadonlyVec4} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec4} a The first vector.\n * @param {ReadonlyVec4} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1],\n      a2 = a[2],\n      a3 = a[3];\n  var b0 = b[0],\n      b1 = b[1],\n      b2 = b[2],\n      b3 = b[3];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3));\n}\n/**\n * Alias for {@link vec4.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec4.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec4.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec4.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec4.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec4.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec4.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec4s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec4. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec4s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 4;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      vec[3] = a[i + 3];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n      a[i + 3] = vec[3];\n    }\n\n    return a;\n  };\n}();", "import * as glMatrix from \"./common.js\";\n/**\n * 2 Dimensional Vector\n * @module vec2\n */\n\n/**\n * Creates a new, empty vec2\n *\n * @returns {vec2} a new 2D vector\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(2);\n\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n  }\n\n  return out;\n}\n/**\n * Creates a new vec2 initialized with values from an existing vector\n *\n * @param {ReadonlyVec2} a vector to clone\n * @returns {vec2} a new 2D vector\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Creates a new vec2 initialized with the given values\n *\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} a new 2D vector\n */\n\nexport function fromValues(x, y) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Copy the values from one vec2 to another\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the source vector\n * @returns {vec2} out\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\n * Set the components of a vec2 to the given values\n *\n * @param {vec2} out the receiving vector\n * @param {Number} x X component\n * @param {Number} y Y component\n * @returns {vec2} out\n */\n\nexport function set(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * Adds two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n/**\n * Subtracts vector b from vector a\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n/**\n * Multiplies two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n/**\n * Divides two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n/**\n * Math.ceil the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to ceil\n * @returns {vec2} out\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n}\n/**\n * Math.floor the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to floor\n * @returns {vec2} out\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n}\n/**\n * Returns the minimum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n}\n/**\n * Returns the maximum of two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec2} out\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n}\n/**\n * Math.round the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to round\n * @returns {vec2} out\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n}\n/**\n * Scales a vec2 by a scalar number\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to scale\n * @param {Number} b amount to scale the vector by\n * @returns {vec2} out\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n}\n/**\n * Adds two vec2's after scaling the second operand by a scalar value\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @param {Number} scale the amount to scale b by before adding\n * @returns {vec2} out\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  return out;\n}\n/**\n * Calculates the euclidian distance between two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} distance between a and b\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return Math.hypot(x, y);\n}\n/**\n * Calculates the squared euclidian distance between two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} squared distance between a and b\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0],\n      y = b[1] - a[1];\n  return x * x + y * y;\n}\n/**\n * Calculates the length of a vec2\n *\n * @param {ReadonlyVec2} a vector to calculate length of\n * @returns {Number} length of a\n */\n\nexport function length(a) {\n  var x = a[0],\n      y = a[1];\n  return Math.hypot(x, y);\n}\n/**\n * Calculates the squared length of a vec2\n *\n * @param {ReadonlyVec2} a vector to calculate squared length of\n * @returns {Number} squared length of a\n */\n\nexport function squaredLength(a) {\n  var x = a[0],\n      y = a[1];\n  return x * x + y * y;\n}\n/**\n * Negates the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to negate\n * @returns {vec2} out\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n}\n/**\n * Returns the inverse of the components of a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to invert\n * @returns {vec2} out\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n}\n/**\n * Normalize a vec2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a vector to normalize\n * @returns {vec2} out\n */\n\nexport function normalize(out, a) {\n  var x = a[0],\n      y = a[1];\n  var len = x * x + y * y;\n\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  return out;\n}\n/**\n * Calculates the dot product of two vec2's\n *\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {Number} dot product of a and b\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n/**\n * Computes the cross product of two vec2's\n * Note that the cross product must by definition produce a 3D vector\n *\n * @param {vec3} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @returns {vec3} out\n */\n\nexport function cross(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n}\n/**\n * Performs a linear interpolation between two vec2's\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the first operand\n * @param {ReadonlyVec2} b the second operand\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\n * @returns {vec2} out\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0],\n      ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n}\n/**\n * Generates a random vector with the given scale\n *\n * @param {vec2} out the receiving vector\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\n * @returns {vec2} out\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat2} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat2(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n}\n/**\n * Transforms the vec2 with a mat2d\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat2d} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat2d(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat3\n * 3rd vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat3} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n      y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n}\n/**\n * Transforms the vec2 with a mat4\n * 3rd vector component is implicitly '0'\n * 4th vector component is implicitly '1'\n *\n * @param {vec2} out the receiving vector\n * @param {ReadonlyVec2} a the vector to transform\n * @param {ReadonlyMat4} m matrix to transform with\n * @returns {vec2} out\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n/**\n * Rotate a 2D vector\n * @param {vec2} out The receiving vec2\n * @param {ReadonlyVec2} a The vec2 point to rotate\n * @param {ReadonlyVec2} b The origin of the rotation\n * @param {Number} rad The angle of rotation in radians\n * @returns {vec2} out\n */\n\nexport function rotate(out, a, b, rad) {\n  //Translate point to the origin\n  var p0 = a[0] - b[0],\n      p1 = a[1] - b[1],\n      sinC = Math.sin(rad),\n      cosC = Math.cos(rad); //perform rotation and translate to correct position\n\n  out[0] = p0 * cosC - p1 * sinC + b[0];\n  out[1] = p0 * sinC + p1 * cosC + b[1];\n  return out;\n}\n/**\n * Get the angle between two 2D vectors\n * @param {ReadonlyVec2} a The first operand\n * @param {ReadonlyVec2} b The second operand\n * @returns {Number} The angle in radians\n */\n\nexport function angle(a, b) {\n  var x1 = a[0],\n      y1 = a[1],\n      x2 = b[0],\n      y2 = b[1],\n      // mag is the product of the magnitudes of a and b\n  mag = Math.sqrt(x1 * x1 + y1 * y1) * Math.sqrt(x2 * x2 + y2 * y2),\n      // mag &&.. short circuits if mag == 0\n  cosine = mag && (x1 * x2 + y1 * y2) / mag; // Math.min(Math.max(cosine, -1), 1) clamps the cosine between -1 and 1\n\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\n * Set the components of a vec2 to zero\n *\n * @param {vec2} out the receiving vector\n * @returns {vec2} out\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  return out;\n}\n/**\n * Returns a string representation of a vector\n *\n * @param {ReadonlyVec2} a vector to represent as a string\n * @returns {String} string representation of the vector\n */\n\nexport function str(a) {\n  return \"vec2(\" + a[0] + \", \" + a[1] + \")\";\n}\n/**\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\n *\n * @param {ReadonlyVec2} a The first vector.\n * @param {ReadonlyVec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n/**\n * Returns whether or not the vectors have approximately the same elements in the same position.\n *\n * @param {ReadonlyVec2} a The first vector.\n * @param {ReadonlyVec2} b The second vector.\n * @returns {Boolean} True if the vectors are equal, false otherwise.\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n      a1 = a[1];\n  var b0 = b[0],\n      b1 = b[1];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n/**\n * Alias for {@link vec2.length}\n * @function\n */\n\nexport var len = length;\n/**\n * Alias for {@link vec2.subtract}\n * @function\n */\n\nexport var sub = subtract;\n/**\n * Alias for {@link vec2.multiply}\n * @function\n */\n\nexport var mul = multiply;\n/**\n * Alias for {@link vec2.divide}\n * @function\n */\n\nexport var div = divide;\n/**\n * Alias for {@link vec2.distance}\n * @function\n */\n\nexport var dist = distance;\n/**\n * Alias for {@link vec2.squaredDistance}\n * @function\n */\n\nexport var sqrDist = squaredDistance;\n/**\n * Alias for {@link vec2.squaredLength}\n * @function\n */\n\nexport var sqrLen = squaredLength;\n/**\n * Perform some operation over an array of vec2s.\n *\n * @param {Array} a the array of vectors to iterate over\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\n * @param {Number} offset Number of elements to skip at the beginning of the array\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\n * @param {Function} fn Function to call for each vector in the array\n * @param {Object} [arg] additional argument to pass to fn\n * @returns {Array} a\n * @function\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n\n    if (!stride) {\n      stride = 2;\n    }\n\n    if (!offset) {\n      offset = 0;\n    }\n\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n    }\n\n    return a;\n  };\n}();", null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, null, "var Component = /** @class */function () {\n  function Component(props, context, updater) {\n    this.isMounted = false;\n    // State 内部私有属性\n    this.destroyed = false;\n    this.props = props;\n    this.state = {};\n    this.context = context;\n    this.updater = updater;\n  }\n  Component.prototype.willMount = function () {};\n  Component.prototype.didMount = function () {};\n  Component.prototype.shouldUpdate = function (_nextProps) {\n    return true;\n  };\n  Component.prototype.willReceiveProps = function (_props, _context) {};\n  Component.prototype.willUpdate = function () {};\n  Component.prototype.didUpdate = function () {};\n  Component.prototype.render = function () {\n    return null;\n  };\n  Component.prototype.willUnmount = function () {};\n  Component.prototype.didUnmount = function () {};\n  Component.prototype.setState = function (partialState, callback) {\n    if (this.destroyed) {\n      return;\n    }\n    this.updater.enqueueSetState(this, partialState, callback);\n  };\n  Component.prototype.forceUpdate = function (callback) {\n    if (this.destroyed) {\n      return;\n    }\n    this.updater.enqueueForceUpdate(this, {}, callback);\n  };\n  Component.prototype.setAnimate = function (animate) {\n    this.animate = animate;\n  };\n  Component.prototype.destroy = function () {\n    this.destroyed = true;\n    this.animator = null;\n  };\n  return Component;\n}();\n// 标识是否是组件\n// @ts-ignore\nComponent.prototype.isF2Component = true;\nexport default Component;", "import { __assign } from \"tslib\";\nimport { isArray, isNil } from '@antv/util';\nfunction cloneElement(element, props) {\n  if (!element) return element;\n  return __assign(__assign({}, element), {\n    props: __assign(__assign({}, element.props), props)\n  });\n}\nfunction map(children, fn) {\n  if (!children) {\n    return fn(children);\n  }\n  if (isArray(children)) {\n    return children.map(function (child) {\n      return map(child, fn);\n    });\n  }\n  return fn(children);\n}\nfunction compareArray(nextElements, lastElements, callback) {\n  var keyed = {};\n  var nextLength = nextElements.length;\n  var lastLength = lastElements.length;\n  for (var i = 0, len = lastLength; i < len; i++) {\n    var element = lastElements[i];\n    if (element && !isNil(element.key)) {\n      var key = element.key;\n      keyed[key] = element;\n    }\n  }\n  var result = [];\n  // 比较元素\n  for (var i = 0, len = nextLength; i < len; i++) {\n    var element = nextElements[i];\n    if (!element) {\n      continue;\n    }\n    var key = element.key;\n    var lastElement = void 0;\n    // 有key值定义\n    if (!isNil(element.key)) {\n      lastElement = keyed[key];\n      if (lastElement) delete keyed[key];\n    } else {\n      // 取相同位置的元素\n      lastElement = lastElements[i];\n    }\n    // 没有直接返回\n    if (!lastElement) {\n      result.push(compare(element, null, callback));\n      continue;\n    }\n    // 如果 lastElement 已经被处理过, next 处理成新增\n    if (lastElement === null || lastElement === void 0 ? void 0 : lastElement.__processed) {\n      result.push(compare(element, null, callback));\n      continue;\n    }\n    // 标记 element 已经被处理过\n    lastElement.__processed = true;\n    result.push(compare(element, lastElement, callback));\n  }\n  // 处理 lastElements 里面还未被处理的元素\n  for (var i = 0, len = lastLength; i < len; i++) {\n    var lastElement = lastElements[i];\n    if (!lastElement) {\n      continue;\n    }\n    if (!(lastElement === null || lastElement === void 0 ? void 0 : lastElement.__processed)) {\n      result.push(compare(null, lastElement, callback));\n    } else {\n      delete lastElement.__processed;\n    }\n  }\n  return result;\n}\n// 比较2棵树\nfunction compare(nextElement, lastElement, callback) {\n  // 有一个为空\n  if (!nextElement || !lastElement) {\n    return callback(nextElement, lastElement);\n  }\n  if (isArray(nextElement) || isArray(lastElement)) {\n    var nextElementArray = isArray(nextElement) ? nextElement : [nextElement];\n    var lastElementArray = isArray(lastElement) ? lastElement : [lastElement];\n    return compareArray(nextElementArray, lastElementArray, callback);\n  }\n  return callback(nextElement, lastElement);\n}\nfunction toArray(element) {\n  if (!element) {\n    return element;\n  }\n  if (!isArray(element)) {\n    return [element];\n  }\n  var newArray = [];\n  for (var i = 0, len = element.length; i < len; i++) {\n    var item = element[i];\n    if (isArray(item)) {\n      newArray = newArray.concat(toArray(item));\n    } else {\n      newArray.push(item);\n    }\n  }\n  return newArray;\n}\nvar Children = {\n  cloneElement: cloneElement,\n  map: map,\n  toArray: toArray,\n  compare: compare\n};\nexport default Children;", "import RBush from 'rbush/rbush.js';\nexport { default as RBush } from 'rbush/rbush.js';\nimport { isNumber, distanceSquareRoot, getTotalLength, clamp, min, max, isNumberEqual, mod, isString, isNil, isObject, normalizePath, path2Curve, equalizeSegments, getDrawDirection, reverseCurve, clonePath, getRotatedCurve, isBoolean, isUndefined, getPointAtLength } from '@antv/util';\nimport { color } from 'd3-color';\nimport { vec3, mat3, mat4, vec4, quat as quat$1, vec2 } from 'gl-matrix';\nimport { Arc, Cubic, Quad, Polyline as Polyline$1, Line as Line$1 } from '@antv/g-math';\nimport EventEmitter from 'eventemitter3';\n\n/**\r\n * @see https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type\r\n */\nvar PropertySyntax;\n(function (PropertySyntax) {\n  /**\r\n   * @see https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#coordinate\r\n   */\n  PropertySyntax[\"COORDINATE\"] = \"<coordinate>\";\n  /**\r\n   * @see https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#color\r\n   */\n  PropertySyntax[\"COLOR\"] = \"<color>\";\n  /**\r\n   * @see https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#paint\r\n   */\n  PropertySyntax[\"PAINT\"] = \"<paint>\";\n  /**\r\n   * @see https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#number\r\n   */\n  PropertySyntax[\"NUMBER\"] = \"<number>\";\n  /**\r\n   * @see https://developer.mozilla.org/zh-CN/docs/Web/CSS/angle\r\n   */\n  PropertySyntax[\"ANGLE\"] = \"<angle>\";\n  /**\r\n   * <number> with range 0..1\r\n   * @see https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#opacity_value\r\n   */\n  PropertySyntax[\"OPACITY_VALUE\"] = \"<opacity-value>\";\n  /**\r\n   * <number> with range 0..Infinity\r\n   */\n  PropertySyntax[\"SHADOW_BLUR\"] = \"<shadow-blur>\";\n  /**\r\n   * @see https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#length\r\n   */\n  PropertySyntax[\"LENGTH\"] = \"<length>\";\n  /**\r\n   * @see https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#percentage\r\n   */\n  PropertySyntax[\"PERCENTAGE\"] = \"<percentage>\";\n  PropertySyntax[\"LENGTH_PERCENTAGE\"] = \"<length> | <percentage>\";\n  PropertySyntax[\"LENGTH_PERCENTAGE_12\"] = \"[<length> | <percentage>]{1,2}\";\n  /**\r\n   * @see https://developer.mozilla.org/en-US/docs/Web/CSS/margin#formal_syntax\r\n   */\n  PropertySyntax[\"LENGTH_PERCENTAGE_14\"] = \"[<length> | <percentage>]{1,4}\";\n  /**\r\n   * @see https://developer.mozilla.org/en-US/docs/Web/SVG/Content_type#list-of-ts\r\n   */\n  PropertySyntax[\"LIST_OF_POINTS\"] = \"<list-of-points>\";\n  PropertySyntax[\"PATH\"] = \"<path>\";\n  /**\r\n   * @see https://developer.mozilla.org/en-US/docs/Web/CSS/filter#formal_syntax\r\n   */\n  PropertySyntax[\"FILTER\"] = \"<filter>\";\n  PropertySyntax[\"Z_INDEX\"] = \"<z-index>\";\n  PropertySyntax[\"OFFSET_DISTANCE\"] = \"<offset-distance>\";\n  PropertySyntax[\"DEFINED_PATH\"] = \"<defined-path>\";\n  PropertySyntax[\"MARKER\"] = \"<marker>\";\n  PropertySyntax[\"TRANSFORM\"] = \"<transform>\";\n  PropertySyntax[\"TRANSFORM_ORIGIN\"] = \"<transform-origin>\";\n  PropertySyntax[\"TEXT\"] = \"<text>\";\n  PropertySyntax[\"TEXT_TRANSFORM\"] = \"<text-transform>\";\n})(PropertySyntax || (PropertySyntax = {}));\n\nfunction _regeneratorRuntime() {\n  _regeneratorRuntime = function () {\n    return exports;\n  };\n  var exports = {},\n    Op = Object.prototype,\n    hasOwn = Op.hasOwnProperty,\n    defineProperty = Object.defineProperty || function (obj, key, desc) {\n      obj[key] = desc.value;\n    },\n    $Symbol = \"function\" == typeof Symbol ? Symbol : {},\n    iteratorSymbol = $Symbol.iterator || \"@@iterator\",\n    asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\",\n    toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), obj[key];\n  }\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function (obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator,\n      generator = Object.create(protoGenerator.prototype),\n      context = new Context(tryLocsList || []);\n    return defineProperty(generator, \"_invoke\", {\n      value: makeInvokeMethod(innerFn, self, context)\n    }), generator;\n  }\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf,\n    NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function (method) {\n      define(prototype, method, function (arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (\"throw\" !== record.type) {\n        var result = record.arg,\n          value = result.value;\n        return value && \"object\" == typeof value && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) {\n          invoke(\"next\", value, resolve, reject);\n        }, function (err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function (unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function (error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n      reject(record.arg);\n    }\n    var previousPromise;\n    defineProperty(this, \"_invoke\", {\n      value: function (method, arg) {\n        function callInvokeWithMethodAndArg() {\n          return new PromiseImpl(function (resolve, reject) {\n            invoke(method, arg, resolve, reject);\n          });\n        }\n        return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = \"suspendedStart\";\n    return function (method, arg) {\n      if (\"executing\" === state) throw new Error(\"Generator is already running\");\n      if (\"completed\" === state) {\n        if (\"throw\" === method) throw arg;\n        return doneResult();\n      }\n      for (context.method = method, context.arg = arg;;) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n        if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) {\n          if (\"suspendedStart\" === state) throw state = \"completed\", context.arg;\n          context.dispatchException(context.arg);\n        } else \"return\" === context.method && context.abrupt(\"return\", context.arg);\n        state = \"executing\";\n        var record = tryCatch(innerFn, self, context);\n        if (\"normal\" === record.type) {\n          if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue;\n          return {\n            value: record.arg,\n            done: context.done\n          };\n        }\n        \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(delegate, context) {\n    var methodName = context.method,\n      method = delegate.iterator[methodName];\n    if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator.return && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel;\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);\n  }\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next) return iterable;\n      if (!isNaN(iterable.length)) {\n        var i = -1,\n          next = function next() {\n            for (; ++i < iterable.length;) if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next;\n            return next.value = undefined, next.done = !0, next;\n          };\n        return next.next = next;\n      }\n    }\n    return {\n      next: doneResult\n    };\n  }\n  function doneResult() {\n    return {\n      value: undefined,\n      done: !0\n    };\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: !0\n  }), defineProperty(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: !0\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function (genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function (arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () {\n    return this;\n  }), define(Gp, \"toString\", function () {\n    return \"[object Generator]\";\n  }), exports.keys = function (val) {\n    var object = Object(val),\n      keys = [];\n    for (var key in object) keys.push(key);\n    return keys.reverse(), function next() {\n      for (; keys.length;) {\n        var key = keys.pop();\n        if (key in object) return next.value = key, next.done = !1, next;\n      }\n      return next.done = !0, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function (skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined);\n    },\n    stop: function () {\n      this.done = !0;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type) throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function (exception) {\n      if (this.done) throw exception;\n      var context = this;\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught;\n      }\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i],\n          record = entry.completion;\n        if (\"root\" === entry.tryLoc) return handle(\"end\");\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"),\n            hasFinally = hasOwn.call(entry, \"finallyLoc\");\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n          } else {\n            if (!hasFinally) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function (type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function (record, afterLoc) {\n      if (\"throw\" === record.type) throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function (finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    catch: function (tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function (iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel;\n    }\n  }, exports;\n}\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(undefined);\n    });\n  };\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  _setPrototypeOf(subClass, superClass);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\nfunction _createForOfIteratorHelperLoose(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (it) return (it = it.call(o)).next.bind(it);\n  if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n    if (it) o = it;\n    var i = 0;\n    return function () {\n      if (i >= o.length) return {\n        done: true\n      };\n      return {\n        done: false,\n        value: o[i++]\n      };\n    };\n  }\n  throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\n\n// These units are iterated through, so be careful when adding or changing the\n// order.\nvar UnitType;\n(function (UnitType) {\n  UnitType[UnitType[\"kUnknown\"] = 0] = \"kUnknown\";\n  UnitType[UnitType[\"kNumber\"] = 1] = \"kNumber\";\n  UnitType[UnitType[\"kPercentage\"] = 2] = \"kPercentage\";\n  // Length units\n  UnitType[UnitType[\"kEms\"] = 3] = \"kEms\";\n  // kExs,\n  UnitType[UnitType[\"kPixels\"] = 4] = \"kPixels\";\n  // kCentimeters,\n  // kMillimeters,\n  // kInches,\n  // kPoints,\n  // kPicas,\n  // kQuarterMillimeters,\n  // https://drafts.csswg.org/css-values-4/#viewport-relative-lengths\n  //\n  // See also IsViewportPercentageLength.\n  // kViewportWidth,\n  // kViewportHeight,\n  // kViewportInlineSize,\n  // kViewportBlockSize,\n  // kViewportMin,\n  // kViewportMax,\n  // kSmallViewportWidth,\n  // kSmallViewportHeight,\n  // kSmallViewportInlineSize,\n  // kSmallViewportBlockSize,\n  // kSmallViewportMin,\n  // kSmallViewportMax,\n  // kLargeViewportWidth,\n  // kLargeViewportHeight,\n  // kLargeViewportInlineSize,\n  // kLargeViewportBlockSize,\n  // kLargeViewportMin,\n  // kLargeViewportMax,\n  // kDynamicViewportWidth,\n  // kDynamicViewportHeight,\n  // kDynamicViewportInlineSize,\n  // kDynamicViewportBlockSize,\n  // kDynamicViewportMin,\n  // kDynamicViewportMax,\n  // https://drafts.csswg.org/css-contain-3/#container-lengths\n  //\n  // See also IsContainerPercentageLength.\n  // kContainerWidth,\n  // kContainerHeight,\n  // kContainerInlineSize,\n  // kContainerBlockSize,\n  // kContainerMin,\n  // kContainerMax,\n  UnitType[UnitType[\"kRems\"] = 5] = \"kRems\";\n  // kChs,\n  // kUserUnits, // The SVG term for unitless lengths\n  // Angle units\n  UnitType[UnitType[\"kDegrees\"] = 6] = \"kDegrees\";\n  UnitType[UnitType[\"kRadians\"] = 7] = \"kRadians\";\n  UnitType[UnitType[\"kGradians\"] = 8] = \"kGradians\";\n  UnitType[UnitType[\"kTurns\"] = 9] = \"kTurns\";\n  // Time units\n  UnitType[UnitType[\"kMilliseconds\"] = 10] = \"kMilliseconds\";\n  UnitType[UnitType[\"kSeconds\"] = 11] = \"kSeconds\";\n  // kHertz,\n  // kKilohertz,\n  // Resolution\n  // kDotsPerPixel,\n  // kDotsPerInch,\n  // kDotsPerCentimeter,\n  // Other units\n  // kFraction,\n  UnitType[UnitType[\"kInteger\"] = 12] = \"kInteger\";\n  // This value is used to handle quirky margins in reflow roots (body, td,\n  // and th) like WinIE. The basic idea is that a stylesheet can use the value\n  // __qem (for quirky em) instead of em. When the quirky value is used, if\n  // you're in quirks mode, the margin will collapse away inside a table cell.\n  // This quirk is specified in the HTML spec but our impl is different.\n  // TODO: Remove this. crbug.com/443952\n  // kQuirkyEms,\n})(UnitType || (UnitType = {}));\nvar UnitCategory;\n(function (UnitCategory) {\n  UnitCategory[UnitCategory[\"kUNumber\"] = 0] = \"kUNumber\";\n  UnitCategory[UnitCategory[\"kUPercent\"] = 1] = \"kUPercent\";\n  UnitCategory[UnitCategory[\"kULength\"] = 2] = \"kULength\";\n  UnitCategory[UnitCategory[\"kUAngle\"] = 3] = \"kUAngle\";\n  UnitCategory[UnitCategory[\"kUTime\"] = 4] = \"kUTime\";\n  // kUFrequency,\n  // kUResolution,\n  UnitCategory[UnitCategory[\"kUOther\"] = 5] = \"kUOther\";\n})(UnitCategory || (UnitCategory = {}));\nvar ValueRange;\n(function (ValueRange) {\n  ValueRange[ValueRange[\"kAll\"] = 0] = \"kAll\";\n  ValueRange[ValueRange[\"kNonNegative\"] = 1] = \"kNonNegative\";\n  ValueRange[ValueRange[\"kInteger\"] = 2] = \"kInteger\";\n  ValueRange[ValueRange[\"kNonNegativeInteger\"] = 3] = \"kNonNegativeInteger\";\n  ValueRange[ValueRange[\"kPositiveInteger\"] = 4] = \"kPositiveInteger\";\n})(ValueRange || (ValueRange = {}));\nvar Nested;\n(function (Nested) {\n  Nested[Nested[\"kYes\"] = 0] = \"kYes\";\n  Nested[Nested[\"kNo\"] = 1] = \"kNo\";\n})(Nested || (Nested = {}));\nvar ParenLess;\n(function (ParenLess) {\n  ParenLess[ParenLess[\"kYes\"] = 0] = \"kYes\";\n  ParenLess[ParenLess[\"kNo\"] = 1] = \"kNo\";\n})(ParenLess || (ParenLess = {}));\n\n// This file specifies the unit strings used in CSSPrimitiveValues.\nvar data = [{\n  name: 'em',\n  unit_type: UnitType.kEms\n},\n// {\n//   name: 'ex',\n//   unit_type: UnitType.kExs,\n// },\n{\n  name: 'px',\n  unit_type: UnitType.kPixels\n},\n// {\n//   name: \"cm\",\n//   unit_type: UnitType.kCentimeters,\n// },\n// {\n//   name: \"mm\",\n//   unit_type: UnitType.kMillimeters,\n// },\n// {\n//   name: \"q\",\n//   unit_type: UnitType.kQuarterMillimeters,\n// },\n// {\n//   name: \"in\",\n//   unit_type: UnitType.kInches,\n// },\n// {\n//   name: \"pt\",\n//   unit_type: UnitType.kPoints,\n// },\n// {\n//   name: \"pc\",\n//   unit_type: UnitType.kPicas,\n// },\n{\n  name: 'deg',\n  unit_type: UnitType.kDegrees\n}, {\n  name: 'rad',\n  unit_type: UnitType.kRadians\n}, {\n  name: 'grad',\n  unit_type: UnitType.kGradians\n}, {\n  name: 'ms',\n  unit_type: UnitType.kMilliseconds\n}, {\n  name: 's',\n  unit_type: UnitType.kSeconds\n},\n// {\n//   name: \"hz\",\n//   unit_type: UnitType.kHertz,\n// },\n// {\n//   name: \"khz\",\n//   unit_type: UnitType.kKilohertz,\n// },\n// {\n//   name: \"dpi\",\n//   unit_type: \"kDotsPerInch\",\n// },\n// {\n//   name: \"dpcm\",\n//   unit_type: \"kDotsPerCentimeter\",\n// },\n// {\n//   name: \"dppx\",\n//   unit_type: \"kDotsPerPixel\",\n// },\n// {\n//   name: \"x\",\n//   unit_type: \"kDotsPerPixel\",\n// },\n// {\n//   name: \"vw\",\n//   unit_type: \"kViewportWidth\",\n// },\n// {\n//   name: \"vh\",\n//   unit_type: \"kViewportHeight\",\n// },\n// {\n//   name: \"vi\",\n//   unit_type: \"kViewportInlineSize\",\n// },\n// {\n//   name: \"vb\",\n//   unit_type: \"kViewportBlockSize\",\n// },\n// {\n//   name: \"vmin\",\n//   unit_type: UnitType.kViewportMin,\n// },\n// {\n//   name: \"vmax\",\n//   unit_type: UnitType.kViewportMax,\n// },\n// {\n//   name: \"svw\",\n//   unit_type: \"kSmallViewportWidth\",\n// },\n// {\n//   name: \"svh\",\n//   unit_type: \"kSmallViewportHeight\",\n// },\n// {\n//   name: \"svi\",\n//   unit_type: \"kSmallViewportInlineSize\",\n// },\n// {\n//   name: \"svb\",\n//   unit_type: \"kSmallViewportBlockSize\",\n// },\n// {\n//   name: \"svmin\",\n//   unit_type: \"kSmallViewportMin\",\n// },\n// {\n//   name: \"svmax\",\n//   unit_type: \"kSmallViewportMax\",\n// },\n// {\n//   name: \"lvw\",\n//   unit_type: \"kLargeViewportWidth\",\n// },\n// {\n//   name: \"lvh\",\n//   unit_type: \"kLargeViewportHeight\",\n// },\n// {\n//   name: \"lvi\",\n//   unit_type: \"kLargeViewportInlineSize\",\n// },\n// {\n//   name: \"lvb\",\n//   unit_type: \"kLargeViewportBlockSize\",\n// },\n// {\n//   name: \"lvmin\",\n//   unit_type: UnitType.kLargeViewportMin,\n// },\n// {\n//   name: \"lvmax\",\n//   unit_type: UnitType.kLargeViewportMax,\n// },\n// {\n//   name: \"dvw\",\n//   unit_type: UnitType.kDynamicViewportWidth,\n// },\n// {\n//   name: \"dvh\",\n//   unit_type: UnitType.kDynamicViewportHeight,\n// },\n// {\n//   name: \"dvi\",\n//   unit_type: UnitType.kDynamicViewportInlineSize,\n// },\n// {\n//   name: \"dvb\",\n//   unit_type: UnitType.kDynamicViewportBlockSize,\n// },\n// {\n//   name: \"dvmin\",\n//   unit_type: UnitType.kDynamicViewportMin,\n// },\n// {\n//   name: \"dvmax\",\n//   unit_type: UnitType.kDynamicViewportMax,\n// },\n// {\n//   name: \"cqw\",\n//   unit_type: UnitType.kContainerWidth,\n// },\n// {\n//   name: \"cqh\",\n//   unit_type: UnitType.kContainerHeight,\n// },\n// {\n//   name: \"cqi\",\n//   unit_type: UnitType.kContainerInlineSize,\n// },\n// {\n//   name: \"cqb\",\n//   unit_type: UnitType.kContainerBlockSize,\n// },\n// {\n//   name: \"cqmin\",\n//   unit_type: UnitType.kContainerMin,\n// },\n// {\n//   name: \"cqmax\",\n//   unit_type: UnitType.kContainerMax,\n// },\n{\n  name: 'rem',\n  unit_type: UnitType.kRems\n},\n// {\n//   name: 'fr',\n//   unit_type: UnitType.kFraction,\n// },\n{\n  name: 'turn',\n  unit_type: UnitType.kTurns\n}\n// {\n//   name: 'ch',\n//   unit_type: UnitType.kChs,\n// },\n// {\n//   name: '__qem',\n//   unit_type: UnitType.kQuirkyEms,\n// },\n];\n\nvar CSSStyleValueType;\n(function (CSSStyleValueType) {\n  CSSStyleValueType[CSSStyleValueType[\"kUnknownType\"] = 0] = \"kUnknownType\";\n  CSSStyleValueType[CSSStyleValueType[\"kUnparsedType\"] = 1] = \"kUnparsedType\";\n  CSSStyleValueType[CSSStyleValueType[\"kKeywordType\"] = 2] = \"kKeywordType\";\n  // Start of CSSNumericValue subclasses\n  CSSStyleValueType[CSSStyleValueType[\"kUnitType\"] = 3] = \"kUnitType\";\n  CSSStyleValueType[CSSStyleValueType[\"kSumType\"] = 4] = \"kSumType\";\n  CSSStyleValueType[CSSStyleValueType[\"kProductType\"] = 5] = \"kProductType\";\n  CSSStyleValueType[CSSStyleValueType[\"kNegateType\"] = 6] = \"kNegateType\";\n  CSSStyleValueType[CSSStyleValueType[\"kInvertType\"] = 7] = \"kInvertType\";\n  CSSStyleValueType[CSSStyleValueType[\"kMinType\"] = 8] = \"kMinType\";\n  CSSStyleValueType[CSSStyleValueType[\"kMaxType\"] = 9] = \"kMaxType\";\n  CSSStyleValueType[CSSStyleValueType[\"kClampType\"] = 10] = \"kClampType\";\n  // End of CSSNumericValue subclasses\n  CSSStyleValueType[CSSStyleValueType[\"kTransformType\"] = 11] = \"kTransformType\";\n  CSSStyleValueType[CSSStyleValueType[\"kPositionType\"] = 12] = \"kPositionType\";\n  CSSStyleValueType[CSSStyleValueType[\"kURLImageType\"] = 13] = \"kURLImageType\";\n  CSSStyleValueType[CSSStyleValueType[\"kColorType\"] = 14] = \"kColorType\";\n  CSSStyleValueType[CSSStyleValueType[\"kUnsupportedColorType\"] = 15] = \"kUnsupportedColorType\";\n})(CSSStyleValueType || (CSSStyleValueType = {}));\n// function parseCSSStyleValue(propertyName: string, value: string): CSSStyleValue[] {\n//   // const propertyId = cssPropertyID(propertyName);\n//   // if (propertyId === CSSPropertyID.kInvalid) {\n//   //   return [];\n//   // }\n//   // const customPropertyName = propertyId === CSSPropertyID.kVariable ? propertyName : null;\n//   // return fromString(propertyId, customPropertyName, value);\n//   return [];\n// }\nvar stringToUnitType = function stringToUnitType(name) {\n  return data.find(function (item) {\n    return item.name === name;\n  }).unit_type;\n};\nvar unitFromName = function unitFromName(name) {\n  if (!name) {\n    return UnitType.kUnknown;\n  }\n  if (name === 'number') {\n    return UnitType.kNumber;\n  }\n  if (name === 'percent' || name === '%') {\n    return UnitType.kPercentage;\n  }\n  return stringToUnitType(name);\n};\nvar unitTypeToUnitCategory = function unitTypeToUnitCategory(type) {\n  switch (type) {\n    case UnitType.kNumber:\n    case UnitType.kInteger:\n      return UnitCategory.kUNumber;\n    case UnitType.kPercentage:\n      return UnitCategory.kUPercent;\n    case UnitType.kPixels:\n      // case UnitType.kCentimeters:\n      // case UnitType.kMillimeters:\n      // case UnitType.kQuarterMillimeters:\n      // case UnitType.kInches:\n      // case UnitType.kPoints:\n      // case UnitType.kPicas:\n      // case UnitType.kUserUnits:\n      return UnitCategory.kULength;\n    case UnitType.kMilliseconds:\n    case UnitType.kSeconds:\n      return UnitCategory.kUTime;\n    case UnitType.kDegrees:\n    case UnitType.kRadians:\n    case UnitType.kGradians:\n    case UnitType.kTurns:\n      return UnitCategory.kUAngle;\n    // case UnitType.kHertz:\n    // case UnitType.kKilohertz:\n    //   return UnitCategory.kUFrequency;\n    // case UnitType.kDotsPerPixel:\n    // case UnitType.kDotsPerInch:\n    // case UnitType.kDotsPerCentimeter:\n    //   return UnitCategory.kUResolution;\n    default:\n      return UnitCategory.kUOther;\n  }\n};\nvar canonicalUnitTypeForCategory = function canonicalUnitTypeForCategory(category) {\n  // The canonical unit type is chosen according to the way\n  // CSSPropertyParser.ValidUnit() chooses the default unit in each category\n  // (based on unitflags).\n  switch (category) {\n    case UnitCategory.kUNumber:\n      return UnitType.kNumber;\n    case UnitCategory.kULength:\n      return UnitType.kPixels;\n    case UnitCategory.kUPercent:\n      return UnitType.kPercentage;\n    // return UnitType.kUnknown; // Cannot convert between numbers and percent.\n    case UnitCategory.kUTime:\n      return UnitType.kSeconds;\n    case UnitCategory.kUAngle:\n      return UnitType.kDegrees;\n    // case UnitCategory.kUFrequency:\n    //   return UnitType.kHertz;\n    // case UnitCategory.kUResolution:\n    //   return UnitType.kDotsPerPixel;\n    default:\n      return UnitType.kUnknown;\n  }\n};\n/**\r\n * @see https://chromium.googlesource.com/chromium/src/+/refs/heads/main/third_party/blink/renderer/core/css/css_primitive_value.cc#353\r\n */\nvar conversionToCanonicalUnitsScaleFactor = function conversionToCanonicalUnitsScaleFactor(unit_type) {\n  var factor = 1.0;\n  // FIXME: the switch can be replaced by an array of scale factors.\n  switch (unit_type) {\n    // These are \"canonical\" units in their respective categories.\n    case UnitType.kPixels:\n    // case UnitType.kUserUnits:\n    case UnitType.kDegrees:\n    case UnitType.kSeconds:\n      // case UnitType.kHertz:\n      break;\n    case UnitType.kMilliseconds:\n      factor = 0.001;\n      break;\n    // case UnitType.kCentimeters:\n    //   // factor = kCssPixelsPerCentimeter;\n    //   break;\n    // case UnitType.kDotsPerCentimeter:\n    //   // factor = 1 / kCssPixelsPerCentimeter;\n    //   break;\n    // case UnitType.kMillimeters:\n    //   // factor = kCssPixelsPerMillimeter;\n    //   break;\n    // case UnitType.kQuarterMillimeters:\n    //   // factor = kCssPixelsPerQuarterMillimeter;\n    //   break;\n    // case UnitType.kInches:\n    //   // factor = kCssPixelsPerInch;\n    //   break;\n    // case UnitType.kDotsPerInch:\n    //   // factor = 1 / kCssPixelsPerInch;\n    //   break;\n    // case UnitType.kPoints:\n    //   // factor = kCssPixelsPerPoint;\n    //   break;\n    // case UnitType.kPicas:\n    //   // factor = kCssPixelsPerPica;\n    //   break;\n    case UnitType.kRadians:\n      factor = 180 / Math.PI;\n      break;\n    case UnitType.kGradians:\n      factor = 0.9;\n      break;\n    case UnitType.kTurns:\n      factor = 360;\n      break;\n  }\n  return factor;\n};\nvar unitTypeToString = function unitTypeToString(type) {\n  switch (type) {\n    case UnitType.kNumber:\n    case UnitType.kInteger:\n      // case UnitType.kUserUnits:\n      return '';\n    case UnitType.kPercentage:\n      return '%';\n    case UnitType.kEms:\n      // case UnitType.kQuirkyEms:\n      return 'em';\n    // case UnitType.kExs:\n    //   return 'ex';\n    case UnitType.kRems:\n      return 'rem';\n    // case UnitType.kChs:\n    //   return 'ch';\n    case UnitType.kPixels:\n      return 'px';\n    // case UnitType.kCentimeters:\n    //   return 'cm';\n    // case UnitType.kDotsPerPixel:\n    //   return 'dppx';\n    // case UnitType.kDotsPerInch:\n    //   return 'dpi';\n    // case UnitType.kDotsPerCentimeter:\n    //   return 'dpcm';\n    // case UnitType.kMillimeters:\n    //   return 'mm';\n    // case UnitType.kQuarterMillimeters:\n    //   return 'q';\n    // case UnitType.kInches:\n    //   return 'in';\n    // case UnitType.kPoints:\n    //   return 'pt';\n    // case UnitType.kPicas:\n    //   return 'pc';\n    case UnitType.kDegrees:\n      return 'deg';\n    case UnitType.kRadians:\n      return 'rad';\n    case UnitType.kGradians:\n      return 'grad';\n    case UnitType.kMilliseconds:\n      return 'ms';\n    case UnitType.kSeconds:\n      return 's';\n    // case UnitType.kHertz:\n    //   return 'hz';\n    // case UnitType.kKilohertz:\n    //   return 'khz';\n    case UnitType.kTurns:\n      return 'turn';\n  }\n  return '';\n};\n/**\r\n * CSSStyleValue is the base class for all CSS values accessible from Typed OM.\r\n * Values that are not yet supported as specific types are also returned as base CSSStyleValues.\r\n *\r\n * Spec @see https://drafts.css-houdini.org/css-typed-om/#stylevalue-objects\r\n * Docs @see https://developer.mozilla.org/en-US/docs/Web/API/CSSStyleValue\r\n */\nvar CSSStyleValue = /*#__PURE__*/function () {\n  function CSSStyleValue() {}\n  // static parse(propertyName: string, value: string): CSSStyleValue {\n  //   return parseCSSStyleValue(propertyName, value)[0];\n  // }\n  // static parseAll(propertyName: string, value: string): CSSStyleValue[] {\n  //   return parseCSSStyleValue(propertyName, value);\n  // }\n  CSSStyleValue.isAngle = function isAngle(unit) {\n    return unit === UnitType.kDegrees || unit === UnitType.kRadians || unit === UnitType.kGradians || unit === UnitType.kTurns;\n  }\n  // static isViewportPercentageLength(type: UnitType) {\n  //   return type >= UnitType.kViewportWidth && type <= UnitType.kDynamicViewportMax;\n  // }\n  // static isContainerPercentageLength(type: UnitType) {\n  //   return type >= UnitType.kContainerWidth && type <= UnitType.kContainerMax;\n  // }\n  ;\n  CSSStyleValue.isLength = function isLength(type) {\n    // return (type >= UnitType.kEms && type <= UnitType.kUserUnits) || type == UnitType.kQuirkyEms;\n    return type >= UnitType.kEms && type < UnitType.kDegrees;\n  };\n  CSSStyleValue.isRelativeUnit = function isRelativeUnit(type) {\n    return type === UnitType.kPercentage || type === UnitType.kEms ||\n    // type === UnitType.kExs ||\n    type === UnitType.kRems\n    // type === UnitType.kChs ||\n    // this.isViewportPercentageLength(type) ||\n    // this.isContainerPercentageLength(type)\n    ;\n  };\n  CSSStyleValue.isTime = function isTime(unit) {\n    return unit === UnitType.kSeconds || unit === UnitType.kMilliseconds;\n  }\n  // protected abstract toCSSValue(): CSSValue;\n  ;\n  var _proto = CSSStyleValue.prototype;\n  _proto.toString = function toString() {\n    return this.buildCSSText(Nested.kNo, ParenLess.kNo, '');\n  };\n  _proto.isNumericValue = function isNumericValue() {\n    return this.getType() >= CSSStyleValueType.kUnitType && this.getType() <= CSSStyleValueType.kClampType;\n  };\n  return CSSStyleValue;\n}();\n\n/**\r\n * CSSColorValue is the base class used for the various CSS color interfaces.\r\n *\r\n * @see https://drafts.css-houdini.org/css-typed-om-1/#colorvalue-objects\r\n */\nvar CSSColorValue = /*#__PURE__*/function (_CSSStyleValue) {\n  _inheritsLoose(CSSColorValue, _CSSStyleValue);\n  function CSSColorValue(colorSpace) {\n    var _this;\n    _this = _CSSStyleValue.call(this) || this;\n    _this.colorSpace = void 0;\n    _this.colorSpace = colorSpace;\n    return _this;\n  }\n  var _proto = CSSColorValue.prototype;\n  _proto.getType = function getType() {\n    return CSSStyleValueType.kColorType;\n  }\n  // buildCSSText(n: Nested, p: ParenLess, result: string): string {\n  //   let text = '';\n  //   if (this.colorSpace === 'rgb') {\n  //     text = `rgba(${this.channels.join(',')},${this.alpha})`;\n  //   }\n  //   return (result += text);\n  // }\n  /**\r\n   * @see https://drafts.css-houdini.org/css-typed-om-1/#dom-csscolorvalue-to\r\n   */;\n  _proto.to = function to(colorSpace) {\n    return this;\n  };\n  return CSSColorValue;\n}(CSSStyleValue);\n\nvar GradientType;\n(function (GradientType) {\n  GradientType[GradientType[\"Constant\"] = 0] = \"Constant\";\n  GradientType[GradientType[\"LinearGradient\"] = 1] = \"LinearGradient\";\n  GradientType[GradientType[\"RadialGradient\"] = 2] = \"RadialGradient\";\n})(GradientType || (GradientType = {}));\nvar CSSGradientValue = /*#__PURE__*/function (_CSSStyleValue) {\n  _inheritsLoose(CSSGradientValue, _CSSStyleValue);\n  function CSSGradientValue(type, value) {\n    var _this;\n    _this = _CSSStyleValue.call(this) || this;\n    _this.type = void 0;\n    _this.value = void 0;\n    _this.type = type;\n    _this.value = value;\n    return _this;\n  }\n  var _proto = CSSGradientValue.prototype;\n  _proto.clone = function clone() {\n    return new CSSGradientValue(this.type, this.value);\n  };\n  _proto.buildCSSText = function buildCSSText(n, p, result) {\n    return result;\n  };\n  _proto.getType = function getType() {\n    return CSSStyleValueType.kColorType;\n  };\n  return CSSGradientValue;\n}(CSSStyleValue);\n\n/**\r\n * CSSKeywordValue represents CSS Values that are specified as keywords\r\n * eg. 'initial'\r\n * @see https://developer.mozilla.org/en-US/docs/Web/API/CSSKeywordValue\r\n * @see https://chromium.googlesource.com/chromium/src/+/refs/heads/main/third_party/blink/renderer/core/css/cssom/css_keyword_value.idl\r\n */\nvar CSSKeywordValue = /*#__PURE__*/function (_CSSStyleValue) {\n  _inheritsLoose(CSSKeywordValue, _CSSStyleValue);\n  function CSSKeywordValue(value) {\n    var _this;\n    _this = _CSSStyleValue.call(this) || this;\n    _this.value = void 0;\n    _this.value = value;\n    return _this;\n  }\n  var _proto = CSSKeywordValue.prototype;\n  _proto.clone = function clone() {\n    return new CSSKeywordValue(this.value);\n  };\n  _proto.getType = function getType() {\n    return CSSStyleValueType.kKeywordType;\n  };\n  _proto.buildCSSText = function buildCSSText(n, p, result) {\n    return result + this.value;\n  };\n  return CSSKeywordValue;\n}(CSSStyleValue);\n\nfunction memoize(func, resolver) {\n  if (typeof func !== 'function' || resolver != null && typeof resolver !== 'function') {\n    throw new TypeError('Expected a function');\n  }\n  var memoized = function memoized() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    var key = resolver ? resolver.apply(this, args) : args[0];\n    var cache = memoized.cache;\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || Map)();\n  return memoized;\n}\nmemoize.Cache = Map;\n\nvar camelCase = memoize(function (str) {\n  if (str === void 0) {\n    str = '';\n  }\n  return str.replace(/-([a-z])/g, function (g) {\n    return g[1].toUpperCase();\n  });\n});\nvar kebabize = function kebabize(str) {\n  return str.split('').map(function (letter, idx) {\n    return letter.toUpperCase() === letter ? \"\" + (idx !== 0 ? '-' : '') + letter.toLowerCase() : letter;\n  }).join('');\n};\n\nfunction DCHECK(bool) {\n  if (!bool) {\n    throw new Error();\n  }\n}\nfunction isFunction(func) {\n  return typeof func === 'function';\n}\nfunction isSymbol(value) {\n  // @see https://github.com/lodash/lodash/blob/master/isSymbol.js\n  return typeof value === 'symbol';\n}\nvar definedProps = function definedProps(obj) {\n  return Object.fromEntries(Object.entries(obj).filter(function (_ref) {\n    var v = _ref[1];\n    return v !== undefined;\n  }));\n};\nvar FORMAT_ATTR_MAP = {\n  d: {\n    alias: 'path'\n  },\n  strokeDasharray: {\n    alias: 'lineDash'\n  },\n  strokeWidth: {\n    alias: 'lineWidth'\n  },\n  textAnchor: {\n    alias: 'textAlign'\n  },\n  src: {\n    alias: 'img'\n  }\n};\nvar formatAttributeName = memoize(function (name) {\n  var attributeName = camelCase(name);\n  var map = FORMAT_ATTR_MAP[attributeName];\n  attributeName = (map === null || map === void 0 ? void 0 : map.alias) || attributeName;\n  return attributeName;\n});\n\n// type CSSNumericBaseType =\n//   | 'length'\n//   | 'angle'\n//   | 'time'\n//   | 'frequency'\n//   | 'resolution'\n//   | 'flex'\n//   | 'percent';\n// https://drafts.css-houdini.org/css-typed-om/#dictdef-cssnumerictype\n// interface CSSNumericType {\n//   length: number;\n//   angle: number;\n//   time: number;\n//   frequency: number;\n//   resolution: number;\n//   flex: number;\n//   percent: number;\n//   percentHint: CSSNumericBaseType;\n// }\nvar formatInfinityOrNaN = function formatInfinityOrNaN(number, suffix) {\n  if (suffix === void 0) {\n    suffix = '';\n  }\n  var result = '';\n  if (!Number.isFinite(number)) {\n    if (number > 0) result = 'infinity';else result = '-infinity';\n  } else {\n    DCHECK(Number.isNaN(number));\n    result = 'NaN';\n  }\n  return result += suffix;\n};\nvar toCanonicalUnit = function toCanonicalUnit(unit) {\n  return canonicalUnitTypeForCategory(unitTypeToUnitCategory(unit));\n};\n/**\r\n * CSSNumericValue is the base class for numeric and length typed CSS Values.\r\n * @see https://drafts.css-houdini.org/css-typed-om/#numeric-objects\r\n * @see https://developer.mozilla.org/en-US/docs/Web/API/CSSNumericValue\r\n * @see https://chromium.googlesource.com/chromium/src/+/refs/heads/main/third_party/blink/renderer/core/css/cssom/css_numeric_value.idl\r\n */\n/**\r\n * Represents numeric values that can be expressed as a single number plus a\r\n * unit (or a naked number or percentage).\r\n * @see https://drafts.css-houdini.org/css-typed-om/#cssunitvalue\r\n */\nvar CSSUnitValue = /*#__PURE__*/function (_CSSStyleValue) {\n  _inheritsLoose(CSSUnitValue, _CSSStyleValue);\n  function CSSUnitValue(value, unitOrName) {\n    var _this;\n    if (unitOrName === void 0) {\n      unitOrName = UnitType.kNumber;\n    }\n    _this = _CSSStyleValue.call(this) || this;\n    _this.unit = void 0;\n    _this.value = void 0;\n    var unit;\n    if (typeof unitOrName === 'string') {\n      unit = unitFromName(unitOrName);\n    } else {\n      unit = unitOrName;\n    }\n    _this.unit = unit;\n    _this.value = value;\n    return _this;\n  }\n  var _proto = CSSUnitValue.prototype;\n  _proto.clone = function clone() {\n    return new CSSUnitValue(this.value, this.unit);\n  };\n  _proto.equals = function equals(other) {\n    var other_unit_value = other;\n    return this.value === other_unit_value.value && this.unit === other_unit_value.unit;\n  };\n  _proto.getType = function getType() {\n    return CSSStyleValueType.kUnitType;\n  };\n  _proto.convertTo = function convertTo(target_unit) {\n    if (this.unit === target_unit) {\n      return new CSSUnitValue(this.value, this.unit);\n    }\n    // Instead of defining the scale factors for every unit to every other unit,\n    // we simply convert to the canonical unit and back since we already have\n    // the scale factors for canonical units.\n    var canonical_unit = toCanonicalUnit(this.unit);\n    if (canonical_unit !== toCanonicalUnit(target_unit) || canonical_unit === UnitType.kUnknown) {\n      return null;\n    }\n    var scale_factor = conversionToCanonicalUnitsScaleFactor(this.unit) / conversionToCanonicalUnitsScaleFactor(target_unit);\n    return new CSSUnitValue(this.value * scale_factor, target_unit);\n  };\n  _proto.buildCSSText = function buildCSSText(n, p, result) {\n    var text;\n    switch (this.unit) {\n      case UnitType.kUnknown:\n        // FIXME\n        break;\n      case UnitType.kInteger:\n        text = Number(this.value).toFixed(0);\n        break;\n      case UnitType.kNumber:\n      case UnitType.kPercentage:\n      case UnitType.kEms:\n      // case UnitType.kQuirkyEms:\n      // case UnitType.kExs:\n      case UnitType.kRems:\n      // case UnitType.kChs:\n      case UnitType.kPixels:\n      // case UnitType.kCentimeters:\n      // case UnitType.kDotsPerPixel:\n      // case UnitType.kDotsPerInch:\n      // case UnitType.kDotsPerCentimeter:\n      // case UnitType.kMillimeters:\n      // case UnitType.kQuarterMillimeters:\n      // case UnitType.kInches:\n      // case UnitType.kPoints:\n      // case UnitType.kPicas:\n      // case UnitType.kUserUnits:\n      case UnitType.kDegrees:\n      case UnitType.kRadians:\n      case UnitType.kGradians:\n      case UnitType.kMilliseconds:\n      case UnitType.kSeconds:\n      // case UnitType.kHertz:\n      // case UnitType.kKilohertz:\n      case UnitType.kTurns:\n        // case UnitType.kContainerMax: { // case UnitType.kContainerMin: // case UnitType.kContainerBlockSize: // case UnitType.kContainerInlineSize: // case UnitType.kContainerHeight: // case UnitType.kContainerWidth: // case UnitType.kDynamicViewportMax: // case UnitType.kDynamicViewportMin: // case UnitType.kDynamicViewportBlockSize: // case UnitType.kDynamicViewportInlineSize: // case UnitType.kDynamicViewportHeight: // case UnitType.kDynamicViewportWidth: // case UnitType.kLargeViewportMax: // case UnitType.kLargeViewportMin: // case UnitType.kLargeViewportBlockSize: // case UnitType.kLargeViewportInlineSize: // case UnitType.kLargeViewportHeight: // case UnitType.kLargeViewportWidth: // case UnitType.kSmallViewportMax: // case UnitType.kSmallViewportMin: // case UnitType.kSmallViewportBlockSize: // case UnitType.kSmallViewportInlineSize: // case UnitType.kSmallViewportHeight: // case UnitType.kSmallViewportWidth: // case UnitType.kViewportMax: // case UnitType.kViewportMin: // case UnitType.kViewportBlockSize: // case UnitType.kViewportInlineSize: // case UnitType.kViewportHeight: // case UnitType.kViewportWidth: // case UnitType.kFraction:\n        {\n          var kMinInteger = -999999;\n          var kMaxInteger = 999999;\n          var value = this.value;\n          var unit = unitTypeToString(this.unit);\n          if (value < kMinInteger || value > kMaxInteger) {\n            var _unit = unitTypeToString(this.unit);\n            if (!Number.isFinite(value) || Number.isNaN(value)) {\n              text = formatInfinityOrNaN(value, _unit);\n            } else {\n              text = value + (_unit || '');\n            }\n          } else {\n            text = \"\" + value + unit;\n          }\n        }\n    }\n    result += text;\n    return result;\n  };\n  return CSSUnitValue;\n}(CSSStyleValue);\nvar Opx = new CSSUnitValue(0, 'px');\nvar Lpx = new CSSUnitValue(1, 'px');\nvar Odeg = new CSSUnitValue(0, 'deg');\n\n/**\r\n * The CSSRGB class represents the CSS rgb()/rgba() functions.\r\n *\r\n * @see https://drafts.css-houdini.org/css-typed-om-1/#cssrgb\r\n */\nvar CSSRGB = /*#__PURE__*/function (_CSSColorValue) {\n  _inheritsLoose(CSSRGB, _CSSColorValue);\n  function CSSRGB(r, g, b, alpha,\n  /**\r\n   * 'transparent' & 'none' has the same rgba data\r\n   */\n  isNone) {\n    var _this;\n    if (alpha === void 0) {\n      alpha = 1;\n    }\n    if (isNone === void 0) {\n      isNone = false;\n    }\n    _this = _CSSColorValue.call(this, 'rgb') || this;\n    _this.r = void 0;\n    _this.g = void 0;\n    _this.b = void 0;\n    _this.alpha = void 0;\n    _this.isNone = void 0;\n    _this.r = r;\n    _this.g = g;\n    _this.b = b;\n    _this.alpha = alpha;\n    _this.isNone = isNone;\n    return _this;\n  }\n  var _proto = CSSRGB.prototype;\n  _proto.clone = function clone() {\n    return new CSSRGB(this.r, this.g, this.b, this.alpha);\n  };\n  _proto.buildCSSText = function buildCSSText(n, p, result) {\n    return result + (\"rgba(\" + this.r + \",\" + this.g + \",\" + this.b + \",\" + this.alpha + \")\");\n  };\n  return CSSRGB;\n}(CSSColorValue);\n\n/**\r\n * holds useful CSS-related methods.\r\n * @see https://developer.mozilla.org/en-US/docs/Web/API/CSS\r\n *\r\n * * CSS Typed OM @see https://developer.mozilla.org/en-US/docs/Web/API/CSS/factory_functions\r\n * * register property @see https://developer.mozilla.org/en-US/docs/Web/API/CSS/RegisterProperty\r\n * * CSS Layout API\r\n */\nvar CSS = {\n  /**\r\n   * <number>\r\n   * @see https://drafts.csswg.org/css-values-4/#number-value\r\n   */\n  number: function number(n) {\n    return new CSSUnitValue(n);\n  },\n  /**\r\n   * <percentage>\r\n   * @see https://drafts.csswg.org/css-values-4/#percentage-value\r\n   */\n  percent: function percent(n) {\n    return new CSSUnitValue(n, '%');\n  },\n  /**\r\n   * <length>\r\n   */\n  px: function px(n) {\n    return new CSSUnitValue(n, 'px');\n  },\n  /**\r\n   * <length>\r\n   */\n  em: function em(n) {\n    return new CSSUnitValue(n, 'em');\n  },\n  rem: function rem(n) {\n    return new CSSUnitValue(n, 'rem');\n  },\n  /**\r\n   * <angle>\r\n   */\n  deg: function deg(n) {\n    return new CSSUnitValue(n, 'deg');\n  },\n  /**\r\n   * <angle>\r\n   */\n  grad: function grad(n) {\n    return new CSSUnitValue(n, 'grad');\n  },\n  /**\r\n   * <angle>\r\n   */\n  rad: function rad(n) {\n    return new CSSUnitValue(n, 'rad');\n  },\n  /**\r\n   * <angle>\r\n   */\n  turn: function turn(n) {\n    return new CSSUnitValue(n, 'turn');\n  },\n  /**\r\n   * <time>\r\n   */\n  s: function s(n) {\n    return new CSSUnitValue(n, 's');\n  },\n  /**\r\n   * <time>\r\n   */\n  ms: function ms(n) {\n    return new CSSUnitValue(n, 'ms');\n  },\n  /**\r\n   * CSS Properties & Values API\r\n   *\r\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/CSS_Properties_and_Values_API\r\n   * @see https://drafts.css-houdini.org/css-properties-values-api/#registering-custom-properties\r\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/CSS/RegisterProperty\r\n   */\n  registerProperty: function registerProperty(definition) {\n    var name = definition.name,\n      inherits = definition.inherits,\n      interpolable = definition.interpolable,\n      initialValue = definition.initialValue,\n      syntax = definition.syntax;\n    runtime.styleValueRegistry.registerMetadata({\n      n: name,\n      inh: inherits,\n      int: interpolable,\n      d: initialValue,\n      syntax: syntax\n    });\n  },\n  /**\r\n   * CSS Layout API\r\n   * register layout\r\n   *\r\n   * @see https://github.com/w3c/css-houdini-drafts/blob/main/css-layout-api/EXPLAINER.md\r\n   * @see https://developer.mozilla.org/en-US/docs/Web/Guide/Houdini#css_layout_api\r\n   */\n  registerLayout: function registerLayout(name, clazz) {\n    runtime.layoutRegistry.registerLayout(name, clazz);\n  }\n};\n\n/**\r\n * CSSKeywordValue\r\n */\nvar unsetKeywordValue = new CSSKeywordValue('unset');\nvar initialKeywordValue = new CSSKeywordValue('initial');\nvar inheritKeywordValue = new CSSKeywordValue('inherit');\nvar keywordCache = {\n  '': unsetKeywordValue,\n  unset: unsetKeywordValue,\n  initial: initialKeywordValue,\n  inherit: inheritKeywordValue\n};\nvar getOrCreateKeyword = function getOrCreateKeyword(name) {\n  if (!keywordCache[name]) {\n    keywordCache[name] = new CSSKeywordValue(name);\n  }\n  return keywordCache[name];\n};\n/**\r\n * CSSColor\r\n */\nvar noneColor = new CSSRGB(0, 0, 0, 0, true);\nvar transparentColor = new CSSRGB(0, 0, 0, 0);\nvar getOrCreateRGBA = memoize(function (r, g, b, a) {\n  return new CSSRGB(r, g, b, a);\n}, function (r, g, b, a) {\n  return \"rgba(\" + r + \",\" + g + \",\" + b + \",\" + a + \")\";\n});\n// export const getOrCreateUnitValue = memoize(\n//   (value: number, unitOrName: UnitType | string = UnitType.kNumber) => {\n//     return new CSSUnitValue(value, unitOrName);\n//   },\n//   (value: number, unitOrName: UnitType | string = UnitType.kNumber) => {\n//     return `${value}${unitOrName}`;\n//   },\n// );\nvar getOrCreateUnitValue = function getOrCreateUnitValue(value, unitOrName) {\n  if (unitOrName === void 0) {\n    unitOrName = UnitType.kNumber;\n  }\n  return new CSSUnitValue(value, unitOrName);\n};\n\nvar canvasMap = {};\nvar defaultCanvasIdCounter = 0;\n/**\r\n * destroy existed canvas with the same id\r\n */\nfunction cleanExistedCanvas(container, canvas) {\n  if (container) {\n    var id = typeof container === 'string' ? container : container.id || defaultCanvasIdCounter++;\n    if (canvasMap[id]) {\n      canvasMap[id].destroy();\n    }\n    canvasMap[id] = canvas;\n  }\n}\nvar isBrowser = typeof window !== 'undefined' && typeof window.document !== 'undefined';\n\nfunction sortByZIndex(o1, o2) {\n  var zIndex1 = Number(o1.style.zIndex);\n  var zIndex2 = Number(o2.style.zIndex);\n  if (zIndex1 === zIndex2) {\n    // return o1.entity.getComponent(Sortable).lastSortedIndex - o2.entity.getComponent(Sortable).lastSortedIndex;\n    var parent = o1.parentNode;\n    if (parent) {\n      var children = parent.childNodes || [];\n      return children.indexOf(o1) - children.indexOf(o2);\n    }\n  }\n  return zIndex1 - zIndex2;\n}\nfunction findClosestClipPathTarget(object) {\n  var el = object;\n  do {\n    var _el$style;\n    var clipPath = (_el$style = el.style) === null || _el$style === void 0 ? void 0 : _el$style.clipPath;\n    if (clipPath) return el;\n    el = el.parentElement;\n  } while (el !== null);\n  return null;\n}\nvar PX_SUFFIX = 'px';\nfunction setDOMSize($el, width, height) {\n  if (isBrowser && $el.style) {\n    $el.style.width = width + PX_SUFFIX;\n    $el.style.height = height + PX_SUFFIX;\n  }\n}\nfunction getStyle($el, property) {\n  if (isBrowser) {\n    return document.defaultView.getComputedStyle($el, null).getPropertyValue(property);\n  }\n}\nfunction getWidth($el) {\n  var width = getStyle($el, 'width');\n  if (width === 'auto') {\n    return $el.offsetWidth;\n  }\n  return parseFloat(width);\n}\nfunction getHeight($el) {\n  var height = getStyle($el, 'height');\n  if (height === 'auto') {\n    return $el.offsetHeight;\n  }\n  return parseFloat(height);\n}\n\nvar ERROR_MSG_METHOD_NOT_IMPLEMENTED = 'Method not implemented.';\nvar ERROR_MSG_USE_DOCUMENT_ELEMENT = 'Use document.documentElement instead.';\nvar ERROR_MSG_APPEND_DESTROYED_ELEMENT = 'Cannot append a destroyed element.';\n\n// borrow from hammer.js\nvar MOUSE_POINTER_ID = 1;\nvar TOUCH_TO_POINTER = {\n  touchstart: 'pointerdown',\n  touchend: 'pointerup',\n  touchendoutside: 'pointerupoutside',\n  touchmove: 'pointermove',\n  touchcancel: 'pointercancel'\n};\n\nfunction copyVec3(a, b) {\n  a[0] = b[0];\n  a[1] = b[1];\n  a[2] = b[2];\n  return a;\n}\nfunction subVec3(o, a, b) {\n  o[0] = a[0] - b[0];\n  o[1] = a[1] - b[1];\n  o[2] = a[2] - b[2];\n  return o;\n}\nfunction addVec3(o, a, b) {\n  o[0] = a[0] + b[0];\n  o[1] = a[1] + b[1];\n  o[2] = a[2] + b[2];\n  return o;\n}\nfunction scaleVec3(o, a, b) {\n  o[0] = a[0] * b;\n  o[1] = a[1] * b;\n  o[2] = a[2] * b;\n  return o;\n}\nfunction maxVec3(o, a, b) {\n  o[0] = Math.max(a[0], b[0]);\n  o[1] = Math.max(a[1], b[1]);\n  o[2] = Math.max(a[2], b[2]);\n  return o;\n}\nfunction minVec3(o, a, b) {\n  o[0] = Math.min(a[0], b[0]);\n  o[1] = Math.min(a[1], b[1]);\n  o[2] = Math.min(a[2], b[2]);\n  return o;\n}\nfunction getAngle(angle) {\n  if (angle === undefined) {\n    return 0;\n  } else if (angle > 360 || angle < -360) {\n    return angle % 360;\n  }\n  return angle;\n}\nfunction createVec3(x, y, z) {\n  if (y === void 0) {\n    y = 0;\n  }\n  if (z === void 0) {\n    z = 0;\n  }\n  if (isNumber(x)) {\n    return vec3.fromValues(x, y, z);\n  }\n  if (Array.isArray(x) && x.length === 3) {\n    return vec3.clone(x);\n  }\n  return vec3.fromValues(x[0], x[1] || y, x[2] || z);\n}\nfunction deg2rad(deg) {\n  return deg * (Math.PI / 180);\n}\nfunction rad2deg(rad) {\n  return rad * (180 / Math.PI);\n}\nfunction grad2deg(grads) {\n  grads = grads % 400;\n  if (grads < 0) {\n    grads += 400;\n  }\n  return grads / 400 * 360;\n}\nfunction deg2turn(deg) {\n  return deg / 360;\n}\nfunction turn2deg(turn) {\n  return 360 * turn;\n}\nfunction getEulerFromQuat(out, quat) {\n  var x = quat[0];\n  var y = quat[1];\n  var z = quat[2];\n  var w = quat[3];\n  var x2 = x * x;\n  var y2 = y * y;\n  var z2 = z * z;\n  var w2 = w * w;\n  var unit = x2 + y2 + z2 + w2;\n  var test = x * w - y * z;\n  if (test > 0.499995 * unit) {\n    // TODO: Use glmatrix.EPSILON\n    // singularity at the north pole\n    out[0] = Math.PI / 2;\n    out[1] = 2 * Math.atan2(y, x);\n    out[2] = 0;\n  } else if (test < -0.499995 * unit) {\n    //TODO: Use glmatrix.EPSILON\n    // singularity at the south pole\n    out[0] = -Math.PI / 2;\n    out[1] = 2 * Math.atan2(y, x);\n    out[2] = 0;\n  } else {\n    out[0] = Math.asin(2 * (x * z - w * y));\n    out[1] = Math.atan2(2 * (x * w + y * z), 1 - 2 * (z2 + w2));\n    out[2] = Math.atan2(2 * (x * y + z * w), 1 - 2 * (y2 + z2));\n  }\n  // TODO: Return them as degrees and not as radians\n  return out;\n}\nfunction getEulerFromMat4(out, m) {\n  var x;\n  var z;\n  var halfPi = Math.PI * 0.5;\n  var _mat4$getScaling = mat4.getScaling(vec3.create(), m),\n    sx = _mat4$getScaling[0],\n    sy = _mat4$getScaling[1],\n    sz = _mat4$getScaling[2];\n  var y = Math.asin(-m[2] / sx);\n  if (y < halfPi) {\n    if (y > -halfPi) {\n      x = Math.atan2(m[6] / sy, m[10] / sz);\n      z = Math.atan2(m[1] / sx, m[0] / sx);\n    } else {\n      // Not a unique solution\n      z = 0;\n      x = -Math.atan2(m[4] / sy, m[5] / sy);\n    }\n  } else {\n    // Not a unique solution\n    z = 0;\n    x = Math.atan2(m[4] / sy, m[5] / sy);\n  }\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\r\n * @see https://github.com/toji/gl-matrix/issues/329\r\n * @see https://doc.babylonjs.com/divingDeeper/mesh/transforms/center_origin/rotation_conventions\r\n */\nfunction getEuler(out, quat) {\n  if (quat.length === 16) {\n    return getEulerFromMat4(out, quat);\n  } else {\n    return getEulerFromQuat(out, quat);\n  }\n}\nfunction fromRotationTranslationScale(rotation, x, y, scaleX, scaleY) {\n  var cos = Math.cos(rotation);\n  var sin = Math.sin(rotation);\n  return mat3.fromValues(scaleX * cos, scaleY * sin, 0, -scaleX * sin, scaleY * cos, 0, x, y, 1);\n}\nfunction makePerspective(out, left, right, top, bottom, near, far) {\n  var x = 2 * near / (right - left);\n  var y = 2 * near / (top - bottom);\n  var a = (right + left) / (right - left);\n  var b = (top + bottom) / (top - bottom);\n  var c = -(far + near) / (far - near);\n  var d = -2 * far * near / (far - near);\n  out[0] = x;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = y;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = a;\n  out[9] = b;\n  out[10] = c;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = d;\n  out[15] = 0;\n  return out;\n}\nfunction decompose(mat) {\n  var row0x = mat[0];\n  var row0y = mat[1];\n  var row1x = mat[3];\n  var row1y = mat[4];\n  // decompose 3x3 matrix\n  // @see https://www.w3.org/TR/css-transforms-1/#decomposing-a-2d-matrix\n  var scalingX = Math.sqrt(row0x * row0x + row0y * row0y);\n  var scalingY = Math.sqrt(row1x * row1x + row1y * row1y);\n  // If determinant is negative, one axis was flipped.\n  var determinant = row0x * row1y - row0y * row1x;\n  if (determinant < 0) {\n    // Flip axis with minimum unit vector dot product.\n    if (row0x < row1y) {\n      scalingX = -scalingX;\n    } else {\n      scalingY = -scalingY;\n    }\n  }\n  // Renormalize matrix to remove scale.\n  if (scalingX) {\n    row0x *= 1 / scalingX;\n    row0y *= 1 / scalingX;\n  }\n  if (scalingY) {\n    row1x *= 1 / scalingY;\n    row1y *= 1 / scalingY;\n  }\n  // Compute rotation and renormalize matrix.\n  var rotation = Math.atan2(row0y, row0x);\n  var angle = rad2deg(rotation);\n  return [mat[6], mat[7], scalingX, scalingY, angle];\n}\nvar tmp = mat4.create();\nvar perspectiveMatrix = mat4.create();\nvar tmpVec4 = vec4.create();\nvar row = [vec3.create(), vec3.create(), vec3.create()];\nvar pdum3 = vec3.create();\n/*\r\nInput:  matrix      ; a 4x4 matrix\r\nOutput: translation ; a 3 component vector\r\n        scale       ; a 3 component vector\r\n        skew        ; skew factors XY,XZ,YZ represented as a 3 component vector\r\n        perspective ; a 4 component vector\r\n        quaternion  ; a 4 component vector\r\nReturns false if the matrix cannot be decomposed, true if it can\r\n\n\nReferences:\r\nhttps://github.com/kamicane/matrix3d/blob/master/lib/Matrix3d.js\r\nhttps://github.com/ChromiumWebApps/chromium/blob/master/ui/gfx/transform_util.cc\r\nhttp://www.w3.org/TR/css3-transforms/#decomposing-a-3d-matrix\r\n*/\nfunction decomposeMat4(matrix, translation, scale, skew, perspective, quaternion) {\n  //normalize, if not possible then bail out early\n  if (!normalize(tmp, matrix)) return false;\n  // perspectiveMatrix is used to solve for perspective, but it also provides\n  // an easy way to test for singularity of the upper 3x3 component.\n  mat4.copy(perspectiveMatrix, tmp);\n  perspectiveMatrix[3] = 0;\n  perspectiveMatrix[7] = 0;\n  perspectiveMatrix[11] = 0;\n  perspectiveMatrix[15] = 1;\n  // If the perspectiveMatrix is not invertible, we are also unable to\n  // decompose, so we'll bail early. Constant taken from SkMatrix44::invert.\n  if (Math.abs(mat4.determinant(perspectiveMatrix)) < 1e-8) return false;\n  var a03 = tmp[3],\n    a13 = tmp[7],\n    a23 = tmp[11],\n    a30 = tmp[12],\n    a31 = tmp[13],\n    a32 = tmp[14],\n    a33 = tmp[15];\n  // First, isolate perspective.\n  if (a03 !== 0 || a13 !== 0 || a23 !== 0) {\n    tmpVec4[0] = a03;\n    tmpVec4[1] = a13;\n    tmpVec4[2] = a23;\n    tmpVec4[3] = a33;\n    // Solve the equation by inverting perspectiveMatrix and multiplying\n    // rightHandSide by the inverse.\n    // resuing the perspectiveMatrix here since it's no longer needed\n    var ret = mat4.invert(perspectiveMatrix, perspectiveMatrix);\n    if (!ret) return false;\n    mat4.transpose(perspectiveMatrix, perspectiveMatrix);\n    //multiply by transposed inverse perspective matrix, into perspective vec4\n    vec4.transformMat4(perspective, tmpVec4, perspectiveMatrix);\n  } else {\n    //no perspective\n    perspective[0] = perspective[1] = perspective[2] = 0;\n    perspective[3] = 1;\n  }\n  // Next take care of translation\n  translation[0] = a30;\n  translation[1] = a31;\n  translation[2] = a32;\n  // Now get scale and shear. 'row' is a 3 element array of 3 component vectors\n  mat3from4(row, tmp);\n  // Compute X scale factor and normalize first row.\n  scale[0] = vec3.length(row[0]);\n  vec3.normalize(row[0], row[0]);\n  // Compute XY shear factor and make 2nd row orthogonal to 1st.\n  skew[0] = vec3.dot(row[0], row[1]);\n  combine(row[1], row[1], row[0], 1.0, -skew[0]);\n  // Now, compute Y scale and normalize 2nd row.\n  scale[1] = vec3.length(row[1]);\n  vec3.normalize(row[1], row[1]);\n  skew[0] /= scale[1];\n  // Compute XZ and YZ shears, orthogonalize 3rd row\n  skew[1] = vec3.dot(row[0], row[2]);\n  combine(row[2], row[2], row[0], 1.0, -skew[1]);\n  skew[2] = vec3.dot(row[1], row[2]);\n  combine(row[2], row[2], row[1], 1.0, -skew[2]);\n  // Next, get Z scale and normalize 3rd row.\n  scale[2] = vec3.length(row[2]);\n  vec3.normalize(row[2], row[2]);\n  skew[1] /= scale[2];\n  skew[2] /= scale[2];\n  // At this point, the matrix (in rows) is orthonormal.\n  // Check for a coordinate system flip.  If the determinant\n  // is -1, then negate the matrix and the scaling factors.\n  vec3.cross(pdum3, row[1], row[2]);\n  if (vec3.dot(row[0], pdum3) < 0) {\n    for (var i = 0; i < 3; i++) {\n      scale[i] *= -1;\n      row[i][0] *= -1;\n      row[i][1] *= -1;\n      row[i][2] *= -1;\n    }\n  }\n  // Now, get the rotations out\n  quaternion[0] = 0.5 * Math.sqrt(Math.max(1 + row[0][0] - row[1][1] - row[2][2], 0));\n  quaternion[1] = 0.5 * Math.sqrt(Math.max(1 - row[0][0] + row[1][1] - row[2][2], 0));\n  quaternion[2] = 0.5 * Math.sqrt(Math.max(1 - row[0][0] - row[1][1] + row[2][2], 0));\n  quaternion[3] = 0.5 * Math.sqrt(Math.max(1 + row[0][0] + row[1][1] + row[2][2], 0));\n  if (row[2][1] > row[1][2]) quaternion[0] = -quaternion[0];\n  if (row[0][2] > row[2][0]) quaternion[1] = -quaternion[1];\n  if (row[1][0] > row[0][1]) quaternion[2] = -quaternion[2];\n  return true;\n}\nfunction normalize(out, mat) {\n  var m44 = mat[15];\n  // Cannot normalize.\n  if (m44 === 0) return false;\n  var scale = 1 / m44;\n  for (var i = 0; i < 16; i++) {\n    out[i] = mat[i] * scale;\n  }\n  return true;\n}\n//gets upper-left of a 4x4 matrix into a 3x3 of vectors\nfunction mat3from4(out, mat4x4) {\n  out[0][0] = mat4x4[0];\n  out[0][1] = mat4x4[1];\n  out[0][2] = mat4x4[2];\n  out[1][0] = mat4x4[4];\n  out[1][1] = mat4x4[5];\n  out[1][2] = mat4x4[6];\n  out[2][0] = mat4x4[8];\n  out[2][1] = mat4x4[9];\n  out[2][2] = mat4x4[10];\n}\nfunction combine(out, a, b, scale1, scale2) {\n  out[0] = a[0] * scale1 + b[0] * scale2;\n  out[1] = a[1] * scale1 + b[1] * scale2;\n  out[2] = a[2] * scale1 + b[2] * scale2;\n}\nvar tmpMat4 = mat4.create();\nfunction parsedTransformToMat4(transform, object) {\n  if (transform && transform.length) {\n    var defX = 0;\n    var defY = 0;\n    if (object) {\n      defX = object.parsedStyle.defX || 0;\n      defY = object.parsedStyle.defY || 0;\n      // reset transform\n      object.resetLocalTransform();\n      object.setLocalPosition(defX, defY);\n    } else {\n      object = new DisplayObject({});\n    }\n    transform.forEach(function (parsed) {\n      var t = parsed.t,\n        d = parsed.d;\n      if (t === 'scale') {\n        // scale(1) scale(1, 1)\n        var newScale = (d === null || d === void 0 ? void 0 : d.map(function (s) {\n          return s.value;\n        })) || [1, 1];\n        object.scaleLocal(newScale[0], newScale[1], 1);\n      } else if (t === 'scalex') {\n        var _newScale = (d === null || d === void 0 ? void 0 : d.map(function (s) {\n          return s.value;\n        })) || [1];\n        object.scaleLocal(_newScale[0], 1, 1);\n      } else if (t === 'scaley') {\n        var _newScale2 = (d === null || d === void 0 ? void 0 : d.map(function (s) {\n          return s.value;\n        })) || [1];\n        object.scaleLocal(1, _newScale2[0], 1);\n      } else if (t === 'scalez') {\n        var _newScale3 = (d === null || d === void 0 ? void 0 : d.map(function (s) {\n          return s.value;\n        })) || [1];\n        object.scaleLocal(1, 1, _newScale3[0]);\n      } else if (t === 'scale3d') {\n        var _newScale4 = (d === null || d === void 0 ? void 0 : d.map(function (s) {\n          return s.value;\n        })) || [1, 1, 1];\n        object.scaleLocal(_newScale4[0], _newScale4[1], _newScale4[2]);\n      } else if (t === 'translate') {\n        var newTranslation = d || [Opx, Opx];\n        object.translateLocal(newTranslation[0].value, newTranslation[1].value, 0);\n      } else if (t === 'translatex') {\n        var _newTranslation = d || [Opx];\n        object.translateLocal(_newTranslation[0].value, 0, 0);\n      } else if (t === 'translatey') {\n        var _newTranslation2 = d || [Opx];\n        object.translateLocal(0, _newTranslation2[0].value, 0);\n      } else if (t === 'translatez') {\n        var _newTranslation3 = d || [Opx];\n        object.translateLocal(0, 0, _newTranslation3[0].value);\n      } else if (t === 'translate3d') {\n        var _newTranslation4 = d || [Opx, Opx, Opx];\n        object.translateLocal(_newTranslation4[0].value, _newTranslation4[1].value, _newTranslation4[2].value);\n      } else if (t === 'rotate') {\n        var newAngles = d || [Odeg];\n        object.rotateLocal(0, 0, convertAngleUnit(newAngles[0]));\n      } else if (t === 'rotatex') {\n        var _newAngles = d || [Odeg];\n        object.rotateLocal(convertAngleUnit(_newAngles[0]), 0, 0);\n      } else if (t === 'rotatey') {\n        var _newAngles2 = d || [Odeg];\n        object.rotateLocal(0, convertAngleUnit(_newAngles2[0]), 0);\n      } else if (t === 'rotatez') {\n        var _newAngles3 = d || [Odeg];\n        object.rotateLocal(0, 0, convertAngleUnit(_newAngles3[0]));\n      } else if (t === 'rotate3d') ; else if (t === 'skew') {\n        var newSkew = (d === null || d === void 0 ? void 0 : d.map(function (s) {\n          return s.value;\n        })) || [0, 0];\n        object.setLocalSkew(deg2rad(newSkew[0]), deg2rad(newSkew[1]));\n      } else if (t === 'skewx') {\n        var _newSkew = (d === null || d === void 0 ? void 0 : d.map(function (s) {\n          return s.value;\n        })) || [0];\n        object.setLocalSkew(deg2rad(_newSkew[0]), object.getLocalSkew()[1]);\n      } else if (t === 'skewy') {\n        var _newSkew2 = (d === null || d === void 0 ? void 0 : d.map(function (s) {\n          return s.value;\n        })) || [0];\n        object.setLocalSkew(object.getLocalSkew()[0], deg2rad(_newSkew2[0]));\n      } else if (t === 'matrix') {\n        var _d$map = d.map(function (s) {\n            return s.value;\n          }),\n          a = _d$map[0],\n          b = _d$map[1],\n          c = _d$map[2],\n          dd = _d$map[3],\n          tx = _d$map[4],\n          ty = _d$map[5];\n        object.setLocalTransform(mat4.set(tmpMat4, a, b, 0, 0, c, dd, 0, 0, 0, 0, 1, 0, tx + defX, ty + defY, 0, 1));\n      } else if (t === 'matrix3d') {\n        // @ts-ignore\n        mat4.set.apply(mat4, [tmpMat4].concat(d.map(function (s) {\n          return s.value;\n        })));\n        tmpMat4[12] += defX;\n        tmpMat4[13] += defY;\n        object.setLocalTransform(tmpMat4);\n      }\n    });\n  }\n  return object.getLocalTransform();\n}\n\n/**\r\n * borrow from gradient-parser, but we delete some browser compatible prefix such as `-webkit-`\r\n * @see https://github.com/rafaelcaricio/gradient-parser\r\n */\nfunction colorStopToString(colorStop) {\n  var type = colorStop.type,\n    value = colorStop.value;\n  if (type === 'hex') {\n    return \"#\" + value;\n  } else if (type === 'literal') {\n    return value;\n  } else if (type === 'rgb') {\n    return \"rgb(\" + value.join(',') + \")\";\n  } else {\n    return \"rgba(\" + value.join(',') + \")\";\n  }\n}\nvar parseGradient = function () {\n  var tokens = {\n    linearGradient: /^(linear\\-gradient)/i,\n    repeatingLinearGradient: /^(repeating\\-linear\\-gradient)/i,\n    radialGradient: /^(radial\\-gradient)/i,\n    repeatingRadialGradient: /^(repeating\\-radial\\-gradient)/i,\n    /**\r\n     * @see https://projects.verou.me/conic-gradient/\r\n     */\n    conicGradient: /^(conic\\-gradient)/i,\n    sideOrCorner: /^to (left (top|bottom)|right (top|bottom)|top (left|right)|bottom (left|right)|left|right|top|bottom)/i,\n    extentKeywords: /^(closest\\-side|closest\\-corner|farthest\\-side|farthest\\-corner|contain|cover)/,\n    positionKeywords: /^(left|center|right|top|bottom)/i,\n    pixelValue: /^(-?(([0-9]*\\.[0-9]+)|([0-9]+\\.?)))px/,\n    percentageValue: /^(-?(([0-9]*\\.[0-9]+)|([0-9]+\\.?)))\\%/,\n    emValue: /^(-?(([0-9]*\\.[0-9]+)|([0-9]+\\.?)))em/,\n    angleValue: /^(-?(([0-9]*\\.[0-9]+)|([0-9]+\\.?)))deg/,\n    startCall: /^\\(/,\n    endCall: /^\\)/,\n    comma: /^,/,\n    hexColor: /^\\#([0-9a-fA-F]+)/,\n    literalColor: /^([a-zA-Z]+)/,\n    rgbColor: /^rgb/i,\n    rgbaColor: /^rgba/i,\n    number: /^(([0-9]*\\.[0-9]+)|([0-9]+\\.?))/\n  };\n  var input = '';\n  function error(msg) {\n    throw new Error(input + ': ' + msg);\n  }\n  function getAST() {\n    var ast = matchListDefinitions();\n    if (input.length > 0) {\n      error('Invalid input not EOF');\n    }\n    return ast;\n  }\n  function matchListDefinitions() {\n    return matchListing(matchDefinition);\n  }\n  function matchDefinition() {\n    return matchGradient('linear-gradient', tokens.linearGradient, matchLinearOrientation) || matchGradient('repeating-linear-gradient', tokens.repeatingLinearGradient, matchLinearOrientation) || matchGradient('radial-gradient', tokens.radialGradient, matchListRadialOrientations) || matchGradient('repeating-radial-gradient', tokens.repeatingRadialGradient, matchListRadialOrientations) || matchGradient('conic-gradient', tokens.conicGradient, matchListRadialOrientations);\n  }\n  function matchGradient(gradientType, pattern, orientationMatcher) {\n    return matchCall(pattern, function (captures) {\n      var orientation = orientationMatcher();\n      if (orientation) {\n        if (!scan(tokens.comma)) {\n          error('Missing comma before color stops');\n        }\n      }\n      return {\n        type: gradientType,\n        orientation: orientation,\n        colorStops: matchListing(matchColorStop)\n      };\n    });\n  }\n  function matchCall(pattern, callback) {\n    var captures = scan(pattern);\n    if (captures) {\n      if (!scan(tokens.startCall)) {\n        error('Missing (');\n      }\n      var result = callback(captures);\n      if (!scan(tokens.endCall)) {\n        error('Missing )');\n      }\n      return result;\n    }\n  }\n  function matchLinearOrientation() {\n    return matchSideOrCorner() || matchAngle();\n  }\n  function matchSideOrCorner() {\n    return match('directional', tokens.sideOrCorner, 1);\n  }\n  function matchAngle() {\n    return match('angular', tokens.angleValue, 1);\n  }\n  function matchListRadialOrientations() {\n    var radialOrientations,\n      radialOrientation = matchRadialOrientation(),\n      lookaheadCache;\n    if (radialOrientation) {\n      radialOrientations = [];\n      radialOrientations.push(radialOrientation);\n      lookaheadCache = input;\n      if (scan(tokens.comma)) {\n        radialOrientation = matchRadialOrientation();\n        if (radialOrientation) {\n          radialOrientations.push(radialOrientation);\n        } else {\n          input = lookaheadCache;\n        }\n      }\n    }\n    return radialOrientations;\n  }\n  function matchRadialOrientation() {\n    var radialType = matchCircle() || matchEllipse();\n    if (radialType) {\n      // @ts-ignore\n      radialType.at = matchAtPosition();\n    } else {\n      var extent = matchExtentKeyword();\n      if (extent) {\n        radialType = extent;\n        var positionAt = matchAtPosition();\n        if (positionAt) {\n          // @ts-ignore\n          radialType.at = positionAt;\n        }\n      } else {\n        var defaultPosition = matchPositioning();\n        if (defaultPosition) {\n          radialType = {\n            type: 'default-radial',\n            // @ts-ignore\n            at: defaultPosition\n          };\n        }\n      }\n    }\n    return radialType;\n  }\n  function matchCircle() {\n    var circle = match('shape', /^(circle)/i, 0);\n    if (circle) {\n      // @ts-ignore\n      circle.style = matchLength() || matchExtentKeyword();\n    }\n    return circle;\n  }\n  function matchEllipse() {\n    var ellipse = match('shape', /^(ellipse)/i, 0);\n    if (ellipse) {\n      // @ts-ignore\n      ellipse.style = matchDistance() || matchExtentKeyword();\n    }\n    return ellipse;\n  }\n  function matchExtentKeyword() {\n    return match('extent-keyword', tokens.extentKeywords, 1);\n  }\n  function matchAtPosition() {\n    if (match('position', /^at/, 0)) {\n      var positioning = matchPositioning();\n      if (!positioning) {\n        error('Missing positioning value');\n      }\n      return positioning;\n    }\n  }\n  function matchPositioning() {\n    var location = matchCoordinates();\n    if (location.x || location.y) {\n      return {\n        type: 'position',\n        value: location\n      };\n    }\n  }\n  function matchCoordinates() {\n    return {\n      x: matchDistance(),\n      y: matchDistance()\n    };\n  }\n  function matchListing(matcher) {\n    var captures = matcher();\n    var result = [];\n    if (captures) {\n      result.push(captures);\n      while (scan(tokens.comma)) {\n        captures = matcher();\n        if (captures) {\n          result.push(captures);\n        } else {\n          error('One extra comma');\n        }\n      }\n    }\n    return result;\n  }\n  function matchColorStop() {\n    var color = matchColor();\n    if (!color) {\n      error('Expected color definition');\n    }\n    color.length = matchDistance();\n    return color;\n  }\n  function matchColor() {\n    return matchHexColor() || matchRGBAColor() || matchRGBColor() || matchLiteralColor();\n  }\n  function matchLiteralColor() {\n    return match('literal', tokens.literalColor, 0);\n  }\n  function matchHexColor() {\n    return match('hex', tokens.hexColor, 1);\n  }\n  function matchRGBColor() {\n    return matchCall(tokens.rgbColor, function () {\n      return {\n        type: 'rgb',\n        value: matchListing(matchNumber)\n      };\n    });\n  }\n  function matchRGBAColor() {\n    return matchCall(tokens.rgbaColor, function () {\n      return {\n        type: 'rgba',\n        value: matchListing(matchNumber)\n      };\n    });\n  }\n  function matchNumber() {\n    return scan(tokens.number)[1];\n  }\n  function matchDistance() {\n    return match('%', tokens.percentageValue, 1) || matchPositionKeyword() || matchLength();\n  }\n  function matchPositionKeyword() {\n    return match('position-keyword', tokens.positionKeywords, 1);\n  }\n  function matchLength() {\n    return match('px', tokens.pixelValue, 1) || match('em', tokens.emValue, 1);\n  }\n  function match(type, pattern, captureIndex) {\n    var captures = scan(pattern);\n    if (captures) {\n      return {\n        type: type,\n        value: captures[captureIndex]\n      };\n    }\n  }\n  function scan(regexp) {\n    var blankCaptures = /^[\\n\\r\\t\\s]+/.exec(input);\n    if (blankCaptures) {\n      consume(blankCaptures[0].length);\n    }\n    var captures = regexp.exec(input);\n    if (captures) {\n      consume(captures[0].length);\n    }\n    return captures;\n  }\n  function consume(size) {\n    input = input.substring(size);\n  }\n  return function (code) {\n    input = code;\n    return getAST();\n  };\n}();\nfunction computeLinearGradient(width, height, angle) {\n  var rad = deg2rad(angle.value);\n  var rx = 0;\n  var ry = 0;\n  var rcx = rx + width / 2;\n  var rcy = ry + height / 2;\n  // get the length of gradient line\n  // @see https://observablehq.com/@danburzo/css-gradient-line\n  var length = Math.abs(width * Math.cos(rad)) + Math.abs(height * Math.sin(rad));\n  var x1 = rcx - Math.cos(rad) * length / 2;\n  var y1 = rcy - Math.sin(rad) * length / 2;\n  var x2 = rcx + Math.cos(rad) * length / 2;\n  var y2 = rcy + Math.sin(rad) * length / 2;\n  return {\n    x1: x1,\n    y1: y1,\n    x2: x2,\n    y2: y2\n  };\n}\nfunction computeRadialGradient(width, height, cx, cy, size) {\n  // 'px'\n  var x = cx.value;\n  var y = cy.value;\n  // TODO: 'em'\n  // '%'\n  if (cx.unit === UnitType.kPercentage) {\n    x = cx.value / 100 * width;\n  }\n  if (cy.unit === UnitType.kPercentage) {\n    y = cy.value / 100 * height;\n  }\n  // default to farthest-side\n  var r = Math.max(distanceSquareRoot([0, 0], [x, y]), distanceSquareRoot([0, height], [x, y]), distanceSquareRoot([width, height], [x, y]), distanceSquareRoot([width, 0], [x, y]));\n  if (size) {\n    if (size instanceof CSSUnitValue) {\n      r = size.value;\n    } else if (size instanceof CSSKeywordValue) {\n      // @see https://developer.mozilla.org/zh-CN/docs/Web/CSS/CSS_Images/Using_CSS_gradients#example_closest-side_for_circles\n      if (size.value === 'closest-side') {\n        r = Math.min(x, width - x, y, height - y);\n      } else if (size.value === 'farthest-side') {\n        r = Math.max(x, width - x, y, height - y);\n      } else if (size.value === 'closest-corner') {\n        r = Math.min(distanceSquareRoot([0, 0], [x, y]), distanceSquareRoot([0, height], [x, y]), distanceSquareRoot([width, height], [x, y]), distanceSquareRoot([width, 0], [x, y]));\n      }\n    }\n  }\n  return {\n    x: x,\n    y: y,\n    r: r\n  };\n}\n\nvar Shape;\n(function (Shape) {\n  Shape[\"GROUP\"] = \"g\";\n  Shape[\"CIRCLE\"] = \"circle\";\n  Shape[\"ELLIPSE\"] = \"ellipse\";\n  Shape[\"IMAGE\"] = \"image\";\n  Shape[\"RECT\"] = \"rect\";\n  Shape[\"LINE\"] = \"line\";\n  Shape[\"POLYLINE\"] = \"polyline\";\n  Shape[\"POLYGON\"] = \"polygon\";\n  Shape[\"TEXT\"] = \"text\";\n  Shape[\"PATH\"] = \"path\";\n  Shape[\"HTML\"] = \"html\";\n  Shape[\"MESH\"] = \"mesh\";\n})(Shape || (Shape = {}));\n\nfunction getOrCalculatePathTotalLength(path) {\n  if (path.parsedStyle.path.totalLength === 0) {\n    path.parsedStyle.path.totalLength = getTotalLength(path.parsedStyle.path.absolutePath);\n  }\n  return path.parsedStyle.path.totalLength;\n}\nfunction hasArcOrBezier(path) {\n  var hasArc = false;\n  var count = path.length;\n  for (var i = 0; i < count; i++) {\n    var params = path[i];\n    var cmd = params[0];\n    if (cmd === 'C' || cmd === 'A' || cmd === 'Q') {\n      hasArc = true;\n      break;\n    }\n  }\n  return hasArc;\n}\nfunction extractPolygons(pathArray) {\n  var polygons = [];\n  var polylines = [];\n  var points = []; // 防止第一个命令不是 'M'\n  for (var i = 0; i < pathArray.length; i++) {\n    var params = pathArray[i];\n    var cmd = params[0];\n    if (cmd === 'M') {\n      // 遇到 'M' 判定是否是新数组，新数组中没有点\n      if (points.length) {\n        // 如果存在点，则说明没有遇到 'Z'，开始了一个新的多边形\n        polylines.push(points);\n        points = []; // 创建新的点\n      }\n\n      points.push([params[1], params[2]]);\n    } else if (cmd === 'Z') {\n      if (points.length) {\n        // 存在点\n        polygons.push(points);\n        points = []; // 开始新的点集合\n      }\n      // 如果不存在点，同时 'Z'，则说明是错误，不处理\n    } else {\n      points.push([params[1], params[2]]);\n    }\n  }\n  // 说明 points 未放入 polygons 或者 polyline\n  // 仅当只有一个 M，没有 Z 时会发生这种情况\n  if (points.length > 0) {\n    polylines.push(points);\n  }\n  return {\n    polygons: polygons,\n    polylines: polylines\n  };\n}\nfunction isSamePoint(point1, point2) {\n  return point1[0] === point2[0] && point1[1] === point2[1];\n}\nfunction getPathBBox(segments, lineWidth) {\n  var xArr = [];\n  var yArr = [];\n  var segmentsWithAngle = [];\n  for (var i = 0; i < segments.length; i++) {\n    var segment = segments[i];\n    var currentPoint = segment.currentPoint,\n      params = segment.params,\n      prePoint = segment.prePoint;\n    var box = void 0;\n    switch (segment.command) {\n      case 'Q':\n        box = Quad.box(prePoint[0], prePoint[1], params[1], params[2], params[3], params[4]);\n        break;\n      case 'C':\n        box = Cubic.box(prePoint[0], prePoint[1], params[1], params[2], params[3], params[4], params[5], params[6]);\n        break;\n      case 'A':\n        var arcParams = segment.arcParams;\n        box = Arc.box(arcParams.cx, arcParams.cy, arcParams.rx, arcParams.ry, arcParams.xRotation, arcParams.startAngle, arcParams.endAngle);\n        break;\n      default:\n        xArr.push(currentPoint[0]);\n        yArr.push(currentPoint[1]);\n        break;\n    }\n    if (box) {\n      segment.box = box;\n      xArr.push(box.x, box.x + box.width);\n      yArr.push(box.y, box.y + box.height);\n    }\n    if (lineWidth && (segment.command === 'L' || segment.command === 'M') && segment.prePoint && segment.nextPoint) {\n      segmentsWithAngle.push(segment);\n    }\n  }\n  // bbox calculation should ignore NaN for path attribute\n  // ref: https://github.com/antvis/g/issues/210\n  // ref: https://github.com/antvis/G2/issues/3109\n  xArr = xArr.filter(function (item) {\n    return !Number.isNaN(item) && item !== Infinity && item !== -Infinity;\n  });\n  yArr = yArr.filter(function (item) {\n    return !Number.isNaN(item) && item !== Infinity && item !== -Infinity;\n  });\n  var minX = min(xArr);\n  var minY = min(yArr);\n  var maxX = max(xArr);\n  var maxY = max(yArr);\n  if (segmentsWithAngle.length === 0) {\n    return {\n      x: minX,\n      y: minY,\n      width: maxX - minX,\n      height: maxY - minY\n    };\n  }\n  for (var _i = 0; _i < segmentsWithAngle.length; _i++) {\n    var _segment = segmentsWithAngle[_i];\n    var _currentPoint = _segment.currentPoint;\n    var extra = void 0;\n    if (_currentPoint[0] === minX) {\n      extra = getExtraFromSegmentWithAngle(_segment, lineWidth);\n      minX = minX - extra.xExtra;\n    } else if (_currentPoint[0] === maxX) {\n      extra = getExtraFromSegmentWithAngle(_segment, lineWidth);\n      maxX = maxX + extra.xExtra;\n    }\n    if (_currentPoint[1] === minY) {\n      extra = getExtraFromSegmentWithAngle(_segment, lineWidth);\n      minY = minY - extra.yExtra;\n    } else if (_currentPoint[1] === maxY) {\n      extra = getExtraFromSegmentWithAngle(_segment, lineWidth);\n      maxY = maxY + extra.yExtra;\n    }\n  }\n  return {\n    x: minX,\n    y: minY,\n    width: maxX - minX,\n    height: maxY - minY\n  };\n}\nfunction getExtraFromSegmentWithAngle(segment, lineWidth) {\n  var prePoint = segment.prePoint,\n    currentPoint = segment.currentPoint,\n    nextPoint = segment.nextPoint;\n  var currentAndPre = Math.pow(currentPoint[0] - prePoint[0], 2) + Math.pow(currentPoint[1] - prePoint[1], 2);\n  var currentAndNext = Math.pow(currentPoint[0] - nextPoint[0], 2) + Math.pow(currentPoint[1] - nextPoint[1], 2);\n  var preAndNext = Math.pow(prePoint[0] - nextPoint[0], 2) + Math.pow(prePoint[1] - nextPoint[1], 2);\n  // 以 currentPoint 为顶点的夹角\n  var currentAngle = Math.acos((currentAndPre + currentAndNext - preAndNext) / (2 * Math.sqrt(currentAndPre) * Math.sqrt(currentAndNext)));\n  // 夹角为空、 0 或 PI 时，不需要计算夹角处的额外宽度\n  // 注意: 由于计算精度问题，夹角为 0 的情况计算出来的角度可能是一个很小的值，还需要判断其与 0 是否近似相等\n  if (!currentAngle || Math.sin(currentAngle) === 0 || isNumberEqual(currentAngle, 0)) {\n    return {\n      xExtra: 0,\n      yExtra: 0\n    };\n  }\n  var xAngle = Math.abs(Math.atan2(nextPoint[1] - currentPoint[1], nextPoint[0] - currentPoint[0]));\n  var yAngle = Math.abs(Math.atan2(nextPoint[0] - currentPoint[0], nextPoint[1] - currentPoint[1]));\n  // 将夹角转为锐角\n  xAngle = xAngle > Math.PI / 2 ? Math.PI - xAngle : xAngle;\n  yAngle = yAngle > Math.PI / 2 ? Math.PI - yAngle : yAngle;\n  // 这里不考虑在水平和垂直方向的投影，直接使用最大差值\n  // 由于上层统一加减了二分之一线宽，这里需要进行弥补\n  var extra = {\n    // 水平方向投影\n    xExtra: Math.cos(currentAngle / 2 - xAngle) * (lineWidth / 2 * (1 / Math.sin(currentAngle / 2))) - lineWidth / 2 || 0,\n    // 垂直方向投影\n    yExtra: Math.cos(yAngle - currentAngle / 2) * (lineWidth / 2 * (1 / Math.sin(currentAngle / 2))) - lineWidth / 2 || 0\n  };\n  return extra;\n}\n// 点对称\nfunction toSymmetry(point, center) {\n  return [center[0] + (center[0] - point[0]), center[1] + (center[1] - point[1])];\n}\nvar angleBetween = function angleBetween(v0, v1) {\n  var p = v0.x * v1.x + v0.y * v1.y;\n  var n = Math.sqrt((Math.pow(v0.x, 2) + Math.pow(v0.y, 2)) * (Math.pow(v1.x, 2) + Math.pow(v1.y, 2)));\n  var sign = v0.x * v1.y - v0.y * v1.x < 0 ? -1 : 1;\n  var angle = sign * Math.acos(p / n);\n  return angle;\n};\n/**\r\n * @see https://github.com/rveciana/svg-path-properties/blob/b6bd9a322966f6ef7a311872d80c56e3718de861/src/arc.ts#L121\r\n */\nvar pointOnEllipticalArc = function pointOnEllipticalArc(p0, rx, ry, xAxisRotation, largeArcFlag, sweepFlag, p1, t) {\n  // In accordance to: http://www.w3.org/TR/SVG/implnote.html#ArcOutOfRangeParameters\n  rx = Math.abs(rx);\n  ry = Math.abs(ry);\n  xAxisRotation = mod(xAxisRotation, 360);\n  var xAxisRotationRadians = deg2rad(xAxisRotation);\n  // If the endpoints are identical, then this is equivalent to omitting the elliptical arc segment entirely.\n  if (p0.x === p1.x && p0.y === p1.y) {\n    return {\n      x: p0.x,\n      y: p0.y,\n      ellipticalArcAngle: 0\n    }; // Check if angle is correct\n  }\n  // If rx = 0 or ry = 0 then this arc is treated as a straight line segment joining the endpoints.\n  if (rx === 0 || ry === 0) {\n    //return this.pointOnLine(p0, p1, t);\n    return {\n      x: 0,\n      y: 0,\n      ellipticalArcAngle: 0\n    }; // Check if angle is correct\n  }\n  // Following \"Conversion from endpoint to center parameterization\"\n  // http://www.w3.org/TR/SVG/implnote.html#ArcConversionEndpointToCenter\n  // Step #1: Compute transformedPoint\n  var dx = (p0.x - p1.x) / 2;\n  var dy = (p0.y - p1.y) / 2;\n  var transformedPoint = {\n    x: Math.cos(xAxisRotationRadians) * dx + Math.sin(xAxisRotationRadians) * dy,\n    y: -Math.sin(xAxisRotationRadians) * dx + Math.cos(xAxisRotationRadians) * dy\n  };\n  // Ensure radii are large enough\n  var radiiCheck = Math.pow(transformedPoint.x, 2) / Math.pow(rx, 2) + Math.pow(transformedPoint.y, 2) / Math.pow(ry, 2);\n  if (radiiCheck > 1) {\n    rx = Math.sqrt(radiiCheck) * rx;\n    ry = Math.sqrt(radiiCheck) * ry;\n  }\n  // Step #2: Compute transformedCenter\n  var cSquareNumerator = Math.pow(rx, 2) * Math.pow(ry, 2) - Math.pow(rx, 2) * Math.pow(transformedPoint.y, 2) - Math.pow(ry, 2) * Math.pow(transformedPoint.x, 2);\n  var cSquareRootDenom = Math.pow(rx, 2) * Math.pow(transformedPoint.y, 2) + Math.pow(ry, 2) * Math.pow(transformedPoint.x, 2);\n  var cRadicand = cSquareNumerator / cSquareRootDenom;\n  // Make sure this never drops below zero because of precision\n  cRadicand = cRadicand < 0 ? 0 : cRadicand;\n  var cCoef = (largeArcFlag !== sweepFlag ? 1 : -1) * Math.sqrt(cRadicand);\n  var transformedCenter = {\n    x: cCoef * (rx * transformedPoint.y / ry),\n    y: cCoef * (-(ry * transformedPoint.x) / rx)\n  };\n  // Step #3: Compute center\n  var center = {\n    x: Math.cos(xAxisRotationRadians) * transformedCenter.x - Math.sin(xAxisRotationRadians) * transformedCenter.y + (p0.x + p1.x) / 2,\n    y: Math.sin(xAxisRotationRadians) * transformedCenter.x + Math.cos(xAxisRotationRadians) * transformedCenter.y + (p0.y + p1.y) / 2\n  };\n  // Step #4: Compute start/sweep angles\n  // Start angle of the elliptical arc prior to the stretch and rotate operations.\n  // Difference between the start and end angles\n  var startVector = {\n    x: (transformedPoint.x - transformedCenter.x) / rx,\n    y: (transformedPoint.y - transformedCenter.y) / ry\n  };\n  var startAngle = angleBetween({\n    x: 1,\n    y: 0\n  }, startVector);\n  var endVector = {\n    x: (-transformedPoint.x - transformedCenter.x) / rx,\n    y: (-transformedPoint.y - transformedCenter.y) / ry\n  };\n  var sweepAngle = angleBetween(startVector, endVector);\n  if (!sweepFlag && sweepAngle > 0) {\n    sweepAngle -= 2 * Math.PI;\n  } else if (sweepFlag && sweepAngle < 0) {\n    sweepAngle += 2 * Math.PI;\n  }\n  // We use % instead of `mod(..)` because we want it to be -360deg to 360deg(but actually in radians)\n  sweepAngle %= 2 * Math.PI;\n  // From http://www.w3.org/TR/SVG/implnote.html#ArcParameterizationAlternatives\n  var angle = startAngle + sweepAngle * t;\n  var ellipseComponentX = rx * Math.cos(angle);\n  var ellipseComponentY = ry * Math.sin(angle);\n  var point = {\n    x: Math.cos(xAxisRotationRadians) * ellipseComponentX - Math.sin(xAxisRotationRadians) * ellipseComponentY + center.x,\n    y: Math.sin(xAxisRotationRadians) * ellipseComponentX + Math.cos(xAxisRotationRadians) * ellipseComponentY + center.y,\n    ellipticalArcStartAngle: startAngle,\n    ellipticalArcEndAngle: startAngle + sweepAngle,\n    ellipticalArcAngle: angle,\n    ellipticalArcCenter: center,\n    resultantRx: rx,\n    resultantRy: ry\n  };\n  return point;\n};\nfunction path2Segments(path) {\n  var segments = [];\n  var currentPoint = null; // 当前图形\n  var nextParams = null; // 下一节点的 path 参数\n  var startMovePoint = null; // 开始 M 的点，可能会有多个\n  var lastStartMovePointIndex = 0; // 最近一个开始点 M 的索引\n  var count = path.length;\n  for (var i = 0; i < count; i++) {\n    var params = path[i];\n    nextParams = path[i + 1];\n    var command = params[0];\n    // 数学定义上的参数，便于后面的计算\n    var segment = {\n      command: command,\n      prePoint: currentPoint,\n      params: params,\n      startTangent: null,\n      endTangent: null,\n      currentPoint: null,\n      nextPoint: null,\n      arcParams: null,\n      box: null,\n      cubicParams: null\n    };\n    switch (command) {\n      case 'M':\n        startMovePoint = [params[1], params[2]];\n        lastStartMovePointIndex = i;\n        break;\n      case 'A':\n        var arcParams = getArcParams(currentPoint, params);\n        segment.arcParams = arcParams;\n        break;\n    }\n    if (command === 'Z') {\n      // 有了 Z 后，当前节点从开始 M 的点开始\n      currentPoint = startMovePoint;\n      // 如果当前点的命令为 Z，相当于当前点为最近一个 M 点，则下一个点直接指向最近一个 M 点的下一个点\n      nextParams = path[lastStartMovePointIndex + 1];\n    } else {\n      var len = params.length;\n      currentPoint = [params[len - 2], params[len - 1]];\n    }\n    if (nextParams && nextParams[0] === 'Z') {\n      // 如果下一个点的命令为 Z，则下一个点直接指向最近一个 M 点\n      nextParams = path[lastStartMovePointIndex];\n      if (segments[lastStartMovePointIndex]) {\n        // 如果下一个点的命令为 Z，则最近一个 M 点的前一个点为当前点\n        segments[lastStartMovePointIndex].prePoint = currentPoint;\n      }\n    }\n    segment.currentPoint = currentPoint;\n    // 如果当前点与最近一个 M 点相同，则最近一个 M 点的前一个点为当前点的前一个点\n    if (segments[lastStartMovePointIndex] && isSamePoint(currentPoint, segments[lastStartMovePointIndex].currentPoint)) {\n      segments[lastStartMovePointIndex].prePoint = segment.prePoint;\n    }\n    var nextPoint = nextParams ? [nextParams[nextParams.length - 2], nextParams[nextParams.length - 1]] : null;\n    segment.nextPoint = nextPoint;\n    // Add startTangent and endTangent\n    var prePoint = segment.prePoint;\n    if (['L', 'H', 'V'].includes(command)) {\n      segment.startTangent = [prePoint[0] - currentPoint[0], prePoint[1] - currentPoint[1]];\n      segment.endTangent = [currentPoint[0] - prePoint[0], currentPoint[1] - prePoint[1]];\n    } else if (command === 'Q') {\n      // 二次贝塞尔曲线只有一个控制点\n      var cp = [params[1], params[2]];\n      // 二次贝塞尔曲线的终点为 currentPoint\n      segment.startTangent = [prePoint[0] - cp[0], prePoint[1] - cp[1]];\n      segment.endTangent = [currentPoint[0] - cp[0], currentPoint[1] - cp[1]];\n    } else if (command === 'T') {\n      var preSegment = segments[i - 1];\n      var _cp = toSymmetry(preSegment.currentPoint, prePoint);\n      if (preSegment.command === 'Q') {\n        segment.command = 'Q';\n        segment.startTangent = [prePoint[0] - _cp[0], prePoint[1] - _cp[1]];\n        segment.endTangent = [currentPoint[0] - _cp[0], currentPoint[1] - _cp[1]];\n      } else {\n        // @ts-ignore\n        segment.command = 'TL';\n        segment.startTangent = [prePoint[0] - currentPoint[0], prePoint[1] - currentPoint[1]];\n        segment.endTangent = [currentPoint[0] - prePoint[0], currentPoint[1] - prePoint[1]];\n      }\n    } else if (command === 'C') {\n      // 三次贝塞尔曲线有两个控制点\n      var cp1 = [params[1], params[2]];\n      var cp2 = [params[3], params[4]];\n      segment.startTangent = [prePoint[0] - cp1[0], prePoint[1] - cp1[1]];\n      segment.endTangent = [currentPoint[0] - cp2[0], currentPoint[1] - cp2[1]];\n      // horizontal line, eg. ['C', 100, 100, 100, 100, 200, 200]\n      if (segment.startTangent[0] === 0 && segment.startTangent[1] === 0) {\n        segment.startTangent = [cp1[0] - cp2[0], cp1[1] - cp2[1]];\n      }\n      if (segment.endTangent[0] === 0 && segment.endTangent[1] === 0) {\n        segment.endTangent = [cp2[0] - cp1[0], cp2[1] - cp1[1]];\n      }\n    } else if (command === 'S') {\n      var _preSegment = segments[i - 1];\n      var _cp2 = toSymmetry(_preSegment.currentPoint, prePoint);\n      var _cp3 = [params[1], params[2]];\n      if (_preSegment.command === 'C') {\n        segment.command = 'C'; // 将 S 命令变换为 C 命令\n        segment.startTangent = [prePoint[0] - _cp2[0], prePoint[1] - _cp2[1]];\n        segment.endTangent = [currentPoint[0] - _cp3[0], currentPoint[1] - _cp3[1]];\n      } else {\n        // @ts-ignore\n        segment.command = 'SQ'; // 将 S 命令变换为 SQ 命令\n        segment.startTangent = [prePoint[0] - _cp3[0], prePoint[1] - _cp3[1]];\n        segment.endTangent = [currentPoint[0] - _cp3[0], currentPoint[1] - _cp3[1]];\n      }\n    } else if (command === 'A') {\n      var _getTangentAtRatio = getTangentAtRatio(segment, 0),\n        dx1 = _getTangentAtRatio.x,\n        dy1 = _getTangentAtRatio.y;\n      var _getTangentAtRatio2 = getTangentAtRatio(segment, 1, false),\n        dx2 = _getTangentAtRatio2.x,\n        dy2 = _getTangentAtRatio2.y;\n      segment.startTangent = [dx1, dy1];\n      segment.endTangent = [dx2, dy2];\n    }\n    segments.push(segment);\n  }\n  return segments;\n}\n/**\r\n * Use length instead of ratio\r\n */\nfunction getTangentAtRatio(segment, ratio, sign) {\n  if (sign === void 0) {\n    sign = true;\n  }\n  var _segment$arcParams = segment.arcParams,\n    _segment$arcParams$rx = _segment$arcParams.rx,\n    rx = _segment$arcParams$rx === void 0 ? 0 : _segment$arcParams$rx,\n    _segment$arcParams$ry = _segment$arcParams.ry,\n    ry = _segment$arcParams$ry === void 0 ? 0 : _segment$arcParams$ry,\n    xRotation = _segment$arcParams.xRotation,\n    arcFlag = _segment$arcParams.arcFlag,\n    sweepFlag = _segment$arcParams.sweepFlag;\n  var p1 = pointOnEllipticalArc({\n    x: segment.prePoint[0],\n    y: segment.prePoint[1]\n  }, rx, ry, xRotation, !!arcFlag, !!sweepFlag, {\n    x: segment.currentPoint[0],\n    y: segment.currentPoint[1]\n  }, ratio);\n  var p2 = pointOnEllipticalArc({\n    x: segment.prePoint[0],\n    y: segment.prePoint[1]\n  }, rx, ry, xRotation, !!arcFlag, !!sweepFlag, {\n    x: segment.currentPoint[0],\n    y: segment.currentPoint[1]\n  }, sign ? ratio + 0.005 : ratio - 0.005);\n  var xDist = p2.x - p1.x;\n  var yDist = p2.y - p1.y;\n  var dist = Math.sqrt(xDist * xDist + yDist * yDist);\n  return {\n    x: -xDist / dist,\n    y: -yDist / dist\n  };\n}\n// 向量长度\nfunction vMag(v) {\n  return Math.sqrt(v[0] * v[0] + v[1] * v[1]);\n}\n// u.v/|u||v|，计算夹角的余弦值\nfunction vRatio(u, v) {\n  // 当存在一个向量的长度为 0 时，夹角也为 0，即夹角的余弦值为 1\n  return vMag(u) * vMag(v) ? (u[0] * v[0] + u[1] * v[1]) / (vMag(u) * vMag(v)) : 1;\n}\n// 向量角度\nfunction vAngle(u, v) {\n  return (u[0] * v[1] < u[1] * v[0] ? -1 : 1) * Math.acos(vRatio(u, v));\n}\nfunction getArcParams(startPoint, params) {\n  var rx = params[1];\n  var ry = params[2];\n  var xRotation = mod(deg2rad(params[3]), Math.PI * 2);\n  var arcFlag = params[4];\n  var sweepFlag = params[5];\n  // 弧形起点坐标\n  var x1 = startPoint[0];\n  var y1 = startPoint[1];\n  // 弧形终点坐标\n  var x2 = params[6];\n  var y2 = params[7];\n  var xp = Math.cos(xRotation) * (x1 - x2) / 2.0 + Math.sin(xRotation) * (y1 - y2) / 2.0;\n  var yp = -1 * Math.sin(xRotation) * (x1 - x2) / 2.0 + Math.cos(xRotation) * (y1 - y2) / 2.0;\n  var lambda = xp * xp / (rx * rx) + yp * yp / (ry * ry);\n  if (lambda > 1) {\n    rx *= Math.sqrt(lambda);\n    ry *= Math.sqrt(lambda);\n  }\n  var diff = rx * rx * (yp * yp) + ry * ry * (xp * xp);\n  var f = diff ? Math.sqrt((rx * rx * (ry * ry) - diff) / diff) : 1;\n  if (arcFlag === sweepFlag) {\n    f *= -1;\n  }\n  if (isNaN(f)) {\n    f = 0;\n  }\n  // 旋转前的起点坐标，且当长半轴和短半轴的长度为 0 时，坐标按 (0, 0) 处理\n  var cxp = ry ? f * rx * yp / ry : 0;\n  var cyp = rx ? f * -ry * xp / rx : 0;\n  // 椭圆圆心坐标\n  var cx = (x1 + x2) / 2.0 + Math.cos(xRotation) * cxp - Math.sin(xRotation) * cyp;\n  var cy = (y1 + y2) / 2.0 + Math.sin(xRotation) * cxp + Math.cos(xRotation) * cyp;\n  // 起始点的单位向量\n  var u = [(xp - cxp) / rx, (yp - cyp) / ry];\n  // 终止点的单位向量\n  var v = [(-1 * xp - cxp) / rx, (-1 * yp - cyp) / ry];\n  // 计算起始点和圆心的连线，与 x 轴正方向的夹角\n  var theta = vAngle([1, 0], u);\n  // 计算圆弧起始点和终止点与椭圆圆心连线的夹角\n  var dTheta = vAngle(u, v);\n  if (vRatio(u, v) <= -1) {\n    dTheta = Math.PI;\n  }\n  if (vRatio(u, v) >= 1) {\n    dTheta = 0;\n  }\n  if (sweepFlag === 0 && dTheta > 0) {\n    dTheta = dTheta - 2 * Math.PI;\n  }\n  if (sweepFlag === 1 && dTheta < 0) {\n    dTheta = dTheta + 2 * Math.PI;\n  }\n  return {\n    cx: cx,\n    cy: cy,\n    // 弧形的起点和终点相同时，长轴和短轴的长度按 0 处理\n    rx: isSamePoint(startPoint, [x2, y2]) ? 0 : rx,\n    ry: isSamePoint(startPoint, [x2, y2]) ? 0 : ry,\n    startAngle: theta,\n    endAngle: theta + dTheta,\n    xRotation: xRotation,\n    arcFlag: arcFlag,\n    sweepFlag: sweepFlag\n  };\n}\nfunction commandsToPathString(commands, object, transform) {\n  var _object$parsedStyle = object.parsedStyle,\n    _object$parsedStyle$d = _object$parsedStyle.defX,\n    defX = _object$parsedStyle$d === void 0 ? 0 : _object$parsedStyle$d,\n    _object$parsedStyle$d2 = _object$parsedStyle.defY,\n    defY = _object$parsedStyle$d2 === void 0 ? 0 : _object$parsedStyle$d2;\n  return commands.reduce(function (prev, cur) {\n    var path = '';\n    if (cur[0] === 'M' || cur[0] === 'L') {\n      var p = vec3.fromValues(cur[1] - defX, cur[2] - defY, 0);\n      if (transform) {\n        vec3.transformMat4(p, p, transform);\n      }\n      path = \"\" + cur[0] + p[0] + \",\" + p[1];\n    } else if (cur[0] === 'Z') {\n      path = cur[0];\n    } else if (cur[0] === 'C') {\n      var p1 = vec3.fromValues(cur[1] - defX, cur[2] - defY, 0);\n      var p2 = vec3.fromValues(cur[3] - defX, cur[4] - defY, 0);\n      var p3 = vec3.fromValues(cur[5] - defX, cur[6] - defY, 0);\n      if (transform) {\n        vec3.transformMat4(p1, p1, transform);\n        vec3.transformMat4(p2, p2, transform);\n        vec3.transformMat4(p3, p3, transform);\n      }\n      path = \"\" + cur[0] + p1[0] + \",\" + p1[1] + \",\" + p2[0] + \",\" + p2[1] + \",\" + p3[0] + \",\" + p3[1];\n    } else if (cur[0] === 'A') {\n      var c = vec3.fromValues(cur[6] - defX, cur[7] - defY, 0);\n      if (transform) {\n        vec3.transformMat4(c, c, transform);\n      }\n      path = \"\" + cur[0] + cur[1] + \",\" + cur[2] + \",\" + cur[3] + \",\" + cur[4] + \",\" + cur[5] + \",\" + c[0] + \",\" + c[1];\n    } else if (cur[0] === 'Q') {\n      var _p = vec3.fromValues(cur[1] - defX, cur[2] - defY, 0);\n      var _p2 = vec3.fromValues(cur[3] - defX, cur[4] - defY, 0);\n      if (transform) {\n        vec3.transformMat4(_p, _p, transform);\n        vec3.transformMat4(_p2, _p2, transform);\n      }\n      path = \"\" + cur[0] + cur[1] + \",\" + cur[2] + \",\" + cur[3] + \",\" + cur[4] + \"}\";\n    }\n    return prev += path;\n  }, '');\n}\nfunction lineToCommands(x1, y1, x2, y2) {\n  return [['M', x1, y1], ['L', x2, y2]];\n}\nfunction ellipseToCommands(rx, ry, cx, cy) {\n  var factor = (-1 + Math.sqrt(2)) / 3 * 4;\n  var dx = rx * factor;\n  var dy = ry * factor;\n  var left = cx - rx;\n  var right = cx + rx;\n  var top = cy - ry;\n  var bottom = cy + ry;\n  return [['M', left, cy], ['C', left, cy - dy, cx - dx, top, cx, top], ['C', cx + dx, top, right, cy - dy, right, cy], ['C', right, cy + dy, cx + dx, bottom, cx, bottom], ['C', cx - dx, bottom, left, cy + dy, left, cy], ['Z']];\n}\nfunction polygonToCommands(points, closed) {\n  var result = points.map(function (point, i) {\n    return [i === 0 ? 'M' : 'L', point[0], point[1]];\n  });\n  if (closed) {\n    result.push(['Z']);\n  }\n  return result;\n}\nfunction rectToCommands(width, height, x, y, radius) {\n  // @see https://gist.github.com/danielpquinn/dd966af424030d47e476\n  if (radius) {\n    var tlr = radius[0],\n      trr = radius[1],\n      brr = radius[2],\n      blr = radius[3];\n    var signX = width > 0 ? 1 : -1;\n    var signY = height > 0 ? 1 : -1;\n    // sweep-flag @see https://developer.mozilla.org/zh-CN/docs/Web/SVG/Tutorial/Paths#arcs\n    var sweepFlag = signX + signY !== 0 ? 1 : 0;\n    return [['M', signX * tlr + x, y], ['L', width - signX * trr + x, y], trr ? ['A', trr, trr, 0, 0, sweepFlag, width + x, signY * trr + y] : null, ['L', width + x, height - signY * brr + y], brr ? ['A', brr, brr, 0, 0, sweepFlag, width + x - signX * brr, height + y] : null, ['L', x + signX * blr, height + y], blr ? ['A', blr, blr, 0, 0, sweepFlag, x, height + y - signY * blr] : null, ['L', x, signY * tlr + y], tlr ? ['A', tlr, tlr, 0, 0, sweepFlag, signX * tlr + x, y] : null, ['Z']].filter(function (command) {\n      return command;\n    });\n  }\n  return [['M', x, y], ['L', x + width, y], ['L', x + width, y + height], ['L', x, y + height], ['Z']];\n}\n/**\r\n * convert object to path, should account for:\r\n * * transform & origin\r\n * * anchor\r\n * * lineWidth\r\n */\nfunction convertToPath(object, transform) {\n  if (transform === void 0) {\n    transform = object.getLocalTransform();\n  }\n  var commands = [];\n  switch (object.nodeName) {\n    case Shape.LINE:\n      var _object$parsedStyle2 = object.parsedStyle,\n        x1 = _object$parsedStyle2.x1,\n        y1 = _object$parsedStyle2.y1,\n        x2 = _object$parsedStyle2.x2,\n        y2 = _object$parsedStyle2.y2;\n      commands = lineToCommands(x1, y1, x2, y2);\n      break;\n    case Shape.CIRCLE:\n      {\n        var _object$parsedStyle3 = object.parsedStyle,\n          r = _object$parsedStyle3.r,\n          cx = _object$parsedStyle3.cx,\n          cy = _object$parsedStyle3.cy;\n        commands = ellipseToCommands(r, r, cx, cy);\n        break;\n      }\n    case Shape.ELLIPSE:\n      {\n        var _object$parsedStyle4 = object.parsedStyle,\n          rx = _object$parsedStyle4.rx,\n          ry = _object$parsedStyle4.ry,\n          _cx = _object$parsedStyle4.cx,\n          _cy = _object$parsedStyle4.cy;\n        commands = ellipseToCommands(rx, ry, _cx, _cy);\n        break;\n      }\n    case Shape.POLYLINE:\n    case Shape.POLYGON:\n      var points = object.parsedStyle.points;\n      commands = polygonToCommands(points.points, object.nodeName === Shape.POLYGON);\n      break;\n    case Shape.RECT:\n      var _object$parsedStyle5 = object.parsedStyle,\n        width = _object$parsedStyle5.width,\n        height = _object$parsedStyle5.height,\n        x = _object$parsedStyle5.x,\n        y = _object$parsedStyle5.y,\n        radius = _object$parsedStyle5.radius;\n      var hasRadius = radius && radius.some(function (r) {\n        return r !== 0;\n      });\n      commands = rectToCommands(width, height, x, y, hasRadius && radius.map(function (r) {\n        return clamp(r, 0, Math.min(Math.abs(width) / 2, Math.abs(height) / 2));\n      }));\n      break;\n    case Shape.PATH:\n      var absolutePath = object.parsedStyle.path.absolutePath;\n      commands = [].concat(absolutePath);\n      break;\n  }\n  if (commands.length) {\n    return commandsToPathString(commands, object, transform);\n  }\n}\nfunction translatePathToString(absolutePath, defX, defY, startOffsetX, startOffsetY, endOffsetX, endOffsetY) {\n  if (startOffsetX === void 0) {\n    startOffsetX = 0;\n  }\n  if (startOffsetY === void 0) {\n    startOffsetY = 0;\n  }\n  if (endOffsetX === void 0) {\n    endOffsetX = 0;\n  }\n  if (endOffsetY === void 0) {\n    endOffsetY = 0;\n  }\n  var newValue = absolutePath.map(function (params, i) {\n    var command = params[0];\n    var nextSegment = absolutePath[i + 1];\n    var useStartOffset = i === 0 && (startOffsetX !== 0 || startOffsetY !== 0);\n    var useEndOffset = (i === absolutePath.length - 1 || nextSegment && (nextSegment[0] === 'M' || nextSegment[0] === 'Z')) && endOffsetX !== 0 && endOffsetY !== 0;\n    switch (command) {\n      case 'M':\n        // Use start marker offset\n        if (useStartOffset) {\n          return \"M \" + (params[1] - defX + startOffsetX) + \",\" + (params[2] - defY + startOffsetY) + \" L \" + (params[1] - defX) + \",\" + (params[2] - defY);\n        } else {\n          return \"M \" + (params[1] - defX) + \",\" + (params[2] - defY);\n        }\n      case 'L':\n        return \"L \" + (params[1] - defX + (useEndOffset ? endOffsetX : 0)) + \",\" + (params[2] - defY + (useEndOffset ? endOffsetY : 0));\n      case 'Q':\n        return \"Q \" + (params[1] - defX) + \" \" + (params[2] - defY) + \",\" + (params[3] - defX) + \" \" + (params[4] - defY) + (useEndOffset ? \" L \" + (params[3] - defX + endOffsetX) + \",\" + (params[4] - defY + endOffsetY) : '');\n      case 'C':\n        return \"C \" + (params[1] - defX) + \" \" + (params[2] - defY) + \",\" + (params[3] - defX) + \" \" + (params[4] - defY) + \",\" + (params[5] - defX) + \" \" + (params[6] - defY) + (useEndOffset ? \" L \" + (params[5] - defX + endOffsetX) + \",\" + (params[6] - defY + endOffsetY) : '');\n      case 'A':\n        return \"A \" + params[1] + \" \" + params[2] + \" \" + params[3] + \" \" + params[4] + \" \" + params[5] + \" \" + (params[6] - defX) + \" \" + (params[7] - defY) + (useEndOffset ? \" L \" + (params[6] - defX + endOffsetX) + \",\" + (params[7] - defY + endOffsetY) : '');\n      case 'Z':\n        return 'Z';\n    }\n  }).join(' ');\n  if (~newValue.indexOf('NaN')) {\n    return '';\n  }\n  return newValue;\n}\n\nfunction isFillOrStrokeAffected(pointerEvents, fill, stroke) {\n  // account for pointerEvents\n  // @see https://developer.mozilla.org/en-US/docs/Web/CSS/pointer-events\n  var hasFill = false;\n  var hasStroke = false;\n  var isFillOtherThanNone = !!fill && !fill.isNone;\n  var isStrokeOtherThanNone = !!stroke && !stroke.isNone;\n  if (pointerEvents === 'visiblepainted' || pointerEvents === 'painted' || pointerEvents === 'auto') {\n    hasFill = isFillOtherThanNone;\n    hasStroke = isStrokeOtherThanNone;\n  } else if (pointerEvents === 'visiblefill' || pointerEvents === 'fill') {\n    hasFill = true;\n  } else if (pointerEvents === 'visiblestroke' || pointerEvents === 'stroke') {\n    hasStroke = true;\n  } else if (pointerEvents === 'visible' || pointerEvents === 'all') {\n    // The values of the fill and stroke do not affect event processing.\n    hasFill = true;\n    hasStroke = true;\n  }\n  return [hasFill, hasStroke];\n}\n\n// @ts-nocheck\n// interface HookInterceptor<T, R, AdditionalOptions = UnsetAdditionalOptions> {\n//   name?: string;\n//   tap?: (tap: FullTap & IfSet<AdditionalOptions>) => void;\n//   call?: (...args: any[]) => void;\n//   loop?: (...args: any[]) => void;\n//   error?: (err: Error) => void;\n//   result?: (result: R) => void;\n//   done?: () => void;\n//   register?: (tap: FullTap & IfSet<AdditionalOptions>) => FullTap & IfSet<AdditionalOptions>;\n// }\n// type ArgumentNames<T extends any[]> = FixedSizeArray<T['length'], string>;\n// export declare class AsyncHook<T, R, AdditionalOptions = UnsetAdditionalOptions> extends Hook<\n//   T,\n//   R,\n//   AdditionalOptions\n// > {\n//   tapAsync(\n//     options: string | (Tap & IfSet<AdditionalOptions>),\n//     fn: (...args: Append<AsArray<T>, InnerCallback<Error, R>>) => void,\n//   ): void;\n//   tapPromise(\n//     options: string | (Tap & IfSet<AdditionalOptions>),\n//     fn: (...args: AsArray<T>) => Promise<R>,\n//   ): void;\n// }\nvar CALL_DELEGATE = function CALL_DELEGATE() {\n  this.call = this._createCall('sync');\n  return this.call.apply(this, arguments);\n};\nvar CALL_ASYNC_DELEGATE = function CALL_ASYNC_DELEGATE() {\n  this.callAsync = this._createCall('async');\n  return this.callAsync.apply(this, arguments);\n};\nvar PROMISE_DELEGATE = function PROMISE_DELEGATE() {\n  this.promise = this._createCall('promise');\n  return this.promise.apply(this, arguments);\n};\nvar Hook = /*#__PURE__*/function () {\n  function Hook(args, name) {\n    if (args === void 0) {\n      args = [];\n    }\n    if (name === void 0) {\n      name = undefined;\n    }\n    this.name = void 0;\n    this.taps = void 0;\n    this.promise = void 0;\n    this._promise = void 0;\n    this._args = args;\n    this.name = name;\n    this.taps = [];\n    this.interceptors = [];\n    this._call = CALL_DELEGATE;\n    this.call = CALL_DELEGATE;\n    this._callAsync = CALL_ASYNC_DELEGATE;\n    this.callAsync = CALL_ASYNC_DELEGATE;\n    this._promise = PROMISE_DELEGATE;\n    this.promise = PROMISE_DELEGATE;\n    this._x = undefined;\n    // this.compile = this.compile;\n    // this.tap = this.tap;\n    // this.tapAsync = this.tapAsync;\n    // this.tapPromise = this.tapPromise;\n  }\n  var _proto = Hook.prototype;\n  _proto.compile = function compile(options) {\n    throw new Error('Abstract: should be overridden');\n  };\n  _proto._createCall = function _createCall(type) {\n    return this.compile({\n      taps: this.taps,\n      interceptors: this.interceptors,\n      args: this._args,\n      type: type\n    });\n  };\n  _proto._tap = function _tap(type, options, fn) {\n    if (typeof options === 'string') {\n      options = {\n        name: options.trim()\n      };\n    } else if (typeof options !== 'object' || options === null) {\n      throw new Error('Invalid tap options');\n    }\n    if (typeof options.name !== 'string' || options.name === '') {\n      throw new Error('Missing name for tap');\n    }\n    // if (typeof options.context !== \"undefined\") {\n    // \tdeprecateContext();\n    // }\n    options = Object.assign({\n      type: type,\n      fn: fn\n    }, options);\n    options = this._runRegisterInterceptors(options);\n    this._insert(options);\n  };\n  _proto.tap = function tap(options, fn) {\n    this._tap('sync', options, fn);\n  };\n  _proto.tapAsync = function tapAsync(options, fn) {\n    this._tap('async', options, fn);\n  };\n  _proto.tapPromise = function tapPromise(options, fn) {\n    this._tap('promise', options, fn);\n  };\n  _proto._runRegisterInterceptors = function _runRegisterInterceptors(options) {\n    for (var _iterator = _createForOfIteratorHelperLoose(this.interceptors), _step; !(_step = _iterator()).done;) {\n      var interceptor = _step.value;\n      if (interceptor.register) {\n        var newOptions = interceptor.register(options);\n        if (newOptions !== undefined) {\n          options = newOptions;\n        }\n      }\n    }\n    return options;\n  };\n  _proto.withOptions = function withOptions(options) {\n    var _this = this;\n    var mergeOptions = function mergeOptions(opt) {\n      return Object.assign({}, options, typeof opt === 'string' ? {\n        name: opt\n      } : opt);\n    };\n    return {\n      name: this.name,\n      tap: function tap(opt, fn) {\n        return _this.tap(mergeOptions(opt), fn);\n      },\n      tapAsync: function tapAsync(opt, fn) {\n        return _this.tapAsync(mergeOptions(opt), fn);\n      },\n      tapPromise: function tapPromise(opt, fn) {\n        return _this.tapPromise(mergeOptions(opt), fn);\n      },\n      // intercept: (interceptor) => this.intercept(interceptor),\n      isUsed: function isUsed() {\n        return _this.isUsed();\n      },\n      withOptions: function withOptions(opt) {\n        return _this.withOptions(mergeOptions(opt));\n      }\n    };\n  };\n  _proto.isUsed = function isUsed() {\n    return this.taps.length > 0 || this.interceptors.length > 0;\n  }\n  // intercept(interceptor: HookInterceptor<T, R, AdditionalOptions>) {\n  //   this._resetCompilation();\n  //   this.interceptors.push(Object.assign({}, interceptor));\n  //   if (interceptor.register) {\n  //     for (let i = 0; i < this.taps.length; i++) {\n  //       this.taps[i] = interceptor.register(this.taps[i]);\n  //     }\n  //   }\n  // }\n  ;\n  _proto._resetCompilation = function _resetCompilation() {\n    this.call = this._call;\n    this.callAsync = this._callAsync;\n    this.promise = this._promise;\n  };\n  _proto._insert = function _insert(item) {\n    this._resetCompilation();\n    var before;\n    if (typeof item.before === 'string') {\n      before = new Set([item.before]);\n    } else if (Array.isArray(item.before)) {\n      before = new Set(item.before);\n    }\n    var stage = 0;\n    if (typeof item.stage === 'number') {\n      stage = item.stage;\n    }\n    var i = this.taps.length;\n    while (i > 0) {\n      i--;\n      var x = this.taps[i];\n      this.taps[i + 1] = x;\n      var xStage = x.stage || 0;\n      if (before) {\n        if (before.has(x.name)) {\n          before.delete(x.name);\n          continue;\n        }\n        if (before.size > 0) {\n          continue;\n        }\n      }\n      if (xStage > stage) {\n        continue;\n      }\n      i++;\n      break;\n    }\n    this.taps[i] = item;\n  };\n  return Hook;\n}();\n// Object.setPrototypeOf(Hook.prototype, null);\n\n// @ts-nocheck\nvar HookCodeFactory = /*#__PURE__*/function () {\n  function HookCodeFactory(config) {\n    this.config = config;\n    this.options = undefined;\n    this._args = undefined;\n  }\n  var _proto = HookCodeFactory.prototype;\n  _proto.create = function create(options) {\n    this.init(options);\n    var fn;\n    switch (this.options.type) {\n      case 'sync':\n        fn = new Function(this.args(), '\"use strict\";\\n' + this.header() + this.contentWithInterceptors({\n          onError: function onError(err) {\n            return \"throw \" + err + \";\\n\";\n          },\n          onResult: function onResult(result) {\n            return \"return \" + result + \";\\n\";\n          },\n          resultReturns: true,\n          onDone: function onDone() {\n            return '';\n          },\n          rethrowIfPossible: true\n        }));\n        break;\n      case 'async':\n        fn = new Function(this.args({\n          after: '_callback'\n        }), '\"use strict\";\\n' + this.header() + this.contentWithInterceptors({\n          onError: function onError(err) {\n            return \"_callback(\" + err + \");\\n\";\n          },\n          onResult: function onResult(result) {\n            return \"_callback(null, \" + result + \");\\n\";\n          },\n          onDone: function onDone() {\n            return '_callback();\\n';\n          }\n        }));\n        break;\n      case 'promise':\n        var errorHelperUsed = false;\n        var content = this.contentWithInterceptors({\n          onError: function onError(err) {\n            errorHelperUsed = true;\n            return \"_error(\" + err + \");\\n\";\n          },\n          onResult: function onResult(result) {\n            return \"_resolve(\" + result + \");\\n\";\n          },\n          onDone: function onDone() {\n            return '_resolve();\\n';\n          }\n        });\n        var code = '';\n        code += '\"use strict\";\\n';\n        code += this.header();\n        code += 'return new Promise((function(_resolve, _reject) {\\n';\n        if (errorHelperUsed) {\n          code += 'var _sync = true;\\n';\n          code += 'function _error(_err) {\\n';\n          code += 'if(_sync)\\n';\n          code += '_resolve(Promise.resolve().then((function() { throw _err; })));\\n';\n          code += 'else\\n';\n          code += '_reject(_err);\\n';\n          code += '};\\n';\n        }\n        code += content;\n        if (errorHelperUsed) {\n          code += '_sync = false;\\n';\n        }\n        code += '}));\\n';\n        fn = new Function(this.args(), code);\n        break;\n    }\n    this.deinit();\n    return fn;\n  };\n  _proto.setup = function setup(instance, options) {\n    instance._x = options.taps.map(function (t) {\n      return t.fn;\n    });\n  }\n  /**\r\n   * @param {{ type: \"sync\" | \"promise\" | \"async\", taps: Array<Tap>, interceptors: Array<Interceptor> }} options\r\n   */;\n  _proto.init = function init(options) {\n    this.options = options;\n    this._args = options.args.slice();\n  };\n  _proto.deinit = function deinit() {\n    this.options = undefined;\n    this._args = undefined;\n  };\n  _proto.contentWithInterceptors = function contentWithInterceptors(options) {\n    var _this = this;\n    if (this.options.interceptors.length > 0) {\n      var onError = options.onError;\n      var onResult = options.onResult;\n      var onDone = options.onDone;\n      var code = '';\n      for (var i = 0; i < this.options.interceptors.length; i++) {\n        var interceptor = this.options.interceptors[i];\n        if (interceptor.call) {\n          code += this.getInterceptor(i) + \".call(\" + this.args({\n            before: interceptor.context ? '_context' : undefined\n          }) + \");\\n\";\n        }\n      }\n      code += this.content(Object.assign(options, {\n        onError: onError && function (err) {\n          var code = '';\n          for (var _i = 0; _i < _this.options.interceptors.length; _i++) {\n            var _interceptor = _this.options.interceptors[_i];\n            if (_interceptor.error) {\n              code += _this.getInterceptor(_i) + \".error(\" + err + \");\\n\";\n            }\n          }\n          code += onError(err);\n          return code;\n        },\n        onResult: onResult && function (result) {\n          var code = '';\n          for (var _i2 = 0; _i2 < _this.options.interceptors.length; _i2++) {\n            var _interceptor2 = _this.options.interceptors[_i2];\n            if (_interceptor2.result) {\n              code += _this.getInterceptor(_i2) + \".result(\" + result + \");\\n\";\n            }\n          }\n          code += onResult(result);\n          return code;\n        },\n        onDone: onDone && function () {\n          var code = '';\n          for (var _i3 = 0; _i3 < _this.options.interceptors.length; _i3++) {\n            var _interceptor3 = _this.options.interceptors[_i3];\n            if (_interceptor3.done) {\n              code += _this.getInterceptor(_i3) + \".done();\\n\";\n            }\n          }\n          code += onDone();\n          return code;\n        }\n      }));\n      return code;\n    } else {\n      return this.content(options);\n    }\n  };\n  _proto.header = function header() {\n    var code = '';\n    if (this.needContext()) {\n      code += 'var _context = {};\\n';\n    } else {\n      code += 'var _context;\\n';\n    }\n    code += 'var _x = this._x;\\n';\n    if (this.options.interceptors.length > 0) {\n      code += 'var _taps = this.taps;\\n';\n      code += 'var _interceptors = this.interceptors;\\n';\n    }\n    return code;\n  };\n  _proto.needContext = function needContext() {\n    for (var _iterator = _createForOfIteratorHelperLoose(this.options.taps), _step; !(_step = _iterator()).done;) {\n      var tap = _step.value;\n      if (tap.context) return true;\n    }\n    return false;\n  };\n  _proto.callTap = function callTap(tapIndex, _ref) {\n    var onError = _ref.onError,\n      onResult = _ref.onResult,\n      onDone = _ref.onDone,\n      rethrowIfPossible = _ref.rethrowIfPossible;\n    var code = '';\n    var hasTapCached = false;\n    for (var i = 0; i < this.options.interceptors.length; i++) {\n      var interceptor = this.options.interceptors[i];\n      if (interceptor.tap) {\n        if (!hasTapCached) {\n          code += \"var _tap\" + tapIndex + \" = \" + this.getTap(tapIndex) + \";\\n\";\n          hasTapCached = true;\n        }\n        code += this.getInterceptor(i) + \".tap(\" + (interceptor.context ? '_context, ' : '') + \"_tap\" + tapIndex + \");\\n\";\n      }\n    }\n    code += \"var _fn\" + tapIndex + \" = \" + this.getTapFn(tapIndex) + \";\\n\";\n    var tap = this.options.taps[tapIndex];\n    switch (tap.type) {\n      case 'sync':\n        if (!rethrowIfPossible) {\n          code += \"var _hasError\" + tapIndex + \" = false;\\n\";\n          code += 'try {\\n';\n        }\n        if (onResult) {\n          code += \"var _result\" + tapIndex + \" = _fn\" + tapIndex + \"(\" + this.args({\n            before: tap.context ? '_context' : undefined\n          }) + \");\\n\";\n        } else {\n          code += \"_fn\" + tapIndex + \"(\" + this.args({\n            before: tap.context ? '_context' : undefined\n          }) + \");\\n\";\n        }\n        if (!rethrowIfPossible) {\n          code += '} catch(_err) {\\n';\n          code += \"_hasError\" + tapIndex + \" = true;\\n\";\n          code += onError('_err');\n          code += '}\\n';\n          code += \"if(!_hasError\" + tapIndex + \") {\\n\";\n        }\n        if (onResult) {\n          code += onResult(\"_result\" + tapIndex);\n        }\n        if (onDone) {\n          code += onDone();\n        }\n        if (!rethrowIfPossible) {\n          code += '}\\n';\n        }\n        break;\n      case 'async':\n        var cbCode = '';\n        if (onResult) cbCode += \"(function(_err\" + tapIndex + \", _result\" + tapIndex + \") {\\n\";else cbCode += \"(function(_err\" + tapIndex + \") {\\n\";\n        cbCode += \"if(_err\" + tapIndex + \") {\\n\";\n        cbCode += onError(\"_err\" + tapIndex);\n        cbCode += '} else {\\n';\n        if (onResult) {\n          cbCode += onResult(\"_result\" + tapIndex);\n        }\n        if (onDone) {\n          cbCode += onDone();\n        }\n        cbCode += '}\\n';\n        cbCode += '})';\n        code += \"_fn\" + tapIndex + \"(\" + this.args({\n          before: tap.context ? '_context' : undefined,\n          after: cbCode\n        }) + \");\\n\";\n        break;\n      case 'promise':\n        code += \"var _hasResult\" + tapIndex + \" = false;\\n\";\n        code += \"var _promise\" + tapIndex + \" = _fn\" + tapIndex + \"(\" + this.args({\n          before: tap.context ? '_context' : undefined\n        }) + \");\\n\";\n        code += \"if (!_promise\" + tapIndex + \" || !_promise\" + tapIndex + \".then)\\n\";\n        code += \"  throw new Error('Tap function (tapPromise) did not return promise (returned ' + _promise\" + tapIndex + \" + ')');\\n\";\n        code += \"_promise\" + tapIndex + \".then((function(_result\" + tapIndex + \") {\\n\";\n        code += \"_hasResult\" + tapIndex + \" = true;\\n\";\n        if (onResult) {\n          code += onResult(\"_result\" + tapIndex);\n        }\n        if (onDone) {\n          code += onDone();\n        }\n        code += \"}), function(_err\" + tapIndex + \") {\\n\";\n        code += \"if(_hasResult\" + tapIndex + \") throw _err\" + tapIndex + \";\\n\";\n        code += onError(\"_err\" + tapIndex);\n        code += '});\\n';\n        break;\n    }\n    return code;\n  };\n  _proto.callTapsSeries = function callTapsSeries(_ref2) {\n    var _this2 = this;\n    var _onError = _ref2.onError,\n      onResult = _ref2.onResult,\n      resultReturns = _ref2.resultReturns,\n      onDone = _ref2.onDone,\n      doneReturns = _ref2.doneReturns,\n      rethrowIfPossible = _ref2.rethrowIfPossible;\n    if (this.options.taps.length === 0) return onDone();\n    var firstAsync = this.options.taps.findIndex(function (t) {\n      return t.type !== 'sync';\n    });\n    var somethingReturns = resultReturns || doneReturns;\n    var code = '';\n    var current = onDone;\n    var unrollCounter = 0;\n    var _loop = function _loop(j) {\n      var i = j;\n      var unroll = current !== onDone && (_this2.options.taps[i].type !== 'sync' || unrollCounter++ > 20);\n      if (unroll) {\n        unrollCounter = 0;\n        code += \"function _next\" + i + \"() {\\n\";\n        code += current();\n        code += \"}\\n\";\n        current = function current() {\n          return (somethingReturns ? 'return ' : '') + \"_next\" + i + \"();\\n\";\n        };\n      }\n      var done = current;\n      var doneBreak = function doneBreak(skipDone) {\n        if (skipDone) return '';\n        return onDone();\n      };\n      var content = _this2.callTap(i, {\n        onError: function onError(error) {\n          return _onError(i, error, done, doneBreak);\n        },\n        onResult: onResult && function (result) {\n          return onResult(i, result, done, doneBreak);\n        },\n        onDone: !onResult && done,\n        rethrowIfPossible: rethrowIfPossible && (firstAsync < 0 || i < firstAsync)\n      });\n      current = function current() {\n        return content;\n      };\n    };\n    for (var j = this.options.taps.length - 1; j >= 0; j--) {\n      _loop(j);\n    }\n    code += current();\n    return code;\n  };\n  _proto.callTapsLooping = function callTapsLooping(_ref3) {\n    var onError = _ref3.onError,\n      onDone = _ref3.onDone,\n      rethrowIfPossible = _ref3.rethrowIfPossible;\n    if (this.options.taps.length === 0) return onDone();\n    var syncOnly = this.options.taps.every(function (t) {\n      return t.type === 'sync';\n    });\n    var code = '';\n    if (!syncOnly) {\n      code += 'var _looper = (function() {\\n';\n      code += 'var _loopAsync = false;\\n';\n    }\n    code += 'var _loop;\\n';\n    code += 'do {\\n';\n    code += '_loop = false;\\n';\n    for (var i = 0; i < this.options.interceptors.length; i++) {\n      var interceptor = this.options.interceptors[i];\n      if (interceptor.loop) {\n        code += this.getInterceptor(i) + \".loop(\" + this.args({\n          before: interceptor.context ? '_context' : undefined\n        }) + \");\\n\";\n      }\n    }\n    code += this.callTapsSeries({\n      onError: onError,\n      onResult: function onResult(i, result, next, doneBreak) {\n        var code = '';\n        code += \"if(\" + result + \" !== undefined) {\\n\";\n        code += '_loop = true;\\n';\n        if (!syncOnly) code += 'if(_loopAsync) _looper();\\n';\n        code += doneBreak(true);\n        code += \"} else {\\n\";\n        code += next();\n        code += \"}\\n\";\n        return code;\n      },\n      onDone: onDone && function () {\n        var code = '';\n        code += 'if(!_loop) {\\n';\n        code += onDone();\n        code += '}\\n';\n        return code;\n      },\n      rethrowIfPossible: rethrowIfPossible && syncOnly\n    });\n    code += '} while(_loop);\\n';\n    if (!syncOnly) {\n      code += '_loopAsync = true;\\n';\n      code += '});\\n';\n      code += '_looper();\\n';\n    }\n    return code;\n  };\n  _proto.callTapsParallel = function callTapsParallel(_ref4) {\n    var _this3 = this;\n    var _onError2 = _ref4.onError,\n      onResult = _ref4.onResult,\n      onDone = _ref4.onDone,\n      rethrowIfPossible = _ref4.rethrowIfPossible,\n      _ref4$onTap = _ref4.onTap,\n      onTap = _ref4$onTap === void 0 ? function (i, run) {\n        return run();\n      } : _ref4$onTap;\n    if (this.options.taps.length <= 1) {\n      return this.callTapsSeries({\n        onError: _onError2,\n        onResult: onResult,\n        onDone: onDone,\n        rethrowIfPossible: rethrowIfPossible\n      });\n    }\n    var code = '';\n    code += 'do {\\n';\n    code += \"var _counter = \" + this.options.taps.length + \";\\n\";\n    if (onDone) {\n      code += 'var _done = (function() {\\n';\n      code += onDone();\n      code += '});\\n';\n    }\n    var _loop2 = function _loop2(i) {\n      var done = function done() {\n        if (onDone) return 'if(--_counter === 0) _done();\\n';else return '--_counter;';\n      };\n      var doneBreak = function doneBreak(skipDone) {\n        if (skipDone || !onDone) return '_counter = 0;\\n';else return '_counter = 0;\\n_done();\\n';\n      };\n      code += 'if(_counter <= 0) break;\\n';\n      code += onTap(i, function () {\n        return _this3.callTap(i, {\n          onError: function onError(error) {\n            var code = '';\n            code += 'if(_counter > 0) {\\n';\n            code += _onError2(i, error, done, doneBreak);\n            code += '}\\n';\n            return code;\n          },\n          onResult: onResult && function (result) {\n            var code = '';\n            code += 'if(_counter > 0) {\\n';\n            code += onResult(i, result, done, doneBreak);\n            code += '}\\n';\n            return code;\n          },\n          onDone: !onResult && function () {\n            return done();\n          },\n          rethrowIfPossible: rethrowIfPossible\n        });\n      }, done, doneBreak);\n    };\n    for (var i = 0; i < this.options.taps.length; i++) {\n      _loop2(i);\n    }\n    code += '} while(false);\\n';\n    return code;\n  };\n  _proto.args = function args(_temp) {\n    var _ref5 = _temp === void 0 ? {} : _temp,\n      before = _ref5.before,\n      after = _ref5.after;\n    var allArgs = this._args;\n    if (before) allArgs = [before].concat(allArgs);\n    if (after) allArgs = allArgs.concat(after);\n    if (allArgs.length === 0) {\n      return '';\n    } else {\n      return allArgs.join(', ');\n    }\n  };\n  _proto.getTapFn = function getTapFn(idx) {\n    return \"_x[\" + idx + \"]\";\n  };\n  _proto.getTap = function getTap(idx) {\n    return \"_taps[\" + idx + \"]\";\n  };\n  _proto.getInterceptor = function getInterceptor(idx) {\n    return \"_interceptors[\" + idx + \"]\";\n  };\n  return HookCodeFactory;\n}();\n\nvar AsyncParallelHookCodeFactory = /*#__PURE__*/function (_HookCodeFactory) {\n  _inheritsLoose(AsyncParallelHookCodeFactory, _HookCodeFactory);\n  function AsyncParallelHookCodeFactory() {\n    return _HookCodeFactory.apply(this, arguments) || this;\n  }\n  var _proto = AsyncParallelHookCodeFactory.prototype;\n  _proto.content = function content(_ref) {\n    var _onError = _ref.onError,\n      onDone = _ref.onDone;\n    return this.callTapsParallel({\n      onError: function onError(i, err, done, doneBreak) {\n        return _onError(err) + doneBreak(true);\n      },\n      onDone: onDone\n    });\n  };\n  return AsyncParallelHookCodeFactory;\n}(HookCodeFactory);\nvar factory = new AsyncParallelHookCodeFactory();\nvar COMPILE = function COMPILE(options) {\n  factory.setup(this, options);\n  return factory.create(options);\n};\nvar AsyncParallelHook = /*#__PURE__*/function (_Hook) {\n  _inheritsLoose(AsyncParallelHook, _Hook);\n  function AsyncParallelHook(args, name) {\n    var _this;\n    if (args === void 0) {\n      args = [];\n    }\n    if (name === void 0) {\n      name = undefined;\n    }\n    _this = _Hook.call(this, args, name) || this;\n    _this.compile = COMPILE;\n    _this._call = undefined;\n    _this.call = undefined;\n    return _this;\n  }\n  return AsyncParallelHook;\n}(Hook);\n// export function AsyncParallelHook(args = [], name = undefined) {\n//   const hook = new Hook(args, name);\n//   hook.constructor = AsyncParallelHook;\n//   hook.compile = COMPILE;\n//   hook._call = undefined;\n//   hook.call = undefined;\n//   return hook;\n// }\n// AsyncParallelHook.prototype = null;\n\nvar AsyncSeriesWaterfallHookCodeFactory = /*#__PURE__*/function (_HookCodeFactory) {\n  _inheritsLoose(AsyncSeriesWaterfallHookCodeFactory, _HookCodeFactory);\n  function AsyncSeriesWaterfallHookCodeFactory() {\n    return _HookCodeFactory.apply(this, arguments) || this;\n  }\n  var _proto = AsyncSeriesWaterfallHookCodeFactory.prototype;\n  _proto.content = function content(_ref) {\n    var _this = this;\n    var _onError = _ref.onError,\n      onResult = _ref.onResult,\n      onDone = _ref.onDone;\n    return this.callTapsSeries({\n      onError: function onError(i, err, next, doneBreak) {\n        return _onError(err) + doneBreak(true);\n      },\n      onResult: function onResult(i, result, next) {\n        var code = '';\n        code += \"if(\" + result + \" !== undefined) {\\n\";\n        code += _this._args[0] + \" = \" + result + \";\\n\";\n        code += \"}\\n\";\n        code += next();\n        return code;\n      },\n      onDone: function onDone() {\n        return onResult(_this._args[0]);\n      }\n    });\n  };\n  return AsyncSeriesWaterfallHookCodeFactory;\n}(HookCodeFactory);\nvar factory$1 = new AsyncSeriesWaterfallHookCodeFactory();\nvar COMPILE$1 = function COMPILE(options) {\n  factory$1.setup(this, options);\n  return factory$1.create(options);\n};\n// export function AsyncSeriesWaterfallHook(args = [], name = undefined) {\n//   if (args.length < 1) throw new Error('Waterfall hooks must have at least one argument');\n//   const hook = new Hook(args, name);\n//   hook.constructor = AsyncSeriesWaterfallHook;\n//   hook.compile = COMPILE;\n//   hook._call = undefined;\n//   hook.call = undefined;\n//   return hook;\n// }\n// AsyncSeriesWaterfallHook.prototype = null;\nvar AsyncSeriesWaterfallHook = /*#__PURE__*/function (_Hook) {\n  _inheritsLoose(AsyncSeriesWaterfallHook, _Hook);\n  function AsyncSeriesWaterfallHook(args, name) {\n    var _this2;\n    if (args === void 0) {\n      args = [];\n    }\n    if (name === void 0) {\n      name = undefined;\n    }\n    _this2 = _Hook.call(this, args, name) || this;\n    _this2.compile = COMPILE$1;\n    _this2._call = undefined;\n    _this2.call = undefined;\n    return _this2;\n  }\n  return AsyncSeriesWaterfallHook;\n}(Hook);\n\nvar SyncHookCodeFactory = /*#__PURE__*/function (_HookCodeFactory) {\n  _inheritsLoose(SyncHookCodeFactory, _HookCodeFactory);\n  function SyncHookCodeFactory() {\n    return _HookCodeFactory.apply(this, arguments) || this;\n  }\n  var _proto = SyncHookCodeFactory.prototype;\n  _proto.content = function content(_ref) {\n    var _onError = _ref.onError,\n      onDone = _ref.onDone,\n      rethrowIfPossible = _ref.rethrowIfPossible;\n    return this.callTapsSeries({\n      onError: function onError(i, err) {\n        return _onError(err);\n      },\n      onDone: onDone,\n      rethrowIfPossible: rethrowIfPossible\n    });\n  };\n  return SyncHookCodeFactory;\n}(HookCodeFactory);\nvar factory$2 = new SyncHookCodeFactory();\nvar TAP_ASYNC = function TAP_ASYNC() {\n  throw new Error('tapAsync is not supported on a SyncHook');\n};\nvar TAP_PROMISE = function TAP_PROMISE() {\n  throw new Error('tapPromise is not supported on a SyncHook');\n};\nvar COMPILE$2 = function COMPILE(options) {\n  factory$2.setup(this, options);\n  return factory$2.create(options);\n};\nvar SyncHook = /*#__PURE__*/function (_Hook) {\n  _inheritsLoose(SyncHook, _Hook);\n  function SyncHook(args, name) {\n    var _this;\n    if (args === void 0) {\n      args = [];\n    }\n    if (name === void 0) {\n      name = undefined;\n    }\n    _this = _Hook.call(this, args, name) || this;\n    _this.tapAsync = TAP_ASYNC;\n    _this.tapPromise = TAP_PROMISE;\n    _this.compile = COMPILE$2;\n    return _this;\n  }\n  return SyncHook;\n}(Hook);\n// export function SyncHook(args = [], name = undefined) {\n//   const hook = new Hook(args, name);\n//   hook.constructor = SyncHook;\n//   hook.tapAsync = TAP_ASYNC;\n//   hook.tapPromise = TAP_PROMISE;\n//   hook.compile = COMPILE;\n//   return hook;\n// }\n// SyncHook.prototype = null;\n\nvar SyncWaterfallHookCodeFactory = /*#__PURE__*/function (_HookCodeFactory) {\n  _inheritsLoose(SyncWaterfallHookCodeFactory, _HookCodeFactory);\n  function SyncWaterfallHookCodeFactory() {\n    return _HookCodeFactory.apply(this, arguments) || this;\n  }\n  var _proto = SyncWaterfallHookCodeFactory.prototype;\n  _proto.content = function content(_ref) {\n    var _this = this;\n    var _onError = _ref.onError,\n      onResult = _ref.onResult,\n      resultReturns = _ref.resultReturns,\n      rethrowIfPossible = _ref.rethrowIfPossible;\n    return this.callTapsSeries({\n      onError: function onError(i, err) {\n        return _onError(err);\n      },\n      onResult: function onResult(i, result, next) {\n        var code = '';\n        code += \"if(\" + result + \" !== undefined) {\\n\";\n        code += _this._args[0] + \" = \" + result + \";\\n\";\n        code += \"}\\n\";\n        code += next();\n        return code;\n      },\n      onDone: function onDone() {\n        return onResult(_this._args[0]);\n      },\n      doneReturns: resultReturns,\n      rethrowIfPossible: rethrowIfPossible\n    });\n  };\n  return SyncWaterfallHookCodeFactory;\n}(HookCodeFactory);\nvar factory$3 = new SyncWaterfallHookCodeFactory();\nvar TAP_ASYNC$1 = function TAP_ASYNC() {\n  throw new Error('tapAsync is not supported on a SyncWaterfallHook');\n};\nvar TAP_PROMISE$1 = function TAP_PROMISE() {\n  throw new Error('tapPromise is not supported on a SyncWaterfallHook');\n};\nvar COMPILE$3 = function COMPILE(options) {\n  factory$3.setup(this, options);\n  return factory$3.create(options);\n};\nvar SyncWaterfallHook = /*#__PURE__*/function (_SyncHook) {\n  _inheritsLoose(SyncWaterfallHook, _SyncHook);\n  function SyncWaterfallHook(args, name) {\n    var _this2;\n    if (args === void 0) {\n      args = [];\n    }\n    if (name === void 0) {\n      name = undefined;\n    }\n    _this2 = _SyncHook.call(this, args, name) || this;\n    _this2.tapAsync = TAP_ASYNC$1;\n    _this2.tapPromise = TAP_PROMISE$1;\n    _this2.compile = COMPILE$3;\n    return _this2;\n  }\n  return SyncWaterfallHook;\n}(SyncHook);\n// export function SyncWaterfallHook(args = [], name = undefined) {\n//   if (args.length < 1) throw new Error('Waterfall hooks must have at least one argument');\n//   const hook = new Hook(args, name);\n//   hook.constructor = SyncWaterfallHook;\n//   hook.tapAsync = TAP_ASYNC;\n//   hook.tapPromise = TAP_PROMISE;\n//   hook.compile = COMPILE;\n//   return hook;\n// }\n// SyncWaterfallHook.prototype = null;\n\nvar genericFontFamilies = ['serif', 'sans-serif', 'monospace', 'cursive', 'fantasy', 'system-ui'];\nvar stringRegExp = /([\\\"\\'])[^\\'\\\"]+\\1/;\nfunction toFontString(attributes) {\n  var fontSize = attributes.fontSize,\n    fontFamily = attributes.fontFamily,\n    fontStyle = attributes.fontStyle,\n    fontVariant = attributes.fontVariant,\n    fontWeight = attributes.fontWeight;\n  // build canvas api font setting from individual components. Convert a numeric this.fontSize to px\n  // const fontSizeString: string = isNumber(fontSize) ? `${fontSize}px` : fontSize.toString();\n  var fontSizeString = isNumber(fontSize) && fontSize + \"px\" || '16px';\n  // Clean-up fontFamily property by quoting each font name\n  // this will support font names with spaces\n  // @ts-ignore\n  var fontFamilies = isString(fontFamily) ? fontFamily.split(',') : [fontFamily];\n  for (var i = fontFamilies.length - 1; i >= 0; i--) {\n    // Trim any extra white-space\n    var _fontFamily = fontFamilies[i].trim();\n    // Check if font already contains strings\n    if (!stringRegExp.test(_fontFamily) && genericFontFamilies.indexOf(_fontFamily) < 0) {\n      _fontFamily = \"\\\"\" + _fontFamily + \"\\\"\";\n    }\n    fontFamilies[i] = _fontFamily;\n  }\n  return fontStyle + \" \" + fontVariant + \" \" + fontWeight + \" \" + fontSizeString + \" \" + fontFamilies.join(',');\n}\n\n/**\r\n * Thanks for following contributor of codes\r\n * https://gist.github.com/1866474\r\n * http://paulirish.com/2011/requestanimationframe-for-smart-animating/\r\n * http://my.opera.com/emoller/blog/2011/12/20/requestanimationframe-for-smart-er-animating\r\n * https://github.com/Financial-Times/polyfill-library/blob/master/polyfills/requestAnimationFrame/polyfill.js\r\n **/\nvar uId = 1;\nvar uniqueId = function uniqueId() {\n  return uId++;\n};\n// We use `self` instead of `window` for `WebWorker` support.\nvar root = typeof self === 'object' && self.self == self ? self :\n// @ts-ignore\ntypeof global === 'object' && global.global == global ?\n// @ts-ignore\nglobal : {};\nvar nowOffset = Date.now();\n// use performance api if exist, otherwise use Date.now.\n// Date.now polyfill required.\nvar pnow = function pnow() {\n  if (root.performance && typeof root.performance.now === 'function') {\n    return root.performance.now();\n  }\n  // fallback\n  return Date.now() - nowOffset;\n};\nvar reservedCBs = {};\nvar lastTime = Date.now();\nvar polyfillRaf = function polyfillRaf(callback) {\n  if (typeof callback !== 'function') {\n    throw new TypeError(callback + ' is not a function');\n  }\n  var currentTime = Date.now();\n  var gap = currentTime - lastTime;\n  var delay = gap > 16 ? 0 : 16 - gap;\n  var id = uniqueId();\n  reservedCBs[id] = callback;\n  // keys(reservedCBs).length > 1 의미는 이미 setTimeout 이 걸려있는 경우.\n  // 함께 callback 이 실행될 수 있게 reservedCBs 에만 추가해주고 return\n  if (Object.keys(reservedCBs).length > 1) return id;\n  setTimeout(function () {\n    lastTime = currentTime;\n    var copied = reservedCBs;\n    reservedCBs = {};\n    Object.keys(copied).forEach(function (key) {\n      return copied[key](pnow());\n    });\n  }, delay);\n  return id;\n};\nvar polyfillCaf = function polyfillCaf(id) {\n  delete reservedCBs[id];\n};\nvar vendorPrefixes = ['', 'webkit', 'moz', 'ms', 'o'];\nvar getRequestAnimationFrame = function getRequestAnimationFrame(vp) {\n  if (typeof vp !== 'string') return polyfillRaf;\n  if (vp === '') return root['requestAnimationFrame'];\n  return root[vp + 'RequestAnimationFrame'];\n};\nvar getCancelAnimationFrame = function getCancelAnimationFrame(vp) {\n  if (typeof vp !== 'string') return polyfillCaf;\n  if (vp === '') return root['cancelAnimationFrame'];\n  return root[vp + 'CancelAnimationFrame'] || root[vp + 'CancelRequestAnimationFrame'];\n};\nvar find = function find(arr, predicate) {\n  var i = 0;\n  while (arr[i] !== void 0) {\n    if (predicate(arr[i])) return arr[i];\n    i = i + 1;\n  }\n};\nvar vp = find(vendorPrefixes, function (vp) {\n  return !!getRequestAnimationFrame(vp);\n});\nvar raf = getRequestAnimationFrame(vp);\nvar caf = getCancelAnimationFrame(vp);\nroot.requestAnimationFrame = raf;\nroot.cancelAnimationFrame = caf;\n\nvar regexLG = /^l\\s*\\(\\s*([\\d.]+)\\s*\\)\\s*(.*)/i;\nvar regexRG = /^r\\s*\\(\\s*([\\d.]+)\\s*,\\s*([\\d.]+)\\s*,\\s*([\\d.]+)\\s*\\)\\s*(.*)/i;\nvar regexPR = /^p\\s*\\(\\s*([axyn])\\s*\\)\\s*(.*)/i;\nvar regexColorStop = /[\\d.]+:(#[^\\s]+|[^\\)]+\\))/gi;\nfunction spaceColorStops(colorStops) {\n  var _colorStops$length;\n  var length = colorStops.length;\n  colorStops[length - 1].length = (_colorStops$length = colorStops[length - 1].length) !== null && _colorStops$length !== void 0 ? _colorStops$length : {\n    type: '%',\n    value: '100'\n  };\n  if (length > 1) {\n    var _colorStops$0$length;\n    colorStops[0].length = (_colorStops$0$length = colorStops[0].length) !== null && _colorStops$0$length !== void 0 ? _colorStops$0$length : {\n      type: '%',\n      value: '0'\n    };\n  }\n  var previousIndex = 0;\n  var previousOffset = Number(colorStops[0].length.value);\n  for (var i = 1; i < length; i++) {\n    var _colorStops$i$length;\n    // support '%' & 'px'\n    var offset = (_colorStops$i$length = colorStops[i].length) === null || _colorStops$i$length === void 0 ? void 0 : _colorStops$i$length.value;\n    if (!isNil(offset) && !isNil(previousOffset)) {\n      for (var j = 1; j < i - previousIndex; j++) {\n        colorStops[previousIndex + j].length = {\n          type: '%',\n          value: \"\" + (previousOffset + (Number(offset) - previousOffset) * j / (i - previousIndex))\n        };\n      }\n      previousIndex = i;\n      previousOffset = Number(offset);\n    }\n  }\n}\n// The position of the gradient line's starting point.\n// different from CSS side(to top) @see https://developer.mozilla.org/en-US/docs/Web/CSS/gradient/linear-gradient#values\nvar SideOrCornerToDegMap = {\n  left: 270 - 90,\n  top: 0 - 90,\n  bottom: 180 - 90,\n  right: 90 - 90,\n  'left top': 315 - 90,\n  'top left': 315 - 90,\n  'left bottom': 225 - 90,\n  'bottom left': 225 - 90,\n  'right top': 45 - 90,\n  'top right': 45 - 90,\n  'right bottom': 135 - 90,\n  'bottom right': 135 - 90\n};\nvar angleToDeg = memoize(function (orientation) {\n  var angle;\n  if (orientation.type === 'angular') {\n    angle = Number(orientation.value);\n  } else {\n    angle = SideOrCornerToDegMap[orientation.value] || 0;\n  }\n  return getOrCreateUnitValue(angle, 'deg');\n});\nvar positonToCSSUnitValue = memoize(function (position) {\n  var cx = 50;\n  var cy = 50;\n  var unitX = '%';\n  var unitY = '%';\n  if ((position === null || position === void 0 ? void 0 : position.type) === 'position') {\n    var _position$value = position.value,\n      x = _position$value.x,\n      y = _position$value.y;\n    if ((x === null || x === void 0 ? void 0 : x.type) === 'position-keyword') {\n      if (x.value === 'left') {\n        cx = 0;\n      } else if (x.value === 'center') {\n        cx = 50;\n      } else if (x.value === 'right') {\n        cx = 100;\n      } else if (x.value === 'top') {\n        cy = 0;\n      } else if (x.value === 'bottom') {\n        cy = 100;\n      }\n    }\n    if ((y === null || y === void 0 ? void 0 : y.type) === 'position-keyword') {\n      if (y.value === 'left') {\n        cx = 0;\n      } else if (y.value === 'center') {\n        cy = 50;\n      } else if (y.value === 'right') {\n        cx = 100;\n      } else if (y.value === 'top') {\n        cy = 0;\n      } else if (y.value === 'bottom') {\n        cy = 100;\n      }\n    }\n    if ((x === null || x === void 0 ? void 0 : x.type) === 'px' || (x === null || x === void 0 ? void 0 : x.type) === '%' || (x === null || x === void 0 ? void 0 : x.type) === 'em') {\n      unitX = x === null || x === void 0 ? void 0 : x.type;\n      cx = Number(x.value);\n    }\n    if ((y === null || y === void 0 ? void 0 : y.type) === 'px' || (y === null || y === void 0 ? void 0 : y.type) === '%' || (y === null || y === void 0 ? void 0 : y.type) === 'em') {\n      unitY = y === null || y === void 0 ? void 0 : y.type;\n      cy = Number(y.value);\n    }\n  }\n  return {\n    cx: getOrCreateUnitValue(cx, unitX),\n    cy: getOrCreateUnitValue(cy, unitY)\n  };\n});\nvar parseGradient$1 = memoize(function (colorStr) {\n  if (colorStr.indexOf('linear') > -1 || colorStr.indexOf('radial') > -1) {\n    var ast = parseGradient(colorStr);\n    return ast.map(function (_ref) {\n      var type = _ref.type,\n        orientation = _ref.orientation,\n        colorStops = _ref.colorStops;\n      spaceColorStops(colorStops);\n      var steps = colorStops.map(function (colorStop) {\n        // TODO: only support % for now, should calc percentage of axis length when using px/em\n        return {\n          offset: getOrCreateUnitValue(Number(colorStop.length.value), '%'),\n          color: colorStopToString(colorStop)\n        };\n      });\n      if (type === 'linear-gradient') {\n        return new CSSGradientValue(GradientType.LinearGradient, {\n          angle: orientation ? angleToDeg(orientation) : Odeg,\n          steps: steps\n        });\n      } else if (type === 'radial-gradient') {\n        if (!orientation) {\n          orientation = [{\n            type: 'shape',\n            value: 'circle'\n          }];\n        }\n        if (orientation[0].type === 'shape' && orientation[0].value === 'circle') {\n          var _positonToCSSUnitValu = positonToCSSUnitValue(orientation[0].at),\n            cx = _positonToCSSUnitValu.cx,\n            cy = _positonToCSSUnitValu.cy;\n          var size;\n          if (orientation[0].style) {\n            var _orientation$0$style = orientation[0].style,\n              _type = _orientation$0$style.type,\n              value = _orientation$0$style.value;\n            if (_type === 'extent-keyword') {\n              size = getOrCreateKeyword(value);\n            } else {\n              size = getOrCreateUnitValue(value, _type);\n            }\n          }\n          return new CSSGradientValue(GradientType.RadialGradient, {\n            cx: cx,\n            cy: cy,\n            size: size,\n            steps: steps\n          });\n        }\n        // TODO: support ellipse shape\n        // TODO: repeating-linear-gradient & repeating-radial-gradient\n        // } else if (type === 'repeating-linear-gradient') {\n        // } else if (type === 'repeating-radial-gradient') {\n      }\n    });\n  }\n  // legacy format, should be deprecated later\n  var type = colorStr[0];\n  if (colorStr[1] === '(' || colorStr[2] === '(') {\n    if (type === 'l') {\n      var arr = regexLG.exec(colorStr);\n      if (arr) {\n        var _arr$2$match;\n        var steps = ((_arr$2$match = arr[2].match(regexColorStop)) === null || _arr$2$match === void 0 ? void 0 : _arr$2$match.map(function (stop) {\n          return stop.split(':');\n        })) || [];\n        return [new CSSGradientValue(GradientType.LinearGradient, {\n          angle: getOrCreateUnitValue(parseFloat(arr[1]), 'deg'),\n          steps: steps.map(function (_ref2) {\n            var offset = _ref2[0],\n              color = _ref2[1];\n            return {\n              offset: getOrCreateUnitValue(Number(offset) * 100, '%'),\n              color: color\n            };\n          })\n        })];\n      }\n    } else if (type === 'r') {\n      var parsedRadialGradient = parseRadialGradient(colorStr);\n      if (parsedRadialGradient) {\n        if (isString(parsedRadialGradient)) {\n          colorStr = parsedRadialGradient;\n        } else {\n          return [new CSSGradientValue(GradientType.RadialGradient, parsedRadialGradient)];\n        }\n      }\n    } else if (type === 'p') {\n      return parsePattern(colorStr);\n    }\n  }\n});\nfunction parseRadialGradient(gradientStr) {\n  var arr = regexRG.exec(gradientStr);\n  if (arr) {\n    var _arr$4$match;\n    var steps = ((_arr$4$match = arr[4].match(regexColorStop)) === null || _arr$4$match === void 0 ? void 0 : _arr$4$match.map(function (stop) {\n      return stop.split(':');\n    })) || [];\n    return {\n      cx: getOrCreateUnitValue(50, '%'),\n      cy: getOrCreateUnitValue(50, '%'),\n      steps: steps.map(function (_ref3) {\n        var offset = _ref3[0],\n          color = _ref3[1];\n        return {\n          offset: getOrCreateUnitValue(Number(offset) * 100, '%'),\n          color: color\n        };\n      })\n    };\n  }\n  return null;\n}\nfunction parsePattern(patternStr) {\n  var arr = regexPR.exec(patternStr);\n  if (arr) {\n    var repetition = arr[1];\n    var src = arr[2];\n    switch (repetition) {\n      case 'a':\n        repetition = 'repeat';\n        break;\n      case 'x':\n        repetition = 'repeat-x';\n        break;\n      case 'y':\n        repetition = 'repeat-y';\n        break;\n      case 'n':\n        repetition = 'no-repeat';\n        break;\n      default:\n        repetition = 'no-repeat';\n    }\n    return {\n      image: src,\n      // @ts-ignore\n      repetition: repetition\n    };\n  }\n  return null;\n}\n\nfunction isCSSGradientValue(object) {\n  return !!object.type && !!object.value;\n}\nfunction isPattern(object) {\n  return isObject(object) && !!object.image;\n}\nfunction isCSSRGB(object) {\n  return isObject(object) && !isNil(object.r) && !isNil(object.g) && !isNil(object.b);\n}\n/**\r\n * @see https://github.com/WebKit/WebKit/blob/main/Source/WebCore/css/parser/CSSParser.cpp#L97\r\n */\nvar parseColor = memoize(function (colorStr) {\n  if (isPattern(colorStr)) {\n    return _extends({\n      repetition: 'repeat'\n    }, colorStr);\n  }\n  if (isNil(colorStr)) {\n    colorStr = '';\n  }\n  if (colorStr === 'transparent') {\n    // transparent black\n    return transparentColor;\n  } else if (colorStr === 'currentColor') {\n    // @see https://github.com/adobe-webplatform/Snap.svg/issues/526\n    colorStr = 'black';\n  }\n  // support CSS gradient syntax\n  var g = parseGradient$1(colorStr);\n  if (g) {\n    return g;\n  }\n  // constants\n  var color$1 = color(colorStr);\n  var rgba = [0, 0, 0, 0];\n  if (color$1 !== null) {\n    rgba[0] = color$1.r || 0;\n    rgba[1] = color$1.g || 0;\n    rgba[2] = color$1.b || 0;\n    rgba[3] = color$1.opacity;\n  }\n  // return new CSSRGB(...rgba);\n  return getOrCreateRGBA.apply(void 0, rgba);\n});\nfunction mergeColors(left, right) {\n  // only support constant value, exclude gradient & pattern\n  if (!isCSSRGB(left) || !isCSSRGB(right)) {\n    return;\n  }\n  return [[Number(left.r), Number(left.g), Number(left.b), Number(left.alpha)], [Number(right.r), Number(right.g), Number(right.b), Number(right.alpha)], function (color) {\n    var rgba = color.slice();\n    if (rgba[3]) {\n      for (var i = 0; i < 3; i++) {\n        rgba[i] = Math.round(clamp(rgba[i], 0, 255));\n      }\n    }\n    rgba[3] = clamp(rgba[3], 0, 1);\n    return \"rgba(\" + rgba.join(',') + \")\";\n  }];\n}\n\n/**\r\n * Axis-Aligned Bounding Box\r\n * 为了便于后续 Frustum Culling，通过查找表定义 p-vertex 和 n-vertex\r\n * @see https://github.com/antvis/GWebGPUEngine/issues/3\r\n */\nvar AABB = /*#__PURE__*/function () {\n  AABB.isEmpty = function isEmpty(aabb) {\n    return !aabb || aabb.halfExtents[0] === 0 && aabb.halfExtents[1] === 0 && aabb.halfExtents[2] === 0;\n  };\n  // center: vec3 = vec3.create();\n  // halfExtents: vec3 = vec3.create();\n  // min: vec3 = vec3.create();\n  // max: vec3 = vec3.create();\n  function AABB(center, halfExtents) {\n    if (center === void 0) {\n      center = [0, 0, 0];\n    }\n    if (halfExtents === void 0) {\n      halfExtents = [0, 0, 0];\n    }\n    this.center = [0, 0, 0];\n    this.halfExtents = [0, 0, 0];\n    this.min = [0, 0, 0];\n    this.max = [0, 0, 0];\n    this.update(center, halfExtents);\n  }\n  var _proto = AABB.prototype;\n  _proto.update = function update(center, halfExtents) {\n    copyVec3(this.center, center);\n    copyVec3(this.halfExtents, halfExtents);\n    subVec3(this.min, this.center, this.halfExtents);\n    addVec3(this.max, this.center, this.halfExtents);\n    // vec3.copy(this.center, center);\n    // vec3.copy(this.halfExtents, halfExtents);\n    // vec3.sub(this.min, this.center, this.halfExtents);\n    // vec3.add(this.max, this.center, this.halfExtents);\n  };\n  _proto.setMinMax = function setMinMax(min, max) {\n    // vec3.add(this.center, max, min);\n    // vec3.scale(this.center, this.center, 0.5);\n    // vec3.sub(this.halfExtents, max, min);\n    // vec3.scale(this.halfExtents, this.halfExtents, 0.5);\n    // vec3.copy(this.min, min);\n    // vec3.copy(this.max, max);\n    addVec3(this.center, max, min);\n    scaleVec3(this.center, this.center, 0.5);\n    subVec3(this.halfExtents, max, min);\n    scaleVec3(this.halfExtents, this.halfExtents, 0.5);\n    copyVec3(this.min, min);\n    copyVec3(this.max, max);\n  };\n  _proto.getMin = function getMin() {\n    return this.min;\n  };\n  _proto.getMax = function getMax() {\n    return this.max;\n  };\n  _proto.add = function add(aabb) {\n    if (AABB.isEmpty(aabb)) {\n      return;\n    }\n    if (AABB.isEmpty(this)) {\n      this.setMinMax(aabb.getMin(), aabb.getMax());\n      return;\n    }\n    var tc = this.center;\n    var tcx = tc[0];\n    var tcy = tc[1];\n    var tcz = tc[2];\n    var th = this.halfExtents;\n    var thx = th[0];\n    var thy = th[1];\n    var thz = th[2];\n    var tminx = tcx - thx;\n    var tmaxx = tcx + thx;\n    var tminy = tcy - thy;\n    var tmaxy = tcy + thy;\n    var tminz = tcz - thz;\n    var tmaxz = tcz + thz;\n    var oc = aabb.center;\n    var ocx = oc[0];\n    var ocy = oc[1];\n    var ocz = oc[2];\n    var oh = aabb.halfExtents;\n    var ohx = oh[0];\n    var ohy = oh[1];\n    var ohz = oh[2];\n    var ominx = ocx - ohx;\n    var omaxx = ocx + ohx;\n    var ominy = ocy - ohy;\n    var omaxy = ocy + ohy;\n    var ominz = ocz - ohz;\n    var omaxz = ocz + ohz;\n    if (ominx < tminx) {\n      tminx = ominx;\n    }\n    if (omaxx > tmaxx) {\n      tmaxx = omaxx;\n    }\n    if (ominy < tminy) {\n      tminy = ominy;\n    }\n    if (omaxy > tmaxy) {\n      tmaxy = omaxy;\n    }\n    if (ominz < tminz) {\n      tminz = ominz;\n    }\n    if (omaxz > tmaxz) {\n      tmaxz = omaxz;\n    }\n    tc[0] = (tminx + tmaxx) * 0.5;\n    tc[1] = (tminy + tmaxy) * 0.5;\n    tc[2] = (tminz + tmaxz) * 0.5;\n    th[0] = (tmaxx - tminx) * 0.5;\n    th[1] = (tmaxy - tminy) * 0.5;\n    th[2] = (tmaxz - tminz) * 0.5;\n    this.min[0] = tminx;\n    this.min[1] = tminy;\n    this.min[2] = tminz;\n    this.max[0] = tmaxx;\n    this.max[1] = tmaxy;\n    this.max[2] = tmaxz;\n  };\n  _proto.setFromTransformedAABB = function setFromTransformedAABB(aabb, m) {\n    var bc = this.center;\n    var br = this.halfExtents;\n    var ac = aabb.center;\n    var ar = aabb.halfExtents;\n    var mx0 = m[0];\n    var mx1 = m[4];\n    var mx2 = m[8];\n    var my0 = m[1];\n    var my1 = m[5];\n    var my2 = m[9];\n    var mz0 = m[2];\n    var mz1 = m[6];\n    var mz2 = m[10];\n    var mx0a = Math.abs(mx0);\n    var mx1a = Math.abs(mx1);\n    var mx2a = Math.abs(mx2);\n    var my0a = Math.abs(my0);\n    var my1a = Math.abs(my1);\n    var my2a = Math.abs(my2);\n    var mz0a = Math.abs(mz0);\n    var mz1a = Math.abs(mz1);\n    var mz2a = Math.abs(mz2);\n    bc[0] = m[12] + mx0 * ac[0] + mx1 * ac[1] + mx2 * ac[2];\n    bc[1] = m[13] + my0 * ac[0] + my1 * ac[1] + my2 * ac[2];\n    bc[2] = m[14] + mz0 * ac[0] + mz1 * ac[1] + mz2 * ac[2];\n    // vec3.set(\n    //   bc,\n    //   m[12] + mx0 * ac[0] + mx1 * ac[1] + mx2 * ac[2],\n    //   m[13] + my0 * ac[0] + my1 * ac[1] + my2 * ac[2],\n    //   m[14] + mz0 * ac[0] + mz1 * ac[1] + mz2 * ac[2],\n    // );\n    br[0] = mx0a * ar[0] + mx1a * ar[1] + mx2a * ar[2];\n    br[1] = my0a * ar[0] + my1a * ar[1] + my2a * ar[2];\n    br[2] = mz0a * ar[0] + mz1a * ar[1] + mz2a * ar[2];\n    // vec3.set(\n    //   br,\n    //   mx0a * ar[0] + mx1a * ar[1] + mx2a * ar[2],\n    //   my0a * ar[0] + my1a * ar[1] + my2a * ar[2],\n    //   mz0a * ar[0] + mz1a * ar[1] + mz2a * ar[2],\n    // );\n    // this.min = vec3.sub(this.min, bc, br);\n    // this.max = vec3.add(this.max, bc, br);\n    subVec3(this.min, bc, br);\n    addVec3(this.max, bc, br);\n  };\n  _proto.intersects = function intersects(aabb) {\n    var aMax = this.getMax();\n    var aMin = this.getMin();\n    var bMax = aabb.getMax();\n    var bMin = aabb.getMin();\n    return aMin[0] <= bMax[0] && aMax[0] >= bMin[0] && aMin[1] <= bMax[1] && aMax[1] >= bMin[1] && aMin[2] <= bMax[2] && aMax[2] >= bMin[2];\n  };\n  _proto.intersection = function intersection(aabb) {\n    if (!this.intersects(aabb)) {\n      return null;\n    }\n    var intersection = new AABB();\n    // const min = vec3.max(vec3.create(), this.getMin(), aabb.getMin());\n    // const max = vec3.min(vec3.create(), this.getMax(), aabb.getMax());\n    var min = maxVec3([0, 0, 0], this.getMin(), aabb.getMin());\n    var max = minVec3([0, 0, 0], this.getMax(), aabb.getMax());\n    intersection.setMinMax(min, max);\n    return intersection;\n  }\n  // containsPoint(point: vec3) {\n  //   const min = this.getMin();\n  //   const max = this.getMax();\n  //   return !(\n  //     point[0] < min[0] ||\n  //     point[0] > max[0] ||\n  //     point[1] < min[1] ||\n  //     point[1] > max[1] ||\n  //     point[2] < min[2] ||\n  //     point[2] > max[2]\n  //   );\n  // }\n  /**\r\n   * get n-vertex\r\n   * @param plane plane of CullingVolume\r\n   */;\n  _proto.getNegativeFarPoint = function getNegativeFarPoint(plane) {\n    if (plane.pnVertexFlag === 0x111) {\n      return copyVec3([0, 0, 0], this.min);\n      // return vec3.copy(vec3.create(), this.min);\n    } else if (plane.pnVertexFlag === 0x110) {\n      return [this.min[0], this.min[1], this.max[2]];\n      // return vec3.fromValues(this.min[0], this.min[1], this.max[2]);\n    } else if (plane.pnVertexFlag === 0x101) {\n      return [this.min[0], this.max[1], this.min[2]];\n      // return vec3.fromValues(this.min[0], this.max[1], this.min[2]);\n    } else if (plane.pnVertexFlag === 0x100) {\n      return [this.min[0], this.max[1], this.max[2]];\n      // return vec3.fromValues(this.min[0], this.max[1], this.max[2]);\n    } else if (plane.pnVertexFlag === 0x011) {\n      return [this.max[0], this.min[1], this.min[2]];\n      // return vec3.fromValues(this.max[0], this.min[1], this.min[2]);\n    } else if (plane.pnVertexFlag === 0x010) {\n      return [this.max[0], this.min[1], this.max[2]];\n      // return vec3.fromValues(this.max[0], this.min[1], this.max[2]);\n    } else if (plane.pnVertexFlag === 0x001) {\n      return [this.max[0], this.max[1], this.min[2]];\n      // return vec3.fromValues(this.max[0], this.max[1], this.min[2]);\n    } else {\n      return [this.max[0], this.max[1], this.max[2]];\n      // return vec3.fromValues(this.max[0], this.max[1], this.max[2]);\n    }\n  }\n  /**\r\n   * get p-vertex\r\n   * @param plane plane of CullingVolume\r\n   */;\n  _proto.getPositiveFarPoint = function getPositiveFarPoint(plane) {\n    if (plane.pnVertexFlag === 0x111) {\n      return copyVec3([0, 0, 0], this.max);\n      // return vec3.copy(vec3.create(), this.max);\n    } else if (plane.pnVertexFlag === 0x110) {\n      return [this.max[0], this.max[1], this.min[2]];\n      // return vec3.fromValues(this.max[0], this.max[1], this.min[2]);\n    } else if (plane.pnVertexFlag === 0x101) {\n      return [this.max[0], this.min[1], this.max[2]];\n      // return vec3.fromValues(this.max[0], this.min[1], this.max[2]);\n    } else if (plane.pnVertexFlag === 0x100) {\n      return [this.max[0], this.min[1], this.min[2]];\n      // return vec3.fromValues(this.max[0], this.min[1], this.min[2]);\n    } else if (plane.pnVertexFlag === 0x011) {\n      return [this.min[0], this.max[1], this.max[2]];\n      // return vec3.fromValues(this.min[0], this.max[1], this.max[2]);\n    } else if (plane.pnVertexFlag === 0x010) {\n      return [this.min[0], this.max[1], this.min[2]];\n      // return vec3.fromValues(this.min[0], this.max[1], this.min[2]);\n    } else if (plane.pnVertexFlag === 0x001) {\n      return [this.min[0], this.min[1], this.max[2]];\n      // return vec3.fromValues(this.min[0], this.min[1], this.max[2]);\n    } else {\n      return [this.min[0], this.min[1], this.min[2]];\n      // return vec3.fromValues(this.min[0], this.min[1], this.min[2]);\n    }\n  };\n  return AABB;\n}();\n\nvar Plane = /*#__PURE__*/function () {\n  /**\r\n   * lookup table for p-vertex & n-vertex when doing frustum culling\r\n   */\n\n  function Plane(distance, normal) {\n    this.distance = void 0;\n    this.normal = void 0;\n    this.pnVertexFlag = void 0;\n    this.distance = distance || 0;\n    this.normal = normal || vec3.fromValues(0, 1, 0);\n    this.updatePNVertexFlag();\n  }\n  var _proto = Plane.prototype;\n  _proto.updatePNVertexFlag = function updatePNVertexFlag() {\n    this.pnVertexFlag = (Number(this.normal[0] >= 0) << 8) + (Number(this.normal[1] >= 0) << 4) + Number(this.normal[2] >= 0);\n  };\n  _proto.distanceToPoint = function distanceToPoint(point) {\n    return vec3.dot(point, this.normal) - this.distance;\n  };\n  _proto.normalize = function normalize() {\n    var invLen = 1 / vec3.len(this.normal);\n    vec3.scale(this.normal, this.normal, invLen);\n    this.distance *= invLen;\n  };\n  _proto.intersectsLine = function intersectsLine(start, end, point) {\n    var d0 = this.distanceToPoint(start);\n    var d1 = this.distanceToPoint(end);\n    var t = d0 / (d0 - d1);\n    var intersects = t >= 0 && t <= 1;\n    if (intersects && point) {\n      vec3.lerp(point, start, end, t);\n    }\n    return intersects;\n  };\n  return Plane;\n}();\n\nvar Mask;\n(function (Mask) {\n  Mask[Mask[\"OUTSIDE\"] = 4294967295] = \"OUTSIDE\";\n  Mask[Mask[\"INSIDE\"] = 0] = \"INSIDE\";\n  Mask[Mask[\"INDETERMINATE\"] = 2147483647] = \"INDETERMINATE\";\n})(Mask || (Mask = {}));\nvar Frustum = /*#__PURE__*/function () {\n  function Frustum(planes) {\n    this.planes = [];\n    if (planes) {\n      this.planes = planes;\n    } else {\n      for (var i = 0; i < 6; i++) {\n        this.planes.push(new Plane());\n      }\n    }\n  }\n  /**\r\n   * extract 6 planes from projectionMatrix\r\n   * @see http://www8.cs.umu.se/kurser/5DV051/HT12/lab/plane_extraction.pdf\r\n   */\n  var _proto = Frustum.prototype;\n  _proto.extractFromVPMatrix = function extractFromVPMatrix(projectionMatrix) {\n    // @ts-ignore\n    var m0 = projectionMatrix[0],\n      m1 = projectionMatrix[1],\n      m2 = projectionMatrix[2],\n      m3 = projectionMatrix[3],\n      m4 = projectionMatrix[4],\n      m5 = projectionMatrix[5],\n      m6 = projectionMatrix[6],\n      m7 = projectionMatrix[7],\n      m8 = projectionMatrix[8],\n      m9 = projectionMatrix[9],\n      m10 = projectionMatrix[10],\n      m11 = projectionMatrix[11],\n      m12 = projectionMatrix[12],\n      m13 = projectionMatrix[13],\n      m14 = projectionMatrix[14],\n      m15 = projectionMatrix[15];\n    // right\n    vec3.set(this.planes[0].normal, m3 - m0, m7 - m4, m11 - m8);\n    this.planes[0].distance = m15 - m12;\n    // left\n    vec3.set(this.planes[1].normal, m3 + m0, m7 + m4, m11 + m8);\n    this.planes[1].distance = m15 + m12;\n    // bottom\n    vec3.set(this.planes[2].normal, m3 + m1, m7 + m5, m11 + m9);\n    this.planes[2].distance = m15 + m13;\n    // top\n    vec3.set(this.planes[3].normal, m3 - m1, m7 - m5, m11 - m9);\n    this.planes[3].distance = m15 - m13;\n    // far\n    vec3.set(this.planes[4].normal, m3 - m2, m7 - m6, m11 - m10);\n    this.planes[4].distance = m15 - m14;\n    // near\n    vec3.set(this.planes[5].normal, m3 + m2, m7 + m6, m11 + m10);\n    this.planes[5].distance = m15 + m14;\n    this.planes.forEach(function (plane) {\n      plane.normalize();\n      plane.updatePNVertexFlag();\n    });\n  };\n  return Frustum;\n}();\n\nvar Point = /*#__PURE__*/function () {\n  function Point(x, y) {\n    if (x === void 0) {\n      x = 0;\n    }\n    if (y === void 0) {\n      y = 0;\n    }\n    this.x = 0;\n    this.y = 0;\n    this.x = x;\n    this.y = y;\n  }\n  var _proto = Point.prototype;\n  _proto.clone = function clone() {\n    return new Point(this.x, this.y);\n  };\n  _proto.copyFrom = function copyFrom(p) {\n    this.x = p.x;\n    this.y = p.y;\n  };\n  return Point;\n}();\n\nvar Rectangle = /*#__PURE__*/function () {\n  function Rectangle(x, y, width, height) {\n    this.x = void 0;\n    this.y = void 0;\n    this.width = void 0;\n    this.height = void 0;\n    this.left = void 0;\n    this.right = void 0;\n    this.top = void 0;\n    this.bottom = void 0;\n    this.x = x;\n    this.y = y;\n    this.width = width;\n    this.height = height;\n    this.left = x;\n    this.right = x + width;\n    this.top = y;\n    this.bottom = y + height;\n  }\n  var _proto = Rectangle.prototype;\n  _proto.toJSON = function toJSON() {};\n  return Rectangle;\n}();\n\nfunction parseDimension(unitRegExp, string) {\n  if (isNil(string)) {\n    return getOrCreateUnitValue(0, 'px');\n  }\n  string = (\"\" + string).trim().toLowerCase();\n  if (isFinite(Number(string))) {\n    if ('px'.search(unitRegExp) >= 0) {\n      return getOrCreateUnitValue(Number(string), 'px');\n    } else if ('deg'.search(unitRegExp) >= 0) {\n      return getOrCreateUnitValue(Number(string), 'deg');\n    }\n  }\n  var matchedUnits = [];\n  string = string.replace(unitRegExp, function (match) {\n    matchedUnits.push(match);\n    return 'U' + match;\n  });\n  var taggedUnitRegExp = 'U(' + unitRegExp.source + ')';\n  return matchedUnits.map(function (unit) {\n    return getOrCreateUnitValue(Number(string.replace(new RegExp('U' + unit, 'g'), '').replace(new RegExp(taggedUnitRegExp, 'g'), '*0')), unit);\n  })[0];\n}\n/**\r\n * <length>\r\n * @see https://developer.mozilla.org/zh-CN/docs/Web/CSS/length\r\n * length with only absolute unit, eg. 1px\r\n */\nvar parseLength = memoize(function (css) {\n  return parseDimension(new RegExp('px', 'g'), css);\n});\n/**\r\n * <percentage>\r\n * @see https://developer.mozilla.org/zh-CN/docs/Web/CSS/percentage\r\n */\nvar parserPercentage = memoize(function (css) {\n  return parseDimension(new RegExp('%', 'g'), css);\n});\n/**\r\n * length with absolute or relative unit,\r\n * eg. 1px, 0.7em, 50%, calc(100% - 200px);\r\n *\r\n * @see https://developer.mozilla.org/zh-CN/docs/Web/CSS/length-percentage\r\n */\n// export const parseLengthOrPercentage = memoize((css: string): CSSUnitValue => {\n//   if (isNumber(css) || isFinite(Number(css))) {\n//     return getOrCreateUnitValue(Number(css), 'px');\n//   }\n//   return parseDimension(new RegExp('px|%|em|rem', 'g'), css) as CSSUnitValue;\n// });\nvar parseLengthOrPercentage = function parseLengthOrPercentage(css) {\n  if (isNumber(css) || isFinite(Number(css))) {\n    return getOrCreateUnitValue(Number(css), 'px');\n    // return Number(css);\n  }\n\n  return parseDimension(new RegExp('px|%|em|rem', 'g'), css);\n};\nvar parseAngle = memoize(function (css) {\n  return parseDimension(new RegExp('deg|rad|grad|turn', 'g'), css);\n});\n/**\r\n * merge CSSUnitValue\r\n *\r\n * @example\r\n * 10px + 20px = 30px\r\n * 10deg + 10rad\r\n * 10% + 20% = 30%\r\n */\nfunction mergeDimensions(left, right, target, nonNegative, index) {\n  if (index === void 0) {\n    index = 0;\n  }\n  var unit = '';\n  var leftValue = left.value || 0;\n  var rightValue = right.value || 0;\n  var canonicalUnit = toCanonicalUnit(left.unit);\n  var leftCanonicalUnitValue = left.convertTo(canonicalUnit);\n  var rightCanonicalUnitValue = right.convertTo(canonicalUnit);\n  if (leftCanonicalUnitValue && rightCanonicalUnitValue) {\n    leftValue = leftCanonicalUnitValue.value;\n    rightValue = rightCanonicalUnitValue.value;\n    unit = unitTypeToString(left.unit);\n  } else {\n    // format '%' to 'px'\n    if (CSSUnitValue.isLength(left.unit) || CSSUnitValue.isLength(right.unit)) {\n      leftValue = convertPercentUnit(left, index, target);\n      rightValue = convertPercentUnit(right, index, target);\n      unit = 'px';\n    }\n  }\n  // // format 'rad' 'turn' to 'deg'\n  // if (CSSUnitValue.isAngle(left.unit) || CSSUnitValue.isAngle(right.unit)) {\n  //   leftValue = convertAngleUnit(left);\n  //   rightValue = convertAngleUnit(right);\n  //   unit = 'deg';\n  // }\n  return [leftValue, rightValue, function (value) {\n    if (nonNegative) {\n      value = Math.max(value, 0);\n    }\n    return value + unit;\n  }];\n}\nfunction convertAngleUnit(value) {\n  var deg = 0;\n  if (value.unit === UnitType.kDegrees) {\n    deg = value.value;\n  } else if (value.unit === UnitType.kRadians) {\n    deg = rad2deg(Number(value.value));\n  } else if (value.unit === UnitType.kTurns) {\n    deg = turn2deg(Number(value.value));\n  }\n  return deg;\n}\nfunction parseDimensionArrayFormat(string, size) {\n  var parsed;\n  if (isString(string)) {\n    parsed = string.split(' ').map(function (segment) {\n      return Number(segment);\n    });\n  } else if (isNumber(string)) {\n    parsed = [string];\n  } else {\n    // [1, '2px', 3]\n    parsed = string.map(function (segment) {\n      return Number(segment);\n    });\n  }\n  if (size === 2) {\n    if (parsed.length === 1) {\n      return [parsed[0], parsed[0]];\n    } else {\n      return [parsed[0], parsed[1]];\n    }\n  } else {\n    if (parsed.length === 1) {\n      return [parsed[0], parsed[0], parsed[0], parsed[0]];\n    } else if (parsed.length === 2) {\n      return [parsed[0], parsed[1], parsed[0], parsed[1]];\n    } else if (parsed.length === 3) {\n      return [parsed[0], parsed[1], parsed[2], parsed[1]];\n    } else {\n      return [parsed[0], parsed[1], parsed[2], parsed[3]];\n    }\n  }\n}\nfunction parseDimensionArray(string) {\n  if (isString(string)) {\n    // \"1px 2px 3px\"\n    return string.split(' ').map(function (segment) {\n      return parseLengthOrPercentage(segment);\n    });\n  } else {\n    // [1, '2px', 3]\n    return string.map(function (segment) {\n      return parseLengthOrPercentage(segment.toString());\n    });\n  }\n}\n// export function mergeDimensionList(\n//   left: CSSUnitValue[],\n//   right: CSSUnitValue[],\n//   target: IElement | null,\n// ): [number[], number[], (list: number[]) => string] | undefined {\n//   if (left.length !== right.length) {\n//     return;\n//   }\n//   const unit = left[0].unit;\n//   return [\n//     left.map((l) => l.value),\n//     right.map((l) => l.value),\n//     (values: number[]) => {\n//       return values.map((n) => new CSSUnitValue(n, unit)).join(' ');\n//     },\n//   ];\n// }\nfunction convertPercentUnit(valueWithUnit, vec3Index, target) {\n  if (valueWithUnit.unit === UnitType.kPixels) {\n    return Number(valueWithUnit.value);\n  } else if (valueWithUnit.unit === UnitType.kPercentage && target) {\n    var bounds = target.nodeName === Shape.GROUP ? target.getLocalBounds() : target.getGeometryBounds();\n    var size = 0;\n    if (!AABB.isEmpty(bounds)) {\n      size = bounds.halfExtents[vec3Index] * 2;\n    }\n    return Number(valueWithUnit.value) / 100 * size;\n  }\n  return 0;\n}\n\nvar parseParam = function parseParam(css) {\n  return parseDimension(/deg|rad|grad|turn|px|%/g, css);\n};\nvar supportedFilters = ['blur', 'brightness', 'drop-shadow', 'contrast', 'grayscale', 'sepia', 'saturate', 'hue-rotate', 'invert'];\nfunction parseFilter(filterStr) {\n  if (filterStr === void 0) {\n    filterStr = '';\n  }\n  filterStr = filterStr.toLowerCase().trim();\n  if (filterStr === 'none') {\n    return [];\n  }\n  var filterRegExp = /\\s*([\\w-]+)\\(([^)]*)\\)/g;\n  var result = [];\n  var match;\n  var prevLastIndex = 0;\n  while (match = filterRegExp.exec(filterStr)) {\n    if (match.index !== prevLastIndex) {\n      return [];\n    }\n    prevLastIndex = match.index + match[0].length;\n    if (supportedFilters.indexOf(match[1]) > -1) {\n      result.push({\n        name: match[1],\n        params: match[2].split(' ').map(function (p) {\n          return parseParam(p) || parseColor(p);\n        })\n      });\n    }\n    if (filterRegExp.lastIndex === filterStr.length) {\n      return result;\n    }\n  }\n  return [];\n}\n\nfunction numberToString(x) {\n  // scale(0.00000001) -> scale(0)\n  // return x.toFixed(6).replace(/0+$/, '').replace(/\\.$/, '');\n  return x.toString();\n}\n/**\r\n * parse string or number to CSSUnitValue(numeric)\r\n *\r\n * eg.\r\n * * 0 -> CSSUnitValue(0)\r\n * * '2' -> CSSUnitValue(2)\r\n */\nvar parseNumber = memoize(function (string) {\n  if (typeof string === 'number') {\n    return getOrCreateUnitValue(string);\n  }\n  if (/^\\s*[-+]?(\\d*\\.)?\\d+\\s*$/.test(string)) {\n    return getOrCreateUnitValue(Number(string));\n  } else {\n    return getOrCreateUnitValue(0);\n  }\n});\n/**\r\n * separate string to array\r\n * eg.\r\n * * [0.5, 0.5] -> [CSSUnitValue, CSSUnitValue]\r\n */\nvar parseNumberList = memoize(function (string) {\n  if (isString(string)) {\n    return string.split(' ').map(parseNumber);\n  } else {\n    return string.map(parseNumber);\n  }\n});\nfunction mergeNumbers(left, right) {\n  return [left, right, numberToString];\n}\nfunction clampedMergeNumbers(min, max) {\n  return function (left, right) {\n    return [left, right, function (x) {\n      return numberToString(clamp(x, min, max));\n    }];\n  };\n}\nfunction mergeNumberLists(left, right) {\n  if (left.length !== right.length) {\n    return;\n  }\n  return [left, right, function (numberList) {\n    return numberList;\n  }];\n}\n\nvar internalParsePath = function internalParsePath(path) {\n  // empty path\n  if (path === '' || Array.isArray(path) && path.length === 0) {\n    return {\n      absolutePath: [],\n      hasArc: false,\n      segments: [],\n      polygons: [],\n      polylines: [],\n      curve: null,\n      totalLength: 0,\n      rect: {\n        x: 0,\n        y: 0,\n        width: 0,\n        height: 0\n      }\n    };\n  }\n  var absolutePath;\n  try {\n    absolutePath = normalizePath(path);\n  } catch (e) {\n    absolutePath = normalizePath('');\n    console.error(\"[g]: Invalid SVG Path definition: \" + path);\n  }\n  var hasArc = hasArcOrBezier(absolutePath);\n  var _extractPolygons = extractPolygons(absolutePath),\n    polygons = _extractPolygons.polygons,\n    polylines = _extractPolygons.polylines;\n  // for later use\n  var segments = path2Segments(absolutePath);\n  // Only calculate bbox here since we don't need length now.\n  var _getPathBBox = getPathBBox(segments, 0),\n    x = _getPathBBox.x,\n    y = _getPathBBox.y,\n    width = _getPathBBox.width,\n    height = _getPathBBox.height;\n  return {\n    absolutePath: absolutePath,\n    hasArc: hasArc,\n    segments: segments,\n    polygons: polygons,\n    polylines: polylines,\n    // curve,\n    // Delay the calculation of length.\n    totalLength: 0,\n    rect: {\n      x: Number.isFinite(x) ? x : 0,\n      y: Number.isFinite(y) ? y : 0,\n      width: Number.isFinite(width) ? width : 0,\n      height: Number.isFinite(height) ? height : 0\n    }\n  };\n};\nvar memoizedParsePath = memoize(internalParsePath);\nfunction parsePath(path, object) {\n  var result = isString(path) ? memoizedParsePath(path) : internalParsePath(path);\n  if (object) {\n    object.parsedStyle.defX = result.rect.x;\n    object.parsedStyle.defY = result.rect.y;\n  }\n  return result;\n}\nfunction mergePaths(left, right, object) {\n  var curve1 = left.curve;\n  var curve2 = right.curve;\n  if (!curve1 || curve1.length === 0) {\n    // convert to curves to do morphing & picking later\n    // @see http://thednp.github.io/kute.js/svgCubicMorph.html\n    curve1 = path2Curve(left.absolutePath, false);\n    left.curve = curve1;\n  }\n  if (!curve2 || curve2.length === 0) {\n    curve2 = path2Curve(right.absolutePath, false);\n    right.curve = curve2;\n  }\n  var curves = [curve1, curve2];\n  if (curve1.length !== curve2.length) {\n    curves = equalizeSegments(curve1, curve2);\n  }\n  var curve0 = getDrawDirection(curves[0]) !== getDrawDirection(curves[1]) ? reverseCurve(curves[0]) : clonePath(curves[0]);\n  return [curve0, getRotatedCurve(curves[1], curve0), function (pathArray) {\n    // need converting to path string?\n    return pathArray;\n  }];\n}\n\n/**\r\n * @see https://developer.mozilla.org/zh-CN/docs/Web/SVG/Attribute/points\r\n *\r\n * @example\r\n * points=\"100,10 250,150 200,110\"\r\n */\nfunction parsePoints(pointsOrStr, object) {\n  var points;\n  if (isString(pointsOrStr)) {\n    points = pointsOrStr.split(' ').map(function (pointStr) {\n      var _pointStr$split = pointStr.split(','),\n        x = _pointStr$split[0],\n        y = _pointStr$split[1];\n      return [Number(x), Number(y)];\n    });\n  } else {\n    points = pointsOrStr;\n  }\n  var segments = [];\n  var tempLength = 0;\n  var segmentT;\n  var segmentL;\n  var totalLength = Polyline$1.length(points);\n  points.forEach(function (p, i) {\n    if (points[i + 1]) {\n      segmentT = [0, 0];\n      segmentT[0] = tempLength / totalLength;\n      segmentL = Line$1.length(p[0], p[1], points[i + 1][0], points[i + 1][1]);\n      tempLength += segmentL;\n      segmentT[1] = tempLength / totalLength;\n      segments.push(segmentT);\n    }\n  });\n  var minX = Math.min.apply(Math, points.map(function (point) {\n    return point[0];\n  }));\n  var minY = Math.min.apply(Math, points.map(function (point) {\n    return point[1];\n  }));\n  if (object) {\n    object.parsedStyle.defX = minX;\n    object.parsedStyle.defY = minY;\n  }\n  return {\n    points: points,\n    totalLength: totalLength,\n    segments: segments\n  };\n}\n\nvar _ = null;\nfunction cast(pattern) {\n  return function (contents) {\n    var i = 0;\n    return pattern.map(function (x) {\n      return x === _ ? contents[i++] : x;\n    });\n  };\n}\nfunction id(x) {\n  return x;\n}\n// type: [argTypes, convertTo3D, convertTo2D]\n// In the argument types string, lowercase characters represent optional arguments\nvar transformFunctions = {\n  // @ts-ignore\n  matrix: ['NNNNNN', [_, _, 0, 0, _, _, 0, 0, 0, 0, 1, 0, _, _, 0, 1], id],\n  matrix3d: ['NNNNNNNNNNNNNNNN', id],\n  rotate: ['A'],\n  rotatex: ['A'],\n  rotatey: ['A'],\n  rotatez: ['A'],\n  rotate3d: ['NNNA'],\n  perspective: ['L'],\n  scale: ['Nn', cast([_, _, new CSSUnitValue(1)]), id],\n  scalex: ['N', cast([_, new CSSUnitValue(1), new CSSUnitValue(1)]), cast([_, new CSSUnitValue(1)])],\n  scaley: ['N', cast([new CSSUnitValue(1), _, new CSSUnitValue(1)]), cast([new CSSUnitValue(1), _])],\n  scalez: ['N', cast([new CSSUnitValue(1), new CSSUnitValue(1), _])],\n  scale3d: ['NNN', id],\n  skew: ['Aa', null, id],\n  skewx: ['A', null, cast([_, Odeg])],\n  skewy: ['A', null, cast([Odeg, _])],\n  translate: ['Tt', cast([_, _, Opx]), id],\n  translatex: ['T', cast([_, Opx, Opx]), cast([_, Opx])],\n  translatey: ['T', cast([Opx, _, Opx]), cast([Opx, _])],\n  translatez: ['L', cast([Opx, Opx, _])],\n  translate3d: ['TTL', id]\n};\n/**\r\n * none\r\n * scale(1) scale(1, 2)\r\n * scaleX(1)\r\n */\nfunction parseTransform(string) {\n  string = (string || 'none').toLowerCase().trim();\n  if (string === 'none') {\n    return [];\n  }\n  var transformRegExp = /\\s*(\\w+)\\(([^)]*)\\)/g;\n  var result = [];\n  var match;\n  var prevLastIndex = 0;\n  while (match = transformRegExp.exec(string)) {\n    if (match.index !== prevLastIndex) {\n      return [];\n    }\n    prevLastIndex = match.index + match[0].length;\n    var functionName = match[1]; // scale\n    var functionData = transformFunctions[functionName]; // scale(1, 2)\n    if (!functionData) {\n      // invalid, eg. scale()\n      return [];\n    }\n    var args = match[2].split(','); // 1,2\n    var argTypes = functionData[0]; // Nn\n    if (argTypes.length < args.length) {\n      // scale(N, n)\n      return [];\n    }\n    var parsedArgs = [];\n    for (var i = 0; i < argTypes.length; i++) {\n      var arg = args[i];\n      var type = argTypes[i];\n      var parsedArg = void 0;\n      if (!arg) {\n        // @ts-ignore\n        parsedArg = {\n          a: Odeg,\n          n: parsedArgs[0],\n          t: Opx\n        }[type];\n      } else {\n        // @ts-ignore\n        parsedArg = {\n          A: function A(s) {\n            return s.trim() === '0' ? Odeg : parseAngle(s);\n          },\n          N: parseNumber,\n          T: parseLengthOrPercentage,\n          L: parseLength\n        }[type.toUpperCase()](arg);\n      }\n      if (parsedArg === undefined) {\n        return [];\n      }\n      parsedArgs.push(parsedArg);\n    }\n    result.push({\n      t: functionName,\n      d: parsedArgs\n    }); // { t: scale, d: [1, 2] }\n    if (transformRegExp.lastIndex === string.length) {\n      return result;\n    }\n  }\n  return [];\n}\nfunction convertItemToMatrix(item) {\n  var x;\n  var y;\n  var z;\n  var angle;\n  switch (item.t) {\n    case 'rotatex':\n      angle = deg2rad(convertAngleUnit(item.d[0]));\n      return [1, 0, 0, 0, 0, Math.cos(angle), Math.sin(angle), 0, 0, -Math.sin(angle), Math.cos(angle), 0, 0, 0, 0, 1];\n    case 'rotatey':\n      angle = deg2rad(convertAngleUnit(item.d[0]));\n      return [Math.cos(angle), 0, -Math.sin(angle), 0, 0, 1, 0, 0, Math.sin(angle), 0, Math.cos(angle), 0, 0, 0, 0, 1];\n    case 'rotate':\n    case 'rotatez':\n      angle = deg2rad(convertAngleUnit(item.d[0]));\n      return [Math.cos(angle), Math.sin(angle), 0, 0, -Math.sin(angle), Math.cos(angle), 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n    case 'rotate3d':\n      x = item.d[0].value;\n      y = item.d[1].value;\n      z = item.d[2].value;\n      angle = deg2rad(convertAngleUnit(item.d[3]));\n      var sqrLength = x * x + y * y + z * z;\n      if (sqrLength === 0) {\n        x = 1;\n        y = 0;\n        z = 0;\n      } else if (sqrLength !== 1) {\n        var length = Math.sqrt(sqrLength);\n        x /= length;\n        y /= length;\n        z /= length;\n      }\n      var s = Math.sin(angle / 2);\n      var sc = s * Math.cos(angle / 2);\n      var sq = s * s;\n      return [1 - 2 * (y * y + z * z) * sq, 2 * (x * y * sq + z * sc), 2 * (x * z * sq - y * sc), 0, 2 * (x * y * sq - z * sc), 1 - 2 * (x * x + z * z) * sq, 2 * (y * z * sq + x * sc), 0, 2 * (x * z * sq + y * sc), 2 * (y * z * sq - x * sc), 1 - 2 * (x * x + y * y) * sq, 0, 0, 0, 0, 1];\n    case 'scale':\n      return [item.d[0].value, 0, 0, 0, 0, item.d[1].value, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n    case 'scalex':\n      return [item.d[0].value, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n    case 'scaley':\n      return [1, 0, 0, 0, 0, item.d[0].value, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n    case 'scalez':\n      return [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, item.d[0].value, 0, 0, 0, 0, 1];\n    case 'scale3d':\n      return [item.d[0].value, 0, 0, 0, 0, item.d[1].value, 0, 0, 0, 0, item.d[2].value, 0, 0, 0, 0, 1];\n    case 'skew':\n      var xAngle = deg2rad(convertAngleUnit(item.d[0]));\n      var yAngle = deg2rad(convertAngleUnit(item.d[1]));\n      return [1, Math.tan(yAngle), 0, 0, Math.tan(xAngle), 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n    case 'skewx':\n      angle = deg2rad(convertAngleUnit(item.d[0]));\n      return [1, 0, 0, 0, Math.tan(angle), 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n    case 'skewy':\n      angle = deg2rad(convertAngleUnit(item.d[0]));\n      return [1, Math.tan(angle), 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n    case 'translate':\n      // TODO: pass target\n      x = convertPercentUnit(item.d[0], 0, null) || 0;\n      y = convertPercentUnit(item.d[1], 0, null) || 0;\n      return [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, x, y, 0, 1];\n    case 'translatex':\n      x = convertPercentUnit(item.d[0], 0, null) || 0;\n      return [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, x, 0, 0, 1];\n    case 'translatey':\n      y = convertPercentUnit(item.d[0], 0, null) || 0;\n      return [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, y, 0, 1];\n    case 'translatez':\n      z = convertPercentUnit(item.d[0], 0, null) || 0;\n      return [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, z, 1];\n    case 'translate3d':\n      x = convertPercentUnit(item.d[0], 0, null) || 0;\n      y = convertPercentUnit(item.d[1], 0, null) || 0;\n      z = convertPercentUnit(item.d[2], 0, null) || 0;\n      return [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, x, y, z, 1];\n    case 'perspective':\n      var t = convertPercentUnit(item.d[0], 0, null) || 0;\n      var p = t ? -1 / t : 0;\n      return [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, p, 0, 0, 0, 1];\n    case 'matrix':\n      return [item.d[0].value, item.d[1].value, 0, 0, item.d[2].value, item.d[3].value, 0, 0, 0, 0, 1, 0, item.d[4].value, item.d[5].value, 0, 1];\n    case 'matrix3d':\n      return item.d.map(function (d) {\n        return d.value;\n      });\n  }\n}\nfunction multiplyMatrices(a, b) {\n  return [a[0] * b[0] + a[4] * b[1] + a[8] * b[2] + a[12] * b[3], a[1] * b[0] + a[5] * b[1] + a[9] * b[2] + a[13] * b[3], a[2] * b[0] + a[6] * b[1] + a[10] * b[2] + a[14] * b[3], a[3] * b[0] + a[7] * b[1] + a[11] * b[2] + a[15] * b[3], a[0] * b[4] + a[4] * b[5] + a[8] * b[6] + a[12] * b[7], a[1] * b[4] + a[5] * b[5] + a[9] * b[6] + a[13] * b[7], a[2] * b[4] + a[6] * b[5] + a[10] * b[6] + a[14] * b[7], a[3] * b[4] + a[7] * b[5] + a[11] * b[6] + a[15] * b[7], a[0] * b[8] + a[4] * b[9] + a[8] * b[10] + a[12] * b[11], a[1] * b[8] + a[5] * b[9] + a[9] * b[10] + a[13] * b[11], a[2] * b[8] + a[6] * b[9] + a[10] * b[10] + a[14] * b[11], a[3] * b[8] + a[7] * b[9] + a[11] * b[10] + a[15] * b[11], a[0] * b[12] + a[4] * b[13] + a[8] * b[14] + a[12] * b[15], a[1] * b[12] + a[5] * b[13] + a[9] * b[14] + a[13] * b[15], a[2] * b[12] + a[6] * b[13] + a[10] * b[14] + a[14] * b[15], a[3] * b[12] + a[7] * b[13] + a[11] * b[14] + a[15] * b[15]];\n}\nfunction convertToMatrix(transformList) {\n  if (transformList.length === 0) {\n    return [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n  }\n  return transformList.map(convertItemToMatrix).reduce(multiplyMatrices);\n}\nfunction makeMatrixDecomposition(transformList) {\n  var translate = [0, 0, 0];\n  var scale = [1, 1, 1];\n  var skew = [0, 0, 0];\n  var perspective = [0, 0, 0, 1];\n  var quaternion = [0, 0, 0, 1];\n  // @ts-ignore\n  decomposeMat4(convertToMatrix(transformList), translate, scale, skew, perspective, quaternion);\n  return [[translate, scale, skew, quaternion, perspective]];\n}\nvar composeMatrix = function () {\n  function multiply(a, b) {\n    var result = [[0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]];\n    for (var i = 0; i < 4; i++) {\n      for (var j = 0; j < 4; j++) {\n        for (var k = 0; k < 4; k++) {\n          result[i][j] += b[i][k] * a[k][j];\n        }\n      }\n    }\n    return result;\n  }\n  function is2D(m) {\n    return m[0][2] == 0 && m[0][3] == 0 && m[1][2] == 0 && m[1][3] == 0 && m[2][0] == 0 && m[2][1] == 0 && m[2][2] == 1 && m[2][3] == 0 && m[3][2] == 0 && m[3][3] == 1;\n  }\n  function composeMatrix(translate, scale, skew, quat, perspective) {\n    var matrix = [[1, 0, 0, 0], [0, 1, 0, 0], [0, 0, 1, 0], [0, 0, 0, 1]];\n    for (var i = 0; i < 4; i++) {\n      matrix[i][3] = perspective[i];\n    }\n    for (var _i = 0; _i < 3; _i++) {\n      for (var j = 0; j < 3; j++) {\n        matrix[3][_i] += translate[j] * matrix[j][_i];\n      }\n    }\n    var x = quat[0],\n      y = quat[1],\n      z = quat[2],\n      w = quat[3];\n    var rotMatrix = [[1, 0, 0, 0], [0, 1, 0, 0], [0, 0, 1, 0], [0, 0, 0, 1]];\n    rotMatrix[0][0] = 1 - 2 * (y * y + z * z);\n    rotMatrix[0][1] = 2 * (x * y - z * w);\n    rotMatrix[0][2] = 2 * (x * z + y * w);\n    rotMatrix[1][0] = 2 * (x * y + z * w);\n    rotMatrix[1][1] = 1 - 2 * (x * x + z * z);\n    rotMatrix[1][2] = 2 * (y * z - x * w);\n    rotMatrix[2][0] = 2 * (x * z - y * w);\n    rotMatrix[2][1] = 2 * (y * z + x * w);\n    rotMatrix[2][2] = 1 - 2 * (x * x + y * y);\n    matrix = multiply(matrix, rotMatrix);\n    var temp = [[1, 0, 0, 0], [0, 1, 0, 0], [0, 0, 1, 0], [0, 0, 0, 1]];\n    if (skew[2]) {\n      temp[2][1] = skew[2];\n      matrix = multiply(matrix, temp);\n    }\n    if (skew[1]) {\n      temp[2][1] = 0;\n      temp[2][0] = skew[0];\n      matrix = multiply(matrix, temp);\n    }\n    if (skew[0]) {\n      temp[2][0] = 0;\n      temp[1][0] = skew[0];\n      matrix = multiply(matrix, temp);\n    }\n    for (var _i2 = 0; _i2 < 3; _i2++) {\n      for (var _j = 0; _j < 3; _j++) {\n        matrix[_i2][_j] *= scale[_i2];\n      }\n    }\n    if (is2D(matrix)) {\n      return [matrix[0][0], matrix[0][1], matrix[1][0], matrix[1][1], matrix[3][0], matrix[3][1]];\n    }\n    return matrix[0].concat(matrix[1], matrix[2], matrix[3]);\n  }\n  return composeMatrix;\n}();\nfunction numberToLongString(x) {\n  return x.toFixed(6).replace('.000000', '');\n}\nfunction mergeMatrices(left, right) {\n  var leftArgs;\n  var rightArgs;\n  // @ts-ignore\n  if (left.decompositionPair !== right) {\n    // @ts-ignore\n    left.decompositionPair = right;\n    // @ts-ignore\n    leftArgs = makeMatrixDecomposition(left);\n  }\n  // @ts-ignore\n  if (right.decompositionPair !== left) {\n    // @ts-ignore\n    right.decompositionPair = left;\n    // @ts-ignore\n    rightArgs = makeMatrixDecomposition(right);\n  }\n  if (leftArgs[0] === null || rightArgs[0] === null) return [\n  // @ts-ignore\n  [false],\n  // @ts-ignore\n  [true],\n  // @ts-ignore\n  function (x) {\n    return x ? right[0].d : left[0].d;\n  }];\n  leftArgs[0].push(0);\n  rightArgs[0].push(1);\n  return [leftArgs, rightArgs,\n  // @ts-ignore\n  function (list) {\n    // @ts-ignore\n    var q = quat(leftArgs[0][3], rightArgs[0][3], list[5]);\n    var mat = composeMatrix(list[0], list[1], list[2], q, list[4]);\n    var stringifiedArgs = mat.map(numberToLongString).join(',');\n    return stringifiedArgs;\n  }];\n}\nfunction dot(v1, v2) {\n  var result = 0;\n  for (var i = 0; i < v1.length; i++) {\n    result += v1[i] * v2[i];\n  }\n  return result;\n}\nfunction quat(fromQ, toQ, f) {\n  var product = dot(fromQ, toQ);\n  product = clamp(product, -1.0, 1.0);\n  var quat = [];\n  if (product === 1.0) {\n    quat = fromQ;\n  } else {\n    var theta = Math.acos(product);\n    var w = Math.sin(f * theta) * 1 / Math.sqrt(1 - product * product);\n    for (var i = 0; i < 4; i++) {\n      quat.push(fromQ[i] * (Math.cos(f * theta) - product * w) + toQ[i] * w);\n    }\n  }\n  return quat;\n}\n// scalex/y/z -> scale\nfunction typeTo2D(type) {\n  return type.replace(/[xy]/, '');\n}\n// scalex/y/z -> scale3d\nfunction typeTo3D(type) {\n  return type.replace(/(x|y|z|3d)?$/, '3d');\n}\nvar isMatrixOrPerspective = function isMatrixOrPerspective(lt, rt) {\n  return lt === 'perspective' && rt === 'perspective' || (lt === 'matrix' || lt === 'matrix3d') && (rt === 'matrix' || rt === 'matrix3d');\n};\nfunction mergeTransforms(left, right, target) {\n  var flipResults = false;\n  // padding empty transform, eg. merge 'scale(10)' with 'none' -> scale(1)\n  if (!left.length || !right.length) {\n    if (!left.length) {\n      flipResults = true;\n      left = right;\n      right = [];\n    }\n    var _loop = function _loop(i) {\n      var _left$i = left[i],\n        type = _left$i.t,\n        args = _left$i.d;\n      // none -> scale(1)/translateX(0)\n      var defaultValue = type.substring(0, 5) === 'scale' ? 1 : 0;\n      right.push({\n        t: type,\n        d: args.map(function (arg) {\n          if (typeof arg === 'number') {\n            return getOrCreateUnitValue(defaultValue);\n          }\n          return getOrCreateUnitValue(defaultValue, arg.unit);\n          //   {\n          //     unit: arg.unit,\n          //     value: defaultValue,\n          //   };\n        })\n      });\n    };\n    for (var i = 0; i < left.length; i++) {\n      _loop(i);\n    }\n  }\n  var leftResult = [];\n  var rightResult = [];\n  var types = [];\n  // merge matrix() with matrix3d()\n  if (left.length !== right.length) {\n    var merged = mergeMatrices(left, right);\n    // @ts-ignore\n    leftResult = [merged[0]];\n    // @ts-ignore\n    rightResult = [merged[1]];\n    types = [['matrix', [merged[2]]]];\n  } else {\n    for (var _i3 = 0; _i3 < left.length; _i3++) {\n      var leftType = left[_i3].t;\n      var rightType = right[_i3].t;\n      var leftArgs = left[_i3].d;\n      var rightArgs = right[_i3].d;\n      var leftFunctionData = transformFunctions[leftType];\n      var rightFunctionData = transformFunctions[rightType];\n      var type = void 0;\n      if (isMatrixOrPerspective(leftType, rightType)) {\n        var _merged = mergeMatrices([left[_i3]], [right[_i3]]);\n        // @ts-ignore\n        leftResult.push(_merged[0]);\n        // @ts-ignore\n        rightResult.push(_merged[1]);\n        types.push(['matrix', [_merged[2]]]);\n        continue;\n      } else if (leftType === rightType) {\n        type = leftType;\n      } else if (leftFunctionData[2] && rightFunctionData[2] && typeTo2D(leftType) === typeTo2D(rightType)) {\n        type = typeTo2D(leftType);\n        // @ts-ignore\n        leftArgs = leftFunctionData[2](leftArgs);\n        // @ts-ignore\n        rightArgs = rightFunctionData[2](rightArgs);\n      } else if (leftFunctionData[1] && rightFunctionData[1] && typeTo3D(leftType) === typeTo3D(rightType)) {\n        type = typeTo3D(leftType);\n        // @ts-ignore\n        leftArgs = leftFunctionData[1](leftArgs);\n        // @ts-ignore\n        rightArgs = rightFunctionData[1](rightArgs);\n      } else {\n        var _merged2 = mergeMatrices(left, right);\n        // @ts-ignore\n        leftResult = [_merged2[0]];\n        // @ts-ignore\n        rightResult = [_merged2[1]];\n        types = [['matrix', [_merged2[2]]]];\n        break;\n      }\n      var leftArgsCopy = [];\n      var rightArgsCopy = [];\n      var stringConversions = [];\n      for (var j = 0; j < leftArgs.length; j++) {\n        // const merge = leftArgs[j].unit === UnitType.kNumber ? mergeDimensions : mergeDimensions;\n        var _merged3 = mergeDimensions(leftArgs[j], rightArgs[j], target, false, j);\n        leftArgsCopy[j] = _merged3[0];\n        rightArgsCopy[j] = _merged3[1];\n        stringConversions.push(_merged3[2]);\n      }\n      leftResult.push(leftArgsCopy);\n      rightResult.push(rightArgsCopy);\n      types.push([type, stringConversions]);\n    }\n  }\n  if (flipResults) {\n    var tmp = leftResult;\n    leftResult = rightResult;\n    rightResult = tmp;\n  }\n  return [leftResult, rightResult, function (list) {\n    return list.map(function (args, i) {\n      var stringifiedArgs = args.map(function (arg, j) {\n        return types[i][1][j](arg);\n      }).join(',');\n      if (types[i][0] === 'matrix' && stringifiedArgs.split(',').length === 16) {\n        types[i][0] = 'matrix3d';\n      }\n      if (types[i][0] === 'matrix3d' && stringifiedArgs.split(',').length === 6) {\n        types[i][0] = 'matrix';\n      }\n      return types[i][0] + '(' + stringifiedArgs + ')';\n    }).join(' ');\n  }];\n}\n\n/**\r\n * @see https://developer.mozilla.org/zh-CN/docs/Web/CSS/transform-origin\r\n * eg. 'center' 'top left' '50px 50px'\r\n */\nvar parseTransformOrigin = memoize(function (value) {\n  if (isString(value)) {\n    if (value === 'text-anchor') {\n      return [getOrCreateUnitValue(0, 'px'), getOrCreateUnitValue(0, 'px')];\n    }\n    var values = value.split(' ');\n    if (values.length === 1) {\n      if (values[0] === 'top' || values[0] === 'bottom') {\n        // 'top' -> 'center top'\n        values[1] = values[0];\n        values[0] = 'center';\n      } else {\n        // '50px' -> '50px center'\n        values[1] = 'center';\n      }\n    }\n    if (values.length !== 2) {\n      return null;\n    }\n    // eg. center bottom\n    return [parseLengthOrPercentage(convertKeyword2Percent(values[0])), parseLengthOrPercentage(convertKeyword2Percent(values[1]))];\n  } else {\n    return [getOrCreateUnitValue(value[0] || 0, 'px'), getOrCreateUnitValue(value[1] || 0, 'px')];\n  }\n});\nfunction convertKeyword2Percent(keyword) {\n  if (keyword === 'center') {\n    return '50%';\n  } else if (keyword === 'left' || keyword === 'top') {\n    return '0';\n  } else if (keyword === 'right' || keyword === 'bottom') {\n    return '100%';\n  }\n  return keyword;\n}\n\nvar CSSPropertyAngle = /*#__PURE__*/function () {\n  function CSSPropertyAngle() {\n    this.parser = parseAngle;\n    this.parserWithCSSDisabled = null;\n    this.mixer = mergeNumbers;\n  }\n  var _proto = CSSPropertyAngle.prototype;\n  _proto.calculator = function calculator(name, oldParsed, parsed, object) {\n    return convertAngleUnit(parsed);\n  };\n  return CSSPropertyAngle;\n}();\n\n/**\r\n * clipPath / textPath / offsetPath\r\n */\nvar CSSPropertyClipPath = /*#__PURE__*/function () {\n  function CSSPropertyClipPath() {}\n  var _proto = CSSPropertyClipPath.prototype;\n  _proto.calculator = function calculator(name, oldPath, newPath, object) {\n    // unset\n    if (newPath instanceof CSSKeywordValue) {\n      newPath = null;\n    }\n    runtime.sceneGraphService.updateDisplayObjectDependency(name, oldPath, newPath, object);\n    if (name === 'clipPath') {\n      // should affect children\n      object.forEach(function (leaf) {\n        if (leaf.childNodes.length === 0) {\n          runtime.sceneGraphService.dirtifyToRoot(leaf);\n        }\n      });\n    }\n    return newPath;\n  };\n  return CSSPropertyClipPath;\n}();\n\nvar CSSPropertyColor = /*#__PURE__*/function () {\n  function CSSPropertyColor() {\n    this.parser = parseColor;\n    this.parserWithCSSDisabled = parseColor;\n    this.mixer = mergeColors;\n  }\n  var _proto = CSSPropertyColor.prototype;\n  _proto.calculator = function calculator(name, oldParsed, parsed, object) {\n    if (parsed instanceof CSSKeywordValue) {\n      // 'unset' 'none'\n      return parsed.value === 'none' ? noneColor : transparentColor;\n    }\n    return parsed;\n  };\n  return CSSPropertyColor;\n}();\n\nvar CSSPropertyFilter = /*#__PURE__*/function () {\n  function CSSPropertyFilter() {\n    this.parser = parseFilter;\n  }\n  var _proto = CSSPropertyFilter.prototype;\n  _proto.calculator = function calculator(name, oldParsed, parsed) {\n    // unset or none\n    if (parsed instanceof CSSKeywordValue) {\n      return [];\n    }\n    return parsed;\n  };\n  return CSSPropertyFilter;\n}();\n\nfunction getFontSize(object) {\n  var fontSize = object.parsedStyle.fontSize;\n  return isNil(fontSize) ? null : fontSize;\n}\n/**\r\n * <length> & <percentage>\r\n */\nvar CSSPropertyLengthOrPercentage = /*#__PURE__*/function () {\n  function CSSPropertyLengthOrPercentage() {\n    this.parser = parseLengthOrPercentage;\n    this.parserWithCSSDisabled = null;\n    this.mixer = mergeNumbers;\n  }\n  var _proto = CSSPropertyLengthOrPercentage.prototype;\n  /**\r\n   * according to parent's bounds\r\n   *\r\n   * @example\r\n   * CSS.percent(50) -> CSS.px(0.5 * parent.width)\r\n   */\n  _proto.calculator = function calculator(name, oldParsed, computed, object, registry) {\n    if (isNumber(computed)) {\n      return computed;\n    }\n    if (CSSUnitValue.isRelativeUnit(computed.unit)) {\n      if (computed.unit === UnitType.kPercentage) {\n        // TODO: merge dimensions\n        return 0;\n      } else if (computed.unit === UnitType.kEms) {\n        if (object.parentNode) {\n          var fontSize = getFontSize(object.parentNode);\n          if (fontSize) {\n            fontSize *= computed.value;\n            return fontSize;\n          } else {\n            registry.addUnresolveProperty(object, name);\n          }\n        } else {\n          registry.addUnresolveProperty(object, name);\n        }\n        return 0;\n      } else if (computed.unit === UnitType.kRems) {\n        var _object$ownerDocument;\n        if (object === null || object === void 0 ? void 0 : (_object$ownerDocument = object.ownerDocument) === null || _object$ownerDocument === void 0 ? void 0 : _object$ownerDocument.documentElement) {\n          var _fontSize = getFontSize(object.ownerDocument.documentElement);\n          if (_fontSize) {\n            _fontSize *= computed.value;\n            return _fontSize;\n          } else {\n            registry.addUnresolveProperty(object, name);\n          }\n        } else {\n          registry.addUnresolveProperty(object, name);\n        }\n        return 0;\n      }\n    } else {\n      // remove listener if exists\n      // registry.unregisterParentGeometryBoundsChangedHandler(object, name);\n      // return absolute value\n      return computed.value;\n    }\n  };\n  return CSSPropertyLengthOrPercentage;\n}();\n\n/**\r\n * format to Tuple2<CSSUnitValue>\r\n *\r\n * @example\r\n * rect.style.lineDash = 10;\r\n * rect.style.lineDash = [10, 10];\r\n * rect.style.lineDash = '10 10';\r\n */\nvar CSSPropertyLengthOrPercentage12 = /*#__PURE__*/function () {\n  function CSSPropertyLengthOrPercentage12() {\n    this.mixer = mergeNumberLists;\n  }\n  var _proto = CSSPropertyLengthOrPercentage12.prototype;\n  _proto.parser = function parser(radius) {\n    var parsed = parseDimensionArray(isNumber(radius) ? [radius] : radius);\n    var formatted;\n    if (parsed.length === 1) {\n      formatted = [parsed[0], parsed[0]];\n    } else {\n      formatted = [parsed[0], parsed[1]];\n    }\n    return formatted;\n  };\n  _proto.calculator = function calculator(name, oldParsed, computed) {\n    return computed.map(function (c) {\n      return c.value;\n    });\n  };\n  return CSSPropertyLengthOrPercentage12;\n}();\n\n/**\r\n * used in rounded rect\r\n *\r\n * @example\r\n * rect.style.radius = 10;\r\n * rect.style.radius = '10 10';\r\n * rect.style.radius = '10 10 10 10';\r\n */\nvar CSSPropertyLengthOrPercentage14 = /*#__PURE__*/function () {\n  function CSSPropertyLengthOrPercentage14() {\n    this.mixer = mergeNumberLists;\n  }\n  var _proto = CSSPropertyLengthOrPercentage14.prototype;\n  _proto.parser = function parser(radius) {\n    var parsed = parseDimensionArray(isNumber(radius) ? [radius] : radius);\n    var formatted;\n    // format to Tuple<CSSUnitValue>\n    if (parsed.length === 1) {\n      formatted = [parsed[0], parsed[0], parsed[0], parsed[0]];\n    } else if (parsed.length === 2) {\n      formatted = [parsed[0], parsed[1], parsed[0], parsed[1]];\n    } else if (parsed.length === 3) {\n      formatted = [parsed[0], parsed[1], parsed[2], parsed[1]];\n    } else {\n      formatted = [parsed[0], parsed[1], parsed[2], parsed[3]];\n    }\n    return formatted;\n  };\n  _proto.calculator = function calculator(name, oldParsed, computed) {\n    return computed.map(function (c) {\n      return c.value;\n    });\n  };\n  return CSSPropertyLengthOrPercentage14;\n}();\n\n/**\r\n * local position\r\n */\nvar CSSPropertyLocalPosition = /*#__PURE__*/function (_CSSPropertyLengthOrP) {\n  _inheritsLoose(CSSPropertyLocalPosition, _CSSPropertyLengthOrP);\n  function CSSPropertyLocalPosition() {\n    return _CSSPropertyLengthOrP.apply(this, arguments) || this;\n  }\n  var _proto = CSSPropertyLocalPosition.prototype;\n  /**\r\n   * update local position\r\n   */\n  _proto.postProcessor = function postProcessor(object, attributes) {\n    var x;\n    var y;\n    var z;\n    switch (object.nodeName) {\n      case Shape.CIRCLE:\n      case Shape.ELLIPSE:\n        var _object$parsedStyle = object.parsedStyle,\n          cx = _object$parsedStyle.cx,\n          cy = _object$parsedStyle.cy;\n        if (!isNil(cx)) {\n          x = cx;\n        }\n        if (!isNil(cy)) {\n          y = cy;\n        }\n        break;\n      case Shape.LINE:\n        var _object$parsedStyle2 = object.parsedStyle,\n          x1 = _object$parsedStyle2.x1,\n          x2 = _object$parsedStyle2.x2,\n          y1 = _object$parsedStyle2.y1,\n          y2 = _object$parsedStyle2.y2;\n        var minX = Math.min(x1, x2);\n        var minY = Math.min(y1, y2);\n        x = minX;\n        y = minY;\n        z = 0;\n        break;\n      case Shape.RECT:\n      case Shape.IMAGE:\n      case Shape.GROUP:\n      case Shape.HTML:\n      case Shape.TEXT:\n      case Shape.MESH:\n        if (!isNil(object.parsedStyle.x)) {\n          x = object.parsedStyle.x;\n        }\n        if (!isNil(object.parsedStyle.y)) {\n          y = object.parsedStyle.y;\n        }\n        break;\n    }\n    if (object.nodeName !== Shape.PATH && object.nodeName !== Shape.POLYLINE && object.nodeName !== Shape.POLYGON) {\n      object.parsedStyle.defX = x || 0;\n      object.parsedStyle.defY = y || 0;\n    }\n    var needResetLocalPosition = !isNil(x) || !isNil(y) || !isNil(z);\n    // only if `transform` won't be processed later\n    if (needResetLocalPosition && attributes.indexOf('transform') === -1) {\n      // account for current transform if needed\n      var transform = object.parsedStyle.transform;\n      if (transform && transform.length) {\n        parsedTransformToMat4(transform, object);\n      } else {\n        var _object$getLocalPosit = object.getLocalPosition(),\n          ox = _object$getLocalPosit[0],\n          oy = _object$getLocalPosit[1],\n          oz = _object$getLocalPosit[2];\n        object.setLocalPosition(isNil(x) ? ox : x, isNil(y) ? oy : y, isNil(z) ? oz : z);\n      }\n    }\n  };\n  return CSSPropertyLocalPosition;\n}(CSSPropertyLengthOrPercentage);\n\nvar CSSPropertyMarker = /*#__PURE__*/function () {\n  function CSSPropertyMarker() {}\n  var _proto = CSSPropertyMarker.prototype;\n  _proto.calculator = function calculator(name, oldMarker, newMarker, object) {\n    var _newMarker;\n    // unset\n    if (newMarker instanceof CSSKeywordValue) {\n      newMarker = null;\n    }\n    var cloned = (_newMarker = newMarker) === null || _newMarker === void 0 ? void 0 : _newMarker.cloneNode(true);\n    if (cloned) {\n      // FIXME: SVG should not inherit parent's style, add a flag here\n      cloned.style.isMarker = true;\n    }\n    return cloned;\n  };\n  return CSSPropertyMarker;\n}();\n\nvar CSSPropertyNumber = /*#__PURE__*/function () {\n  function CSSPropertyNumber() {\n    this.mixer = mergeNumbers;\n    this.parser = parseNumber;\n    this.parserWithCSSDisabled = null;\n  }\n  var _proto = CSSPropertyNumber.prototype;\n  _proto.calculator = function calculator(name, oldParsed, computed) {\n    return computed.value;\n  };\n  return CSSPropertyNumber;\n}();\n\nvar CSSPropertyOffsetDistance = /*#__PURE__*/function () {\n  function CSSPropertyOffsetDistance() {\n    this.parser = parseNumber;\n    this.parserWithCSSDisabled = null;\n    this.mixer = clampedMergeNumbers(0, 1);\n  }\n  var _proto = CSSPropertyOffsetDistance.prototype;\n  _proto.calculator = function calculator(name, oldParsed, computed) {\n    return computed.value;\n  };\n  _proto.postProcessor = function postProcessor(object) {\n    var _object$parsedStyle = object.parsedStyle,\n      offsetPath = _object$parsedStyle.offsetPath,\n      offsetDistance = _object$parsedStyle.offsetDistance;\n    if (!offsetPath) {\n      return;\n    }\n    var nodeName = offsetPath.nodeName;\n    if (nodeName === Shape.LINE || nodeName === Shape.PATH || nodeName === Shape.POLYLINE) {\n      // set position in world space\n      var point = offsetPath.getPoint(offsetDistance);\n      if (point) {\n        object.parsedStyle.defX = point.x;\n        object.parsedStyle.defY = point.y;\n        object.setLocalPosition(point.x, point.y);\n      }\n    }\n  };\n  return CSSPropertyOffsetDistance;\n}();\n\n/**\r\n * opacity\r\n */\nvar CSSPropertyOpacity = /*#__PURE__*/function () {\n  function CSSPropertyOpacity() {\n    this.parser = parseNumber;\n    this.parserWithCSSDisabled = null;\n    this.mixer = clampedMergeNumbers(0, 1);\n  }\n  var _proto = CSSPropertyOpacity.prototype;\n  _proto.calculator = function calculator(name, oldParsed, computed) {\n    return computed.value;\n  };\n  return CSSPropertyOpacity;\n}();\n\nvar CSSPropertyPath = /*#__PURE__*/function () {\n  function CSSPropertyPath() {\n    this.parser = parsePath;\n    this.parserWithCSSDisabled = parsePath;\n    this.mixer = mergePaths;\n  }\n  var _proto = CSSPropertyPath.prototype;\n  _proto.calculator = function calculator(name, oldParsed, parsed) {\n    // unset\n    if (parsed instanceof CSSKeywordValue && parsed.value === 'unset') {\n      return {\n        absolutePath: [],\n        hasArc: false,\n        segments: [],\n        polygons: [],\n        polylines: [],\n        curve: null,\n        totalLength: 0,\n        rect: new Rectangle(0, 0, 0, 0)\n      };\n    }\n    return parsed;\n  };\n  /**\r\n   * update local position\r\n   */\n  _proto.postProcessor = function postProcessor(object, attributes) {\n    if (object.nodeName === Shape.PATH && attributes.indexOf('transform') === -1) {\n      var _object$parsedStyle = object.parsedStyle,\n        _object$parsedStyle$d = _object$parsedStyle.defX,\n        defX = _object$parsedStyle$d === void 0 ? 0 : _object$parsedStyle$d,\n        _object$parsedStyle$d2 = _object$parsedStyle.defY,\n        defY = _object$parsedStyle$d2 === void 0 ? 0 : _object$parsedStyle$d2;\n      object.setLocalPosition(defX, defY);\n    }\n  };\n  return CSSPropertyPath;\n}();\n\nvar CSSPropertyPoints = /*#__PURE__*/function () {\n  function CSSPropertyPoints() {\n    this.parser = parsePoints;\n  }\n  var _proto = CSSPropertyPoints.prototype;\n  /**\r\n   * update local position\r\n   */\n  _proto.postProcessor = function postProcessor(object, attributes) {\n    if ((object.nodeName === Shape.POLYGON || object.nodeName === Shape.POLYLINE) && attributes.indexOf('transform') === -1) {\n      var _object$parsedStyle = object.parsedStyle,\n        defX = _object$parsedStyle.defX,\n        defY = _object$parsedStyle.defY;\n      object.setLocalPosition(defX, defY);\n    }\n  };\n  return CSSPropertyPoints;\n}();\n\nvar CSSPropertyShadowBlur = /*#__PURE__*/function (_CSSPropertyLengthOrP) {\n  _inheritsLoose(CSSPropertyShadowBlur, _CSSPropertyLengthOrP);\n  function CSSPropertyShadowBlur() {\n    var _this;\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _CSSPropertyLengthOrP.call.apply(_CSSPropertyLengthOrP, [this].concat(args)) || this;\n    _this.mixer = clampedMergeNumbers(0, Infinity);\n    return _this;\n  }\n  return CSSPropertyShadowBlur;\n}(CSSPropertyLengthOrPercentage);\n\nvar CSSPropertyText = /*#__PURE__*/function () {\n  function CSSPropertyText() {}\n  var _proto = CSSPropertyText.prototype;\n  _proto.calculator = function calculator(name, oldParsed, parsed, object) {\n    if (parsed instanceof CSSKeywordValue) {\n      if (parsed.value === 'unset') {\n        return '';\n      } else {\n        return parsed.value;\n      }\n    }\n    // allow number as valid text content\n    return \"\" + parsed;\n  };\n  _proto.postProcessor = function postProcessor(object) {\n    object.nodeValue = \"\" + object.parsedStyle.text || '';\n  };\n  return CSSPropertyText;\n}();\n\n/**\r\n * it must transform after text get parsed\r\n * @see https://developer.mozilla.org/zh-CN/docs/Web/CSS/text-transform\r\n */\nvar CSSPropertyTextTransform = /*#__PURE__*/function () {\n  function CSSPropertyTextTransform() {}\n  var _proto = CSSPropertyTextTransform.prototype;\n  _proto.calculator = function calculator(name, oldParsed, parsed, object) {\n    var rawText = object.getAttribute('text');\n    if (rawText) {\n      var transformedText = rawText;\n      if (parsed.value === 'capitalize') {\n        transformedText = rawText.charAt(0).toUpperCase() + rawText.slice(1);\n      } else if (parsed.value === 'lowercase') {\n        transformedText = rawText.toLowerCase();\n      } else if (parsed.value === 'uppercase') {\n        transformedText = rawText.toUpperCase();\n      }\n      object.parsedStyle.text = transformedText;\n    }\n    return parsed.value;\n  };\n  return CSSPropertyTextTransform;\n}();\n\n/**\r\n * @see /zh/docs/api/animation#支持变换的属性\r\n *\r\n * support the following formats like CSS Transform:\r\n *\r\n * scale\r\n * * scale(x, y)\r\n * * scaleX(x)\r\n * * scaleY(x)\r\n * * scaleZ(z)\r\n * * scale3d(x, y, z)\r\n *\r\n * translate (unit: none, px, %(relative to its bounds))\r\n * * translate(x, y) eg. translate(0, 0) translate(0, 30px) translate(100%, 100%)\r\n * * translateX(0)\r\n * * translateY(0)\r\n * * translateZ(0)\r\n * * translate3d(0, 0, 0)\r\n *\r\n * rotate (unit: deg rad turn)\r\n * * rotate(0.5turn) rotate(30deg) rotate(1rad)\r\n *\r\n * none\r\n *\r\n * unsupported for now:\r\n * * calc() eg. translate(calc(100% + 10px))\r\n * * matrix/matrix3d()\r\n * * skew/skewX/skewY\r\n * * perspective\r\n */\nvar CSSPropertyTransform = /*#__PURE__*/function () {\n  function CSSPropertyTransform() {\n    this.parser = parseTransform;\n    this.parserWithCSSDisabled = parseTransform;\n    this.mixer = mergeTransforms;\n  }\n  var _proto = CSSPropertyTransform.prototype;\n  _proto.calculator = function calculator(name, oldParsed, parsed, object) {\n    // 'none'\n    if (parsed instanceof CSSKeywordValue) {\n      return [];\n    }\n    return parsed;\n  };\n  _proto.postProcessor = function postProcessor(object) {\n    var transform = object.parsedStyle.transform;\n    parsedTransformToMat4(transform, object);\n  };\n  return CSSPropertyTransform;\n}();\n\n/**\r\n * @see https://developer.mozilla.org/zh-CN/docs/Web/CSS/transform-origin\r\n * @example\r\n * [10px, 10px] [10%, 10%]\r\n */\nvar CSSPropertyTransformOrigin = function CSSPropertyTransformOrigin() {\n  this.parser = parseTransformOrigin;\n};\n\nvar CSSPropertyZIndex = /*#__PURE__*/function () {\n  function CSSPropertyZIndex() {\n    this.parser = parseNumber;\n  }\n  var _proto = CSSPropertyZIndex.prototype;\n  _proto.calculator = function calculator(name, oldParsed, computed, object) {\n    return computed.value;\n  };\n  _proto.postProcessor = function postProcessor(object) {\n    if (object.parentNode) {\n      var parentEntity = object.parentNode;\n      var parentRenderable = parentEntity.renderable;\n      var parentSortable = parentEntity.sortable;\n      if (parentRenderable) {\n        parentRenderable.dirty = true;\n      }\n      // need re-sort on parent\n      if (parentSortable) {\n        parentSortable.dirty = true;\n      }\n    }\n  };\n  return CSSPropertyZIndex;\n}();\n\n/**\r\n * canvas.customElements\r\n *\r\n * @see https://developer.mozilla.org/en-US/docs/Web/API/CustomElementRegistry\r\n */\nvar CustomElementRegistry = /*#__PURE__*/function () {\n  function CustomElementRegistry() {\n    this.registry = {};\n    this.define(Shape.CIRCLE, Circle);\n    this.define(Shape.ELLIPSE, Ellipse);\n    this.define(Shape.RECT, Rect);\n    this.define(Shape.IMAGE, Image);\n    this.define(Shape.LINE, Line);\n    this.define(Shape.GROUP, Group);\n    this.define(Shape.PATH, Path);\n    this.define(Shape.POLYGON, Polygon);\n    this.define(Shape.POLYLINE, Polyline);\n    this.define(Shape.TEXT, Text);\n    this.define(Shape.HTML, HTML);\n  }\n  var _proto = CustomElementRegistry.prototype;\n  _proto.define = function define(name, constructor) {\n    this.registry[name] = constructor;\n  }\n  /**\r\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/CustomElementRegistry/get\r\n   */;\n  _proto.get = function get(name) {\n    return this.registry[name];\n  };\n  return CustomElementRegistry;\n}();\n\nfunction isFederatedEvent(value) {\n  return !!value.type;\n}\n/**\r\n * An DOM-compatible synthetic event implementation that is \"forwarded\" on behalf of an original\r\n * FederatedEvent or native {@link https://dom.spec.whatwg.org/#event Event}.\r\n */\nvar FederatedEvent = /*#__PURE__*/function () {\n  /**\r\n   * The event boundary which manages this event. Propagation can only occur\r\n   *  within the boundary's jurisdiction.\r\n   */\n  function FederatedEvent(manager) {\n    this.type = void 0;\n    this.eventPhase = FederatedEvent.prototype.NONE;\n    this.target = void 0;\n    this.bubbles = true;\n    this.cancelBubble = true;\n    this.cancelable = false;\n    this.currentTarget = void 0;\n    this.defaultPrevented = false;\n    this.timeStamp = void 0;\n    this.nativeEvent = void 0;\n    this.originalEvent = void 0;\n    this.propagationStopped = false;\n    this.propagationImmediatelyStopped = false;\n    this.manager = void 0;\n    this.detail = void 0;\n    this.layer = new Point();\n    this.page = new Point();\n    this.canvas = new Point();\n    this.viewport = new Point();\n    this.path = void 0;\n    this.view = void 0;\n    this.which = void 0;\n    this.returnValue = void 0;\n    this.srcElement = void 0;\n    this.composed = false;\n    this.isTrusted = void 0;\n    this.NONE = 0;\n    this.CAPTURING_PHASE = 1;\n    this.AT_TARGET = 2;\n    this.BUBBLING_PHASE = 3;\n    this.manager = manager;\n  }\n  var _proto = FederatedEvent.prototype;\n  /**\r\n   * The propagation path for this event\r\n   * @see https://developer.mozilla.org/zh-CN/docs/Web/API/Event/composedPath\r\n   *\r\n   * So composedPath()[0] represents the original target.\r\n   * @see https://polymer-library.polymer-project.org/3.0/docs/devguide/events#retargeting\r\n   */\n  _proto.composedPath = function composedPath() {\n    if (this.manager && (!this.path || this.path[0] !== this.target)) {\n      this.path = this.target ? this.manager.propagationPath(this.target) : [];\n    }\n    return this.path;\n  }\n  /**\r\n   * @deprecated\r\n   */;\n  /**\r\n   * @see https://developer.mozilla.org/zh-CN/docs/Web/API/Event/preventDefault\r\n   */\n  _proto.preventDefault = function preventDefault() {\n    if (this.nativeEvent instanceof Event && this.nativeEvent.cancelable) {\n      this.nativeEvent.preventDefault();\n    }\n    this.defaultPrevented = true;\n  }\n  /**\r\n   * @see https://developer.mozilla.org/zh-CN/docs/Web/API/Event/stopImmediatePropagation\r\n   */;\n  _proto.stopImmediatePropagation = function stopImmediatePropagation() {\n    this.propagationImmediatelyStopped = true;\n  }\n  /**\r\n   * @see https://developer.mozilla.org/zh-CN/docs/Web/API/Event/stopPropagation\r\n   */;\n  _proto.stopPropagation = function stopPropagation() {\n    this.propagationStopped = true;\n  }\n  /**\r\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/UIEvent/view\r\n   */;\n  /**\r\n   * added for compatibility with DOM Event,\r\n   * deprecated props and methods\r\n   */\n  _proto.initEvent = function initEvent() {};\n  _proto.initUIEvent = function initUIEvent() {};\n  _proto.clone = function clone() {\n    throw new Error(ERROR_MSG_METHOD_NOT_IMPLEMENTED);\n  };\n  _createClass(FederatedEvent, [{\n    key: \"name\",\n    get:\n    /**\r\n     * The type of event, supports the following:\r\n     * * pointerdown\r\n     * * touchstart\r\n     * * mousedown\r\n     * * rightdown\r\n     * * ...\r\n     */\n\n    /**\r\n     * @deprecated\r\n     */\n    function get() {\n      return this.type;\n    }\n    /**\r\n     * The propagation phase.\r\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/Event/eventPhase\r\n     */\n  }, {\n    key: \"layerX\",\n    get: function get() {\n      return this.layer.x;\n    }\n  }, {\n    key: \"layerY\",\n    get: function get() {\n      return this.layer.y;\n    }\n    /**\r\n     * The coordinates of the event relative to the DOM document.\r\n     * This is a non-standard property.\r\n     * relative to the DOM document.\r\n     * @see https://developer.mozilla.org/zh-CN/docs/Web/API/MouseEvent/pageX\r\n     */\n  }, {\n    key: \"pageX\",\n    get: function get() {\n      return this.page.x;\n    }\n  }, {\n    key: \"pageY\",\n    get: function get() {\n      return this.page.y;\n    }\n    /**\r\n     * relative to Canvas, origin is left-top\r\n     */\n  }, {\n    key: \"x\",\n    get: function get() {\n      return this.canvas.x;\n    }\n  }, {\n    key: \"y\",\n    get: function get() {\n      return this.canvas.y;\n    }\n  }, {\n    key: \"canvasX\",\n    get: function get() {\n      return this.canvas.x;\n    }\n  }, {\n    key: \"canvasY\",\n    get: function get() {\n      return this.canvas.y;\n    }\n    /**\r\n     * relative to Viewport, account for Camera\r\n     */\n  }, {\n    key: \"viewportX\",\n    get: function get() {\n      return this.viewport.x;\n    }\n  }, {\n    key: \"viewportY\",\n    get: function get() {\n      return this.viewport.y;\n    }\n  }, {\n    key: \"propagationPath\",\n    get: function get() {\n      return this.composedPath();\n    }\n  }]);\n  return FederatedEvent;\n}();\n\n/**\r\n * @see https://developer.mozilla.org/en-US/docs/Web/Events/Creating_and_triggering_events\r\n *\r\n * @example\r\n  const event = new CustomEvent('build', { detail: { prop1: 'xx' } });\r\n  circle.addEventListener('build', (e) => {\r\n    e.target; // circle\r\n    e.detail; // { prop1: 'xx' }\r\n  });\r\n\n  circle.dispatchEvent(event);\r\n */\nvar CustomEvent = /*#__PURE__*/function (_FederatedEvent) {\n  _inheritsLoose(CustomEvent, _FederatedEvent);\n  // eslint-disable-next-line @typescript-eslint/ban-types\n  function CustomEvent(eventName, object) {\n    var _this;\n    _this = _FederatedEvent.call(this, null) || this;\n    _this.type = eventName;\n    _this.detail = object;\n    // compatible with G 3.0\n    Object.assign(_assertThisInitialized(_this), object);\n    return _this;\n  }\n  return CustomEvent;\n}(FederatedEvent);\n\nvar DELEGATION_SPLITTER = ':';\n/**\r\n * Objects that can receive events and may have listeners for them.\r\n * eg. Element, Canvas, DisplayObject\r\n * @see https://developer.mozilla.org/en-US/docs/Web/API/EventTarget\r\n */\nvar EventTarget = /*#__PURE__*/function () {\n  function EventTarget() {\n    this.emitter = new EventEmitter();\n  }\n  var _proto = EventTarget.prototype;\n  /**\r\n   * @deprecated\r\n   * @alias addEventListener\r\n   */\n  _proto.on = function on(type, listener, options) {\n    this.addEventListener(type, listener, options);\n    return this;\n  }\n  /**\r\n   * support `capture` & `once` in options\r\n   * @see https://developer.mozilla.org/zh-CN/docs/Web/API/EventTarget/addEventListener\r\n   */;\n  _proto.addEventListener = function addEventListener(type, listener, options) {\n    var capture = isBoolean(options) && options || isObject(options) && options.capture;\n    var once = isObject(options) && options.once;\n    var context = isFunction(listener) ? undefined : listener;\n    // compatible with G 3.0\n    // support using delegate name in event type, eg. 'node:click'\n    var useDelegatedName = false;\n    var delegatedName = '';\n    if (type.indexOf(DELEGATION_SPLITTER) > -1) {\n      var _type$split = type.split(DELEGATION_SPLITTER),\n        name = _type$split[0],\n        eventType = _type$split[1];\n      type = eventType;\n      delegatedName = name;\n      useDelegatedName = true;\n    }\n    type = capture ? type + \"capture\" : type;\n    listener = isFunction(listener) ? listener : listener.handleEvent;\n    // compatible with G 3.0\n    if (useDelegatedName) {\n      var originListener = listener;\n      listener = function listener() {\n        var _args$0$target;\n        for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n        if (((_args$0$target = args[0].target) === null || _args$0$target === void 0 ? void 0 : _args$0$target.name) !== delegatedName) {\n          return;\n        }\n        // @ts-ignore\n        originListener.apply(void 0, args);\n      };\n    }\n    if (once) {\n      this.emitter.once(type, listener, context);\n    } else {\n      this.emitter.on(type, listener, context);\n    }\n    return this;\n  }\n  /**\r\n   * @deprecated\r\n   * @alias removeEventListener\r\n   */;\n  _proto.off = function off(type, listener, options) {\n    if (type) {\n      this.removeEventListener(type, listener, options);\n    } else {\n      // remove all listeners\n      this.removeAllEventListeners();\n    }\n    return this;\n  };\n  _proto.removeAllEventListeners = function removeAllEventListeners() {\n    this.emitter.removeAllListeners();\n  };\n  _proto.removeEventListener = function removeEventListener(type, listener, options) {\n    var _listener;\n    var capture = isBoolean(options) && options || isObject(options) && options.capture;\n    var context = isFunction(listener) ? undefined : listener;\n    type = capture ? type + \"capture\" : type;\n    listener = isFunction(listener) ? listener : (_listener = listener) === null || _listener === void 0 ? void 0 : _listener.handleEvent;\n    this.emitter.off(type, listener, context);\n    return this;\n  }\n  /**\r\n   * @deprecated\r\n   * @alias dispatchEvent\r\n   */\n  // eslint-disable-next-line @typescript-eslint/ban-types\n  ;\n  _proto.emit = function emit(eventName, object) {\n    this.dispatchEvent(new CustomEvent(eventName, object));\n  }\n  /**\r\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/dispatchEvent\r\n   */;\n  _proto.dispatchEvent = function dispatchEvent(e, skipPropagate) {\n    if (skipPropagate === void 0) {\n      skipPropagate = false;\n    }\n    if (!isFederatedEvent(e)) {\n      throw new Error('DisplayObject cannot propagate events outside of the Federated Events API');\n    }\n    // should account for Element / Document / Canvas\n    var canvas;\n    // @ts-ignore\n    if (this.document) {\n      canvas = this;\n      // @ts-ignore\n    } else if (this.defaultView) {\n      canvas = this.defaultView;\n    } else {\n      var _this$ownerDocument;\n      canvas = (_this$ownerDocument = this.ownerDocument) === null || _this$ownerDocument === void 0 ? void 0 : _this$ownerDocument.defaultView;\n    }\n    // assign event manager\n    if (canvas) {\n      var _e$manager;\n      e.manager = canvas.getEventService() || null;\n      if (!e.manager) {\n        return false;\n      }\n      e.defaultPrevented = false;\n      e.path = [];\n      if (!skipPropagate) {\n        e.target = this;\n      }\n      (_e$manager = e.manager) === null || _e$manager === void 0 ? void 0 : _e$manager.dispatchEvent(e, e.type, skipPropagate);\n    }\n    return !e.defaultPrevented;\n  };\n  return EventTarget;\n}();\n\n/**\r\n * @see https://developer.mozilla.org/en-US/docs/Web/API/Node\r\n */\nvar Node = /*#__PURE__*/function (_EventTarget) {\n  _inheritsLoose(Node, _EventTarget);\n  function Node() {\n    var _this;\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _EventTarget.call.apply(_EventTarget, [this].concat(args)) || this;\n    _this.shadow = false;\n    _this.ownerDocument = null;\n    _this.isConnected = false;\n    _this.baseURI = '';\n    _this.childNodes = [];\n    _this.nodeType = 0;\n    _this.nodeName = '';\n    _this.nodeValue = null;\n    _this.parentNode = null;\n    return _this;\n  }\n  Node.isNode = function isNode(target) {\n    return !!target.childNodes;\n  };\n  var _proto = Node.prototype;\n  /**\r\n   * @see https://developer.mozilla.org/zh-CN/docs/Web/API/Node/getRootNode\r\n   */\n  _proto.getRootNode = function getRootNode(opts) {\n    if (opts === void 0) {\n      opts = {};\n    }\n    if (this.parentNode) {\n      return this.parentNode.getRootNode(opts);\n    }\n    if (opts.composed && this.host) {\n      return this.host.getRootNode(opts);\n    }\n    return this;\n  };\n  _proto.hasChildNodes = function hasChildNodes() {\n    return this.childNodes.length > 0;\n  };\n  _proto.isDefaultNamespace = function isDefaultNamespace(namespace) {\n    throw new Error(ERROR_MSG_METHOD_NOT_IMPLEMENTED);\n  };\n  _proto.lookupNamespaceURI = function lookupNamespaceURI(prefix) {\n    throw new Error(ERROR_MSG_METHOD_NOT_IMPLEMENTED);\n  };\n  _proto.lookupPrefix = function lookupPrefix(namespace) {\n    throw new Error(ERROR_MSG_METHOD_NOT_IMPLEMENTED);\n  };\n  _proto.normalize = function normalize() {\n    throw new Error(ERROR_MSG_METHOD_NOT_IMPLEMENTED);\n  }\n  /**\r\n   * @see https://developer.mozilla.org/zh-CN/docs/Web/API/Node/isEqualNode\r\n   */;\n  _proto.isEqualNode = function isEqualNode(otherNode) {\n    // TODO: compare 2 nodes, not sameness\n    return this === otherNode;\n  };\n  _proto.isSameNode = function isSameNode(otherNode) {\n    return this.isEqualNode(otherNode);\n  }\n  /**\r\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/ParentNode\r\n   */;\n  /**\r\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Node/compareDocumentPosition\r\n   * @see https://github.com/b-fuze/deno-dom/blob/master/src/dom/node.ts#L338\r\n   */\n  _proto.compareDocumentPosition = function compareDocumentPosition(other) {\n    if (other === this) {\n      // same node\n      return 0;\n    }\n    if (!(other instanceof Node)) {\n      throw new TypeError('Node.compareDocumentPosition: Argument 1 does not implement interface Node.');\n    }\n    var node1Root = other;\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    var node2Root = this;\n    var node1Hierarchy = [node1Root];\n    var node2Hierarchy = [node2Root];\n    while ((_node1Root$parentNode = node1Root.parentNode) !== null && _node1Root$parentNode !== void 0 ? _node1Root$parentNode : node2Root.parentNode) {\n      var _node1Root$parentNode;\n      node1Root = node1Root.parentNode ? (node1Hierarchy.push(node1Root.parentNode), node1Root.parentNode) : node1Root;\n      node2Root = node2Root.parentNode ? (node2Hierarchy.push(node2Root.parentNode), node2Root.parentNode) : node2Root;\n    }\n    // Check if they don't share the same root node\n    if (node1Root !== node2Root) {\n      return Node.DOCUMENT_POSITION_DISCONNECTED | Node.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC | Node.DOCUMENT_POSITION_PRECEDING;\n    }\n    var longerHierarchy = node1Hierarchy.length > node2Hierarchy.length ? node1Hierarchy : node2Hierarchy;\n    var shorterHierarchy = longerHierarchy === node1Hierarchy ? node2Hierarchy : node1Hierarchy;\n    // Check if either is a container of the other\n    if (longerHierarchy[longerHierarchy.length - shorterHierarchy.length] === shorterHierarchy[0]) {\n      return longerHierarchy === node1Hierarchy ?\n      // other is a child of this\n      Node.DOCUMENT_POSITION_CONTAINED_BY | Node.DOCUMENT_POSITION_FOLLOWING :\n      // this is a child of other\n      Node.DOCUMENT_POSITION_CONTAINS | Node.DOCUMENT_POSITION_PRECEDING;\n    }\n    // Find their first common ancestor and see whether they\n    // are preceding or following\n    var longerStart = longerHierarchy.length - shorterHierarchy.length;\n    for (var i = shorterHierarchy.length - 1; i >= 0; i--) {\n      var shorterHierarchyNode = shorterHierarchy[i];\n      var longerHierarchyNode = longerHierarchy[longerStart + i];\n      // We found the first common ancestor\n      if (longerHierarchyNode !== shorterHierarchyNode) {\n        var siblings = shorterHierarchyNode.parentNode.childNodes;\n        if (siblings.indexOf(shorterHierarchyNode) < siblings.indexOf(longerHierarchyNode)) {\n          // Shorter is before longer\n          if (shorterHierarchy === node1Hierarchy) {\n            // Other is before this\n            return Node.DOCUMENT_POSITION_PRECEDING;\n          } else {\n            // This is before other\n            return Node.DOCUMENT_POSITION_FOLLOWING;\n          }\n        } else {\n          // Longer is before shorter\n          if (longerHierarchy === node1Hierarchy) {\n            // Other is before this\n            return Node.DOCUMENT_POSITION_PRECEDING;\n          } else {\n            // Other is after this\n            return Node.DOCUMENT_POSITION_FOLLOWING;\n          }\n        }\n      }\n    }\n    return Node.DOCUMENT_POSITION_FOLLOWING;\n  }\n  /**\r\n   * @deprecated\r\n   * @alias contains\r\n   */;\n  _proto.contain = function contain(other) {\n    return this.contains(other);\n  };\n  _proto.contains = function contains(other) {\n    // the node itself, one of its direct children\n    var tmp = other;\n    // @see https://developer.mozilla.org/en-US/docs/Web/API/Node/contains\n    while (tmp && this !== tmp) {\n      tmp = tmp.parentNode;\n    }\n    return !!tmp;\n  };\n  _proto.getAncestor = function getAncestor(n) {\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    var temp = this;\n    while (n > 0 && temp) {\n      temp = temp.parentNode;\n      n--;\n    }\n    return temp;\n  };\n  _proto.forEach = function forEach(callback, assigned) {\n    if (assigned === void 0) {\n      assigned = false;\n    }\n    if (!callback(this)) {\n      (assigned ? this.childNodes.slice() : this.childNodes).forEach(function (child) {\n        child.forEach(callback);\n      });\n    }\n  };\n  _createClass(Node, [{\n    key: \"textContent\",\n    get:\n    /**\r\n     * @see https://developer.mozilla.org/zh-CN/docs/Web/API/Node/textContent\r\n     */\n    function get() {\n      var out = '';\n      if (this.nodeName === Shape.TEXT) {\n        // @ts-ignore\n        out += this.style.text;\n      }\n      for (var _iterator = _createForOfIteratorHelperLoose(this.childNodes), _step; !(_step = _iterator()).done;) {\n        var child = _step.value;\n        if (child.nodeName === Shape.TEXT) {\n          out += child.nodeValue;\n        } else {\n          out += child.textContent;\n        }\n      }\n      return out;\n    },\n    set: function set(content) {\n      var _this2 = this;\n      // remove all children\n      this.childNodes.slice().forEach(function (child) {\n        _this2.removeChild(child);\n      });\n      if (this.nodeName === Shape.TEXT) {\n        // @ts-ignore\n        this.style.text = \"\" + content;\n      }\n    }\n  }, {\n    key: \"parent\",\n    get:\n    /**\r\n     * @deprecated\r\n     * @alias parentNode\r\n     */\n    function get() {\n      return this.parentNode;\n    }\n  }, {\n    key: \"parentElement\",\n    get: function get() {\n      return null;\n    }\n  }, {\n    key: \"nextSibling\",\n    get: function get() {\n      return null;\n    }\n  }, {\n    key: \"previousSibling\",\n    get: function get() {\n      return null;\n    }\n  }, {\n    key: \"firstChild\",\n    get: function get() {\n      return this.childNodes.length > 0 ? this.childNodes[0] : null;\n    }\n  }, {\n    key: \"lastChild\",\n    get: function get() {\n      return this.childNodes.length > 0 ? this.childNodes[this.childNodes.length - 1] : null;\n    }\n  }]);\n  return Node;\n}(EventTarget);\nNode.DOCUMENT_POSITION_DISCONNECTED = 1;\nNode.DOCUMENT_POSITION_PRECEDING = 2;\nNode.DOCUMENT_POSITION_FOLLOWING = 4;\nNode.DOCUMENT_POSITION_CONTAINS = 8;\nNode.DOCUMENT_POSITION_CONTAINED_BY = 16;\nNode.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC = 32;\n\n/**\r\n * the entry of DOM tree\r\n * Document -> Node -> EventTarget\r\n * @see https://developer.mozilla.org/en-US/docs/Web/API/Document\r\n */\nvar Document = /*#__PURE__*/function (_Node) {\n  _inheritsLoose(Document, _Node);\n  function Document() {\n    var _this;\n    _this = _Node.call(this) || this;\n    _this.defaultView = null;\n    _this.documentElement = void 0;\n    _this.timeline = void 0;\n    _this.ownerDocument = null;\n    _this.nodeName = 'document';\n    // create timeline\n    try {\n      _this.timeline = new runtime.AnimationTimeline(_assertThisInitialized(_this));\n    } catch (e) {}\n    /**\r\n     * for inherited properties, the initial value is used on the root element only,\r\n     * as long as no specified value is supplied.\r\n     * @see https://developer.mozilla.org/en-US/docs/Web/CSS/initial_value\r\n     */\n    var initialStyle = {};\n    BUILT_IN_PROPERTIES.forEach(function (_ref) {\n      var n = _ref.n,\n        inh = _ref.inh,\n        d = _ref.d;\n      if (inh && d) {\n        initialStyle[n] = isFunction(d) ? d(Shape.GROUP) : d;\n      }\n    });\n    // like <html> in DOM tree\n    _this.documentElement = new Group({\n      id: 'g-root',\n      style: initialStyle\n    });\n    _this.documentElement.ownerDocument = _assertThisInitialized(_this);\n    _this.documentElement.parentNode = _assertThisInitialized(_this);\n    _this.childNodes = [_this.documentElement];\n    return _this;\n  }\n  var _proto = Document.prototype;\n  /**\r\n   * @example const circle = document.createElement('circle', { style: { r: 10 } });\r\n   */\n  _proto.createElement = function createElement(tagName, options) {\n    // @observablehq/plot will create <svg>\n    if (tagName === 'svg') {\n      return this.documentElement;\n    }\n    // d3 will use <tspan>\n    var clazz = this.defaultView.customElements.get(tagName);\n    if (!clazz) {\n      console.warn('Unsupported tagName: ', tagName);\n      clazz = tagName === 'tspan' ? Text : Group;\n    }\n    var shape = new clazz(options);\n    shape.ownerDocument = this;\n    return shape;\n  };\n  _proto.createElementNS = function createElementNS(namespaceURI, tagName, options) {\n    return this.createElement(tagName, options);\n  };\n  _proto.cloneNode = function cloneNode(deep) {\n    throw new Error(ERROR_MSG_METHOD_NOT_IMPLEMENTED);\n  };\n  _proto.destroy = function destroy() {\n    try {\n      this.documentElement.destroyChildren();\n      this.timeline.destroy();\n    } catch (e) {}\n  }\n  /**\r\n   * Picking 2D graphics with RBush based on BBox, fast but inaccurate.\r\n   */;\n  _proto.elementsFromBBox = function elementsFromBBox(minX, minY, maxX, maxY) {\n    var rBush = this.defaultView.context.rBushRoot;\n    var rBushNodes = rBush.search({\n      minX: minX,\n      minY: minY,\n      maxX: maxX,\n      maxY: maxY\n    });\n    var hitTestList = [];\n    rBushNodes.forEach(function (_ref2) {\n      var id = _ref2.id;\n      var displayObject = runtime.displayObjectPool.getByEntity(id);\n      var pointerEvents = displayObject.parsedStyle.pointerEvents;\n      // account for `visibility`\n      // @see https://developer.mozilla.org/en-US/docs/Web/CSS/pointer-events\n      var isVisibilityAffected = ['auto', 'visiblepainted', 'visiblefill', 'visiblestroke', 'visible'].includes(pointerEvents);\n      if ((!isVisibilityAffected || isVisibilityAffected && displayObject.isVisible()) && !displayObject.isCulled() && displayObject.isInteractive()) {\n        hitTestList.push(displayObject);\n      }\n    });\n    // find group with max z-index\n    hitTestList.sort(function (a, b) {\n      return b.sortable.renderOrder - a.sortable.renderOrder;\n    });\n    return hitTestList;\n  };\n  _proto.elementFromPointSync = function elementFromPointSync(x, y) {\n    var _this$defaultView$can = this.defaultView.canvas2Viewport({\n        x: x,\n        y: y\n      }),\n      viewportX = _this$defaultView$can.x,\n      viewportY = _this$defaultView$can.y;\n    var _this$defaultView$get = this.defaultView.getConfig(),\n      width = _this$defaultView$get.width,\n      height = _this$defaultView$get.height;\n    // outside canvas' viewport\n    if (viewportX < 0 || viewportY < 0 || viewportX > width || viewportY > height) {\n      return null;\n    }\n    var _this$defaultView$vie = this.defaultView.viewport2Client({\n        x: viewportX,\n        y: viewportY\n      }),\n      clientX = _this$defaultView$vie.x,\n      clientY = _this$defaultView$vie.y;\n    var _this$defaultView$get2 = this.defaultView.getRenderingService().hooks.pickSync.call({\n        topmost: true,\n        position: {\n          x: x,\n          y: y,\n          viewportX: viewportX,\n          viewportY: viewportY,\n          clientX: clientX,\n          clientY: clientY\n        },\n        picked: []\n      }),\n      picked = _this$defaultView$get2.picked;\n    return picked && picked[0] || this.documentElement;\n  }\n  /**\r\n   * Do picking with API instead of triggering interactive events.\r\n   *\r\n   * @see https://developer.mozilla.org/zh-CN/docs/Web/API/Document/elementFromPoint\r\n   */;\n  _proto.elementFromPoint =\n  /*#__PURE__*/\n  function () {\n    var _elementFromPoint = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(x, y) {\n      var _this$defaultView$can2, viewportX, viewportY, _this$defaultView$get3, width, height, _this$defaultView$vie2, clientX, clientY, _yield$this$defaultVi, picked;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this$defaultView$can2 = this.defaultView.canvas2Viewport({\n                x: x,\n                y: y\n              }), viewportX = _this$defaultView$can2.x, viewportY = _this$defaultView$can2.y;\n              _this$defaultView$get3 = this.defaultView.getConfig(), width = _this$defaultView$get3.width, height = _this$defaultView$get3.height; // outside canvas' viewport\n              if (!(viewportX < 0 || viewportY < 0 || viewportX > width || viewportY > height)) {\n                _context.next = 4;\n                break;\n              }\n              return _context.abrupt(\"return\", null);\n            case 4:\n              _this$defaultView$vie2 = this.defaultView.viewport2Client({\n                x: viewportX,\n                y: viewportY\n              }), clientX = _this$defaultView$vie2.x, clientY = _this$defaultView$vie2.y;\n              _context.next = 7;\n              return this.defaultView.getRenderingService().hooks.pick.promise({\n                topmost: true,\n                position: {\n                  x: x,\n                  y: y,\n                  viewportX: viewportX,\n                  viewportY: viewportY,\n                  clientX: clientX,\n                  clientY: clientY\n                },\n                picked: []\n              });\n            case 7:\n              _yield$this$defaultVi = _context.sent;\n              picked = _yield$this$defaultVi.picked;\n              return _context.abrupt(\"return\", picked && picked[0] || this.documentElement);\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n    function elementFromPoint(_x, _x2) {\n      return _elementFromPoint.apply(this, arguments);\n    }\n    return elementFromPoint;\n  }();\n  _proto.elementsFromPointSync = function elementsFromPointSync(x, y) {\n    var _this$defaultView$can3 = this.defaultView.canvas2Viewport({\n        x: x,\n        y: y\n      }),\n      viewportX = _this$defaultView$can3.x,\n      viewportY = _this$defaultView$can3.y;\n    var _this$defaultView$get4 = this.defaultView.getConfig(),\n      width = _this$defaultView$get4.width,\n      height = _this$defaultView$get4.height;\n    // outside canvas' viewport\n    if (viewportX < 0 || viewportY < 0 || viewportX > width || viewportY > height) {\n      return [];\n    }\n    var _this$defaultView$vie3 = this.defaultView.viewport2Client({\n        x: viewportX,\n        y: viewportY\n      }),\n      clientX = _this$defaultView$vie3.x,\n      clientY = _this$defaultView$vie3.y;\n    var _this$defaultView$get5 = this.defaultView.getRenderingService().hooks.pickSync.call({\n        topmost: false,\n        position: {\n          x: x,\n          y: y,\n          viewportX: viewportX,\n          viewportY: viewportY,\n          clientX: clientX,\n          clientY: clientY\n        },\n        picked: []\n      }),\n      picked = _this$defaultView$get5.picked;\n    if (picked[picked.length - 1] !== this.documentElement) {\n      picked.push(this.documentElement);\n    }\n    return picked;\n  }\n  /**\r\n   * Do picking with API instead of triggering interactive events.\r\n   *\r\n   * @see https://developer.mozilla.org/zh-CN/docs/Web/API/Document/elementsFromPoint\r\n   */;\n  _proto.elementsFromPoint =\n  /*#__PURE__*/\n  function () {\n    var _elementsFromPoint = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(x, y) {\n      var _this$defaultView$can4, viewportX, viewportY, _this$defaultView$get6, width, height, _this$defaultView$vie4, clientX, clientY, _yield$this$defaultVi2, picked;\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _this$defaultView$can4 = this.defaultView.canvas2Viewport({\n                x: x,\n                y: y\n              }), viewportX = _this$defaultView$can4.x, viewportY = _this$defaultView$can4.y;\n              _this$defaultView$get6 = this.defaultView.getConfig(), width = _this$defaultView$get6.width, height = _this$defaultView$get6.height; // outside canvas' viewport\n              if (!(viewportX < 0 || viewportY < 0 || viewportX > width || viewportY > height)) {\n                _context2.next = 4;\n                break;\n              }\n              return _context2.abrupt(\"return\", []);\n            case 4:\n              _this$defaultView$vie4 = this.defaultView.viewport2Client({\n                x: viewportX,\n                y: viewportY\n              }), clientX = _this$defaultView$vie4.x, clientY = _this$defaultView$vie4.y;\n              _context2.next = 7;\n              return this.defaultView.getRenderingService().hooks.pick.promise({\n                topmost: false,\n                position: {\n                  x: x,\n                  y: y,\n                  viewportX: viewportX,\n                  viewportY: viewportY,\n                  clientX: clientX,\n                  clientY: clientY\n                },\n                picked: []\n              });\n            case 7:\n              _yield$this$defaultVi2 = _context2.sent;\n              picked = _yield$this$defaultVi2.picked;\n              if (picked[picked.length - 1] !== this.documentElement) {\n                picked.push(this.documentElement);\n              }\n              return _context2.abrupt(\"return\", picked);\n            case 11:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n    function elementsFromPoint(_x3, _x4) {\n      return _elementsFromPoint.apply(this, arguments);\n    }\n    return elementsFromPoint;\n  }()\n  /**\r\n   * eg. Uncaught DOMException: Failed to execute 'appendChild' on 'Node': Only one element on document allowed.\r\n   */\n  ;\n  _proto.appendChild = function appendChild(newChild, index) {\n    throw new Error(ERROR_MSG_USE_DOCUMENT_ELEMENT);\n  };\n  _proto.insertBefore = function insertBefore(newChild, refChild) {\n    throw new Error(ERROR_MSG_USE_DOCUMENT_ELEMENT);\n  };\n  _proto.removeChild = function removeChild(oldChild, destroy) {\n    throw new Error(ERROR_MSG_USE_DOCUMENT_ELEMENT);\n  };\n  _proto.replaceChild = function replaceChild(newChild, oldChild, destroy) {\n    throw new Error(ERROR_MSG_USE_DOCUMENT_ELEMENT);\n  };\n  _proto.append = function append() {\n    throw new Error(ERROR_MSG_USE_DOCUMENT_ELEMENT);\n  };\n  _proto.prepend = function prepend() {\n    throw new Error(ERROR_MSG_USE_DOCUMENT_ELEMENT);\n  }\n  /**\r\n   * Execute query on documentElement.\r\n   */;\n  _proto.getElementById = function getElementById(id) {\n    return this.documentElement.getElementById(id);\n  };\n  _proto.getElementsByName = function getElementsByName(name) {\n    return this.documentElement.getElementsByName(name);\n  };\n  _proto.getElementsByTagName = function getElementsByTagName(tagName) {\n    return this.documentElement.getElementsByTagName(tagName);\n  };\n  _proto.getElementsByClassName = function getElementsByClassName(className) {\n    return this.documentElement.getElementsByClassName(className);\n  };\n  _proto.querySelector = function querySelector(selectors) {\n    return this.documentElement.querySelector(selectors);\n  };\n  _proto.querySelectorAll = function querySelectorAll(selectors) {\n    return this.documentElement.querySelectorAll(selectors);\n  };\n  _proto.find = function find(filter) {\n    return this.documentElement.find(filter);\n  };\n  _proto.findAll = function findAll(filter) {\n    return this.documentElement.findAll(filter);\n  };\n  _createClass(Document, [{\n    key: \"children\",\n    get: function get() {\n      return this.childNodes;\n    }\n  }, {\n    key: \"childElementCount\",\n    get: function get() {\n      return this.childNodes.length;\n    }\n  }, {\n    key: \"firstElementChild\",\n    get: function get() {\n      return this.firstChild;\n    }\n  }, {\n    key: \"lastElementChild\",\n    get: function get() {\n      return this.lastChild;\n    }\n    /**\r\n     * only document has defaultView, points to canvas,\r\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/Document/defaultView\r\n     */\n  }]);\n  return Document;\n}(Node);\n\n/**\r\n * @see https://doc.babylonjs.com/how_to/optimizing_your_scene#changing-mesh-culling-strategy\r\n */\nvar Strategy;\n(function (Strategy) {\n  Strategy[Strategy[\"Standard\"] = 0] = \"Standard\";\n})(Strategy || (Strategy = {}));\n\n/**\r\n * built-in events for element\r\n * @see https://developer.mozilla.org/en-US/docs/Web/API/MutationEvent\r\n *\r\n * TODO: use MutationObserver instead\r\n * @see https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver\r\n */\nvar ElementEvent;\n(function (ElementEvent) {\n  ElementEvent[\"REPARENT\"] = \"reparent\";\n  ElementEvent[\"DESTROY\"] = \"destroy\";\n  /**\r\n   * @see https://www.w3.org/TR/DOM-Level-3-Events/#event-type-DOMAttrModified\r\n   */\n  ElementEvent[\"ATTR_MODIFIED\"] = \"DOMAttrModified\";\n  /**\r\n   * it has been inserted\r\n   * @see https://www.w3.org/TR/DOM-Level-3-Events/#event-type-DOMNodeInserted\r\n   */\n  ElementEvent[\"INSERTED\"] = \"DOMNodeInserted\";\n  /**\r\n   * it is being removed\r\n   * @see https://www.w3.org/TR/DOM-Level-3-Events/#event-type-DOMNodeRemoved\r\n   */\n  ElementEvent[\"REMOVED\"] = \"removed\";\n  /**\r\n   * @see https://www.w3.org/TR/DOM-Level-3-Events/#domnodeinsertedintodocument\r\n   */\n  ElementEvent[\"MOUNTED\"] = \"DOMNodeInsertedIntoDocument\";\n  /**\r\n   * @see https://www.w3.org/TR/DOM-Level-3-Events/#domnoderemovedfromdocument\r\n   */\n  ElementEvent[\"UNMOUNTED\"] = \"DOMNodeRemovedFromDocument\";\n  ElementEvent[\"BOUNDS_CHANGED\"] = \"bounds-changed\";\n  // GEOMETRY_BOUNDS_CHANGED = 'geometry-bounds-changed',\n  /**\r\n   * trigger when z-index changed\r\n   */\n  ElementEvent[\"RENDER_ORDER_CHANGED\"] = \"render-order-changed\";\n  ElementEvent[\"CULLED\"] = \"culled\";\n})(ElementEvent || (ElementEvent = {}));\n\nvar MutationEvent = /*#__PURE__*/function (_FederatedEvent) {\n  _inheritsLoose(MutationEvent, _FederatedEvent);\n  function MutationEvent(typeArg, relatedNode, prevValue, newValue, attrName, attrChange, prevParsedValue, newParsedValue) {\n    var _this;\n    _this = _FederatedEvent.call(this, null) || this;\n    _this.relatedNode = void 0;\n    _this.prevValue = void 0;\n    _this.newValue = void 0;\n    _this.attrName = void 0;\n    _this.attrChange = void 0;\n    _this.prevParsedValue = void 0;\n    _this.newParsedValue = void 0;\n    _this.relatedNode = relatedNode;\n    _this.prevValue = prevValue;\n    _this.newValue = newValue;\n    _this.attrName = attrName;\n    _this.attrChange = attrChange;\n    _this.prevParsedValue = prevParsedValue;\n    _this.newParsedValue = newParsedValue;\n    _this.type = typeArg;\n    return _this;\n  }\n  return MutationEvent;\n}(FederatedEvent);\nMutationEvent.ADDITION = 2;\nMutationEvent.MODIFICATION = 1;\nMutationEvent.REMOVAL = 3;\n\nvar entityCounter = 0;\nfunction resetEntityCounter() {\n  entityCounter = 0;\n}\nvar insertedEvent = new MutationEvent(ElementEvent.INSERTED, null, '', '', '', 0, '', '');\nvar removedEvent = new MutationEvent(ElementEvent.REMOVED, null, '', '', '', 0, '', '');\nvar destroyEvent = new CustomEvent(ElementEvent.DESTROY);\n/**\r\n * Has following capabilities:\r\n * * Node insert/remove, eg. appendChild, removeChild, remove...\r\n * * Query eg. querySelector getElementById...\r\n * * Animation\r\n */\nvar Element = /*#__PURE__*/function (_Node) {\n  _inheritsLoose(Element, _Node);\n  function Element() {\n    var _this;\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _Node.call.apply(_Node, [this].concat(args)) || this;\n    _this.entity = entityCounter++;\n    _this.renderable = {\n      bounds: undefined,\n      boundsDirty: true,\n      renderBounds: undefined,\n      renderBoundsDirty: true,\n      dirtyRenderBounds: undefined,\n      dirty: false,\n      proxyNodeName: undefined\n    };\n    _this.cullable = {\n      strategy: Strategy.Standard,\n      visibilityPlaneMask: -1,\n      visible: true,\n      enable: true\n    };\n    _this.transformable = {\n      dirtyFlag: false,\n      localDirtyFlag: false,\n      frozen: false,\n      // localPosition: vec3.fromValues(0, 0, 0),\n      // localRotation: quat.fromValues(0, 0, 0, 1),\n      // localScale: vec3.fromValues(1, 1, 1),\n      // localTransform: mat4.create(),\n      // localSkew: vec2.fromValues(0, 0),\n      // position: vec3.fromValues(0, 0, 0),\n      // rotation: quat.fromValues(0, 0, 0, 1),\n      // scaling: vec3.fromValues(1, 1, 1),\n      // worldTransform: mat4.create(),\n      // origin: vec3.fromValues(0, 0, 0),\n      localPosition: [0, 0, 0],\n      localRotation: [0, 0, 0, 1],\n      localScale: [1, 1, 1],\n      localTransform: mat4.create(),\n      localSkew: [0, 0],\n      position: [0, 0, 0],\n      rotation: [0, 0, 0, 1],\n      scaling: [1, 1, 1],\n      worldTransform: mat4.create(),\n      origin: [0, 0, 0]\n    };\n    _this.sortable = {\n      dirty: false,\n      sorted: undefined,\n      lastSortedIndex: undefined,\n      renderOrder: 0\n    };\n    _this.geometry = {\n      contentBounds: undefined,\n      renderBounds: undefined\n    };\n    _this.rBushNode = {\n      aabb: undefined\n    };\n    _this.id = void 0;\n    _this.name = void 0;\n    _this.namespaceURI = 'g';\n    _this.scrollLeft = 0;\n    _this.scrollTop = 0;\n    _this.clientTop = 0;\n    _this.clientLeft = 0;\n    _this.destroyed = false;\n    _this.style = {};\n    _this.computedStyle = runtime.enableCSSParsing ? {\n      anchor: unsetKeywordValue,\n      opacity: unsetKeywordValue,\n      fillOpacity: unsetKeywordValue,\n      strokeOpacity: unsetKeywordValue,\n      fill: unsetKeywordValue,\n      stroke: unsetKeywordValue,\n      transform: unsetKeywordValue,\n      transformOrigin: unsetKeywordValue,\n      visibility: unsetKeywordValue,\n      pointerEvents: unsetKeywordValue,\n      lineWidth: unsetKeywordValue,\n      lineCap: unsetKeywordValue,\n      lineJoin: unsetKeywordValue,\n      increasedLineWidthForHitTesting: unsetKeywordValue,\n      fontSize: unsetKeywordValue,\n      fontFamily: unsetKeywordValue,\n      fontStyle: unsetKeywordValue,\n      fontWeight: unsetKeywordValue,\n      fontVariant: unsetKeywordValue,\n      textAlign: unsetKeywordValue,\n      textBaseline: unsetKeywordValue,\n      textTransform: unsetKeywordValue,\n      zIndex: unsetKeywordValue,\n      filter: unsetKeywordValue,\n      shadowType: unsetKeywordValue\n    } : null;\n    _this.parsedStyle = {\n      // opacity: '',\n      // fillOpacity: '',\n      // strokeOpacity: '',\n      // transformOrigin: '',\n      // visibility: '',\n      // pointerEvents: '',\n      // lineWidth: '',\n      // lineCap: '',\n      // lineJoin: '',\n      // increasedLineWidthForHitTesting: '',\n      // fontSize: '',\n      // fontFamily: '',\n      // fontStyle: '',\n      // fontWeight: '',\n      // fontVariant: '',\n      // textAlign: '',\n      // textBaseline: '',\n      // textTransform: '',\n    };\n    _this.attributes = {};\n    return _this;\n  }\n  Element.isElement = function isElement(target) {\n    return !!target.getAttribute;\n  }\n  /**\r\n   * Unique id.\r\n   */;\n  var _proto = Element.prototype;\n  _proto.cloneNode = function cloneNode(deep) {\n    throw new Error(ERROR_MSG_METHOD_NOT_IMPLEMENTED);\n  };\n  _proto.appendChild = function appendChild(child, index) {\n    var _this$ownerDocument;\n    if (child.destroyed) {\n      throw new Error(ERROR_MSG_APPEND_DESTROYED_ELEMENT);\n    }\n    runtime.sceneGraphService.attach(child, this, index);\n    if ((_this$ownerDocument = this.ownerDocument) === null || _this$ownerDocument === void 0 ? void 0 : _this$ownerDocument.defaultView) {\n      this.ownerDocument.defaultView.mountChildren(child);\n    }\n    insertedEvent.relatedNode = this;\n    child.dispatchEvent(insertedEvent);\n    return child;\n  };\n  _proto.insertBefore = function insertBefore(newChild, refChild) {\n    if (!refChild) {\n      this.appendChild(newChild);\n    } else {\n      var index = this.childNodes.indexOf(refChild);\n      this.appendChild(newChild, index - 1);\n    }\n    return newChild;\n  };\n  _proto.replaceChild = function replaceChild(newChild, oldChild) {\n    var index = this.childNodes.indexOf(oldChild);\n    this.removeChild(oldChild);\n    this.appendChild(newChild, index);\n    return oldChild;\n  };\n  _proto.removeChild = function removeChild(child) {\n    var _child$ownerDocument;\n    // should emit on itself before detach\n    removedEvent.relatedNode = this;\n    child.dispatchEvent(removedEvent);\n    if ((_child$ownerDocument = child.ownerDocument) === null || _child$ownerDocument === void 0 ? void 0 : _child$ownerDocument.defaultView) {\n      child.ownerDocument.defaultView.unmountChildren(child);\n    }\n    // remove from scene graph\n    runtime.sceneGraphService.detach(child);\n    return child;\n  }\n  /**\r\n   * Remove all children which can be appended to its original parent later again.\r\n   */;\n  _proto.removeChildren = function removeChildren() {\n    for (var i = this.childNodes.length - 1; i >= 0; i--) {\n      var child = this.childNodes[i];\n      this.removeChild(child);\n    }\n  }\n  /**\r\n   * Recursively destroy all children which can not be appended to its original parent later again.\r\n   */;\n  _proto.destroyChildren = function destroyChildren() {\n    for (var i = this.childNodes.length - 1; i >= 0; i--) {\n      var child = this.childNodes[i];\n      if (child.childNodes.length) {\n        child.destroyChildren();\n      }\n      child.destroy();\n    }\n  }\n  /**\r\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Element/matches\r\n   */;\n  _proto.matches = function matches(selector) {\n    return runtime.sceneGraphService.matches(selector, this);\n  };\n  _proto.getElementById = function getElementById(id) {\n    return runtime.sceneGraphService.querySelector(\"#\" + id, this);\n  };\n  _proto.getElementsByName = function getElementsByName(name) {\n    return runtime.sceneGraphService.querySelectorAll(\"[name=\\\"\" + name + \"\\\"]\", this);\n  };\n  _proto.getElementsByClassName = function getElementsByClassName(className) {\n    return runtime.sceneGraphService.querySelectorAll(\".\" + className, this);\n  };\n  _proto.getElementsByTagName = function getElementsByTagName(tagName) {\n    return runtime.sceneGraphService.querySelectorAll(tagName, this);\n  };\n  _proto.querySelector = function querySelector(selectors) {\n    return runtime.sceneGraphService.querySelector(selectors, this);\n  };\n  _proto.querySelectorAll = function querySelectorAll(selectors) {\n    return runtime.sceneGraphService.querySelectorAll(selectors, this);\n  }\n  /**\r\n   * should traverses the element and its parents (heading toward the document root)\r\n   * until it finds a node that matches the specified CSS selector.\r\n   * @see https://developer.mozilla.org/zh-CN/docs/Web/API/Element/closest\r\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Element/closest#polyfill\r\n   */;\n  _proto.closest = function closest(selectors) {\n    var el = this;\n    do {\n      if (runtime.sceneGraphService.matches(selectors, el)) return el;\n      el = el.parentElement;\n    } while (el !== null);\n    return null;\n  }\n  /**\r\n   * search in scene group, but should not include itself\r\n   */;\n  _proto.find = function find(filter) {\n    var _this2 = this;\n    var target = null;\n    this.forEach(function (object) {\n      if (object !== _this2 && filter(object)) {\n        target = object;\n        return true;\n      }\n      return false;\n    });\n    return target;\n  };\n  _proto.findAll = function findAll(filter) {\n    var _this3 = this;\n    var objects = [];\n    this.forEach(function (object) {\n      if (object !== _this3 && filter(object)) {\n        objects.push(object);\n      }\n    });\n    return objects;\n  }\n  /**\r\n   * @see https://developer.mozilla.org/zh-CN/docs/Web/API/Element/after\r\n   */;\n  _proto.after = function after() {\n    var _this4 = this;\n    if (this.parentNode) {\n      var index = this.parentNode.childNodes.indexOf(this);\n      for (var _len2 = arguments.length, nodes = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        nodes[_key2] = arguments[_key2];\n      }\n      nodes.forEach(function (node, i) {\n        var _this4$parentNode;\n        return (_this4$parentNode = _this4.parentNode) === null || _this4$parentNode === void 0 ? void 0 : _this4$parentNode.appendChild(node, index + i + 1);\n      });\n    }\n  }\n  /**\r\n   * @see https://developer.mozilla.org/zh-CN/docs/Web/API/Element/before\r\n   */;\n  _proto.before = function before() {\n    if (this.parentNode) {\n      var index = this.parentNode.childNodes.indexOf(this);\n      for (var _len3 = arguments.length, nodes = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        nodes[_key3] = arguments[_key3];\n      }\n      var first = nodes[0],\n        rest = nodes.slice(1);\n      this.parentNode.appendChild(first, index);\n      first.after.apply(first, rest);\n    }\n  }\n  /**\r\n   * @see https://developer.mozilla.org/zh-CN/docs/Web/API/Element/replaceWith\r\n   */;\n  _proto.replaceWith = function replaceWith() {\n    this.after.apply(this, arguments);\n    this.remove();\n  }\n  /**\r\n   * @see https://developer.mozilla.org/zh-CN/docs/Web/API/Element/append\r\n   */;\n  _proto.append = function append() {\n    var _this5 = this;\n    for (var _len4 = arguments.length, nodes = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      nodes[_key4] = arguments[_key4];\n    }\n    nodes.forEach(function (node) {\n      return _this5.appendChild(node);\n    });\n  }\n  /**\r\n   * @see https://developer.mozilla.org/zh-CN/docs/Web/API/Element/prepend\r\n   */;\n  _proto.prepend = function prepend() {\n    var _this6 = this;\n    for (var _len5 = arguments.length, nodes = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n      nodes[_key5] = arguments[_key5];\n    }\n    nodes.forEach(function (node, i) {\n      return _this6.appendChild(node, i);\n    });\n  }\n  /**\r\n   * @see https://developer.mozilla.org/zh-CN/docs/Web/API/Element/replaceChildren\r\n   */;\n  _proto.replaceChildren = function replaceChildren() {\n    while (this.childNodes.length && this.firstChild) {\n      this.removeChild(this.firstChild);\n    }\n    this.append.apply(this, arguments);\n  }\n  /**\r\n   * @see https://developer.mozilla.org/zh-CN/docs/Web/API/Element/remove\r\n   */;\n  _proto.remove = function remove() {\n    if (this.parentNode) {\n      return this.parentNode.removeChild(this);\n    }\n    return this;\n  }\n  /**\r\n   * is destroyed or not\r\n   */;\n  _proto.destroy = function destroy() {\n    // destroy itself before remove\n    this.dispatchEvent(destroyEvent);\n    // remove from scenegraph first\n    this.remove();\n    // remove event listeners\n    this.emitter.removeAllListeners();\n    this.destroyed = true;\n  };\n  _proto.getGeometryBounds = function getGeometryBounds() {\n    return runtime.sceneGraphService.getGeometryBounds(this);\n  };\n  _proto.getRenderBounds = function getRenderBounds() {\n    return runtime.sceneGraphService.getBounds(this, true);\n  }\n  /**\r\n   * get bounds in world space, account for children\r\n   */;\n  _proto.getBounds = function getBounds() {\n    return runtime.sceneGraphService.getBounds(this);\n  }\n  /**\r\n   * get bounds in local space, account for children\r\n   */;\n  _proto.getLocalBounds = function getLocalBounds() {\n    return runtime.sceneGraphService.getLocalBounds(this);\n  }\n  /**\r\n   * account for context's bounds in client space,\r\n   * but not accounting for children\r\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Element/getBoundingClientRect\r\n   */;\n  _proto.getBoundingClientRect = function getBoundingClientRect() {\n    return runtime.sceneGraphService.getBoundingClientRect(this);\n  }\n  /**\r\n   * @see https://developer.mozilla.org/zh-CN/docs/Web/API/Element/getClientRects\r\n   */;\n  _proto.getClientRects = function getClientRects() {\n    return [this.getBoundingClientRect()];\n  }\n  /**\r\n   * compatible with `style`\r\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/style\r\n   */;\n  /**\r\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Element/computedStyleMap\r\n   * eg. circle.computedStyleMap().get('fill');\r\n   */\n  _proto.computedStyleMap = function computedStyleMap() {\n    return new Map(Object.entries(this.computedStyle));\n  }\n  /**\r\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Element/attributes\r\n   */;\n  /**\r\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Element/getAttributeNames\r\n   */\n  _proto.getAttributeNames = function getAttributeNames() {\n    return Object.keys(this.attributes);\n  }\n  /**\r\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Element/getAttribute\r\n   */;\n  _proto.getAttribute = function getAttribute(name) {\n    // @see https://github.com/antvis/G/issues/1267\n    if (isSymbol(name)) {\n      return runtime.enableCSSParsing ? null : undefined;\n    }\n    var value = this.attributes[name];\n    if (value === undefined) {\n      var attributeName = formatAttributeName(name);\n      value = this.attributes[attributeName];\n      // if the given attribute does not exist, the value returned will either be null or \"\"\n      return runtime.enableCSSParsing ? isNil(value) ? null : value : value;\n    } else {\n      return value;\n    }\n  }\n  /**\r\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Element/hasAttribute\r\n   */;\n  _proto.hasAttribute = function hasAttribute(qualifiedName) {\n    return this.getAttributeNames().includes(qualifiedName);\n  }\n  /**\r\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Element/hasAttributes\r\n   */;\n  _proto.hasAttributes = function hasAttributes() {\n    return !!this.getAttributeNames().length;\n  }\n  /**\r\n   * should use removeAttribute() instead of setting the attribute value to null either directly or using setAttribute(). Many attributes will not behave as expected if you set them to null.\r\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Element/removeAttribute\r\n   */;\n  _proto.removeAttribute = function removeAttribute(attributeName) {\n    this.setAttribute(attributeName, null);\n    delete this.attributes[attributeName];\n  }\n  /**\r\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Element/setAttribute\r\n   */;\n  _proto.setAttribute = function setAttribute(attributeName, value, force) {\n    this.attributes[attributeName] = value;\n  };\n  _proto.getAttributeNS = function getAttributeNS(namespace, localName) {\n    throw new Error(ERROR_MSG_METHOD_NOT_IMPLEMENTED);\n  };\n  _proto.getAttributeNode = function getAttributeNode(qualifiedName) {\n    throw new Error(ERROR_MSG_METHOD_NOT_IMPLEMENTED);\n  };\n  _proto.getAttributeNodeNS = function getAttributeNodeNS(namespace, localName) {\n    throw new Error(ERROR_MSG_METHOD_NOT_IMPLEMENTED);\n  };\n  _proto.hasAttributeNS = function hasAttributeNS(namespace, localName) {\n    throw new Error(ERROR_MSG_METHOD_NOT_IMPLEMENTED);\n  };\n  _proto.removeAttributeNS = function removeAttributeNS(namespace, localName) {\n    throw new Error(ERROR_MSG_METHOD_NOT_IMPLEMENTED);\n  };\n  _proto.removeAttributeNode = function removeAttributeNode(attr) {\n    throw new Error(ERROR_MSG_METHOD_NOT_IMPLEMENTED);\n  };\n  _proto.setAttributeNS = function setAttributeNS(namespace, qualifiedName, value) {\n    throw new Error(ERROR_MSG_METHOD_NOT_IMPLEMENTED);\n  };\n  _proto.setAttributeNode = function setAttributeNode(attr) {\n    throw new Error(ERROR_MSG_METHOD_NOT_IMPLEMENTED);\n  };\n  _proto.setAttributeNodeNS = function setAttributeNodeNS(attr) {\n    throw new Error(ERROR_MSG_METHOD_NOT_IMPLEMENTED);\n  };\n  _proto.toggleAttribute = function toggleAttribute(qualifiedName, force) {\n    throw new Error(ERROR_MSG_METHOD_NOT_IMPLEMENTED);\n  };\n  _createClass(Element, [{\n    key: \"className\",\n    get:\n    /**\r\n     * used in `getElementsByClassName`\r\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/Document/getElementsByClassName\r\n     */\n    function get() {\n      // @ts-ignore\n      return this.getAttribute('class') || '';\n    },\n    set: function set(className) {\n      this.setAttribute('class', className);\n    }\n    /**\r\n     * used in `getElementsByName`\r\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/Document/getElementsByName\r\n     */\n  }, {\n    key: \"classList\",\n    get:\n    /**\r\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/Element/classList\r\n     */\n    function get() {\n      return this.className.split(' ').filter(function (c) {\n        return c !== '';\n      });\n    }\n  }, {\n    key: \"tagName\",\n    get: function get() {\n      return this.nodeName;\n    }\n  }, {\n    key: \"children\",\n    get: function get() {\n      return this.childNodes;\n    }\n  }, {\n    key: \"childElementCount\",\n    get: function get() {\n      return this.childNodes.length;\n    }\n  }, {\n    key: \"firstElementChild\",\n    get: function get() {\n      return this.firstChild;\n    }\n  }, {\n    key: \"lastElementChild\",\n    get: function get() {\n      return this.lastChild;\n    }\n  }, {\n    key: \"parentElement\",\n    get: function get() {\n      return this.parentNode;\n    }\n  }, {\n    key: \"nextSibling\",\n    get: function get() {\n      if (this.parentNode) {\n        var index = this.parentNode.childNodes.indexOf(this);\n        return this.parentNode.childNodes[index + 1] || null;\n      }\n      return null;\n    }\n  }, {\n    key: \"previousSibling\",\n    get: function get() {\n      if (this.parentNode) {\n        var index = this.parentNode.childNodes.indexOf(this);\n        return this.parentNode.childNodes[index - 1] || null;\n      }\n      return null;\n    }\n  }]);\n  return Element;\n}(Node);\n\nvar FederatedMouseEvent = /*#__PURE__*/function (_FederatedEvent) {\n  _inheritsLoose(FederatedMouseEvent, _FederatedEvent);\n  function FederatedMouseEvent() {\n    var _this;\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _FederatedEvent.call.apply(_FederatedEvent, [this].concat(args)) || this;\n    _this.altKey = void 0;\n    _this.button = void 0;\n    _this.buttons = void 0;\n    _this.ctrlKey = void 0;\n    _this.metaKey = void 0;\n    _this.relatedTarget = void 0;\n    _this.shiftKey = void 0;\n    _this.client = new Point();\n    _this.movement = new Point();\n    _this.offset = new Point();\n    _this.global = new Point();\n    _this.screen = new Point();\n    return _this;\n  }\n  var _proto = FederatedMouseEvent.prototype;\n  _proto.getModifierState = function getModifierState(key) {\n    return 'getModifierState' in this.nativeEvent && this.nativeEvent.getModifierState(key);\n  };\n  _proto.initMouseEvent = function initMouseEvent() {\n    throw new Error(ERROR_MSG_METHOD_NOT_IMPLEMENTED);\n  };\n  _createClass(FederatedMouseEvent, [{\n    key: \"clientX\",\n    get: function get() {\n      return this.client.x;\n    }\n  }, {\n    key: \"clientY\",\n    get: function get() {\n      return this.client.y;\n    }\n    /**\r\n     * The movement in this pointer relative to the last `mousemove` event.\r\n     */\n  }, {\n    key: \"movementX\",\n    get: function get() {\n      return this.movement.x;\n    }\n  }, {\n    key: \"movementY\",\n    get: function get() {\n      return this.movement.y;\n    }\n    /**\r\n     * The offset of the pointer coordinates w.r.t. target DisplayObject in world space. This is\r\n     * not supported at the moment.\r\n     */\n  }, {\n    key: \"offsetX\",\n    get: function get() {\n      return this.offset.x;\n    }\n  }, {\n    key: \"offsetY\",\n    get: function get() {\n      return this.offset.y;\n    }\n    /**\r\n     * The pointer coordinates in world space.\r\n     */\n  }, {\n    key: \"globalX\",\n    get: function get() {\n      return this.global.x;\n    }\n  }, {\n    key: \"globalY\",\n    get: function get() {\n      return this.global.y;\n    }\n    /**\r\n     * The pointer coordinates in sceen space.\r\n     */\n  }, {\n    key: \"screenX\",\n    get: function get() {\n      return this.screen.x;\n    }\n  }, {\n    key: \"screenY\",\n    get: function get() {\n      return this.screen.y;\n    }\n  }]);\n  return FederatedMouseEvent;\n}(FederatedEvent);\n\nvar FederatedPointerEvent = /*#__PURE__*/function (_FederatedMouseEvent) {\n  _inheritsLoose(FederatedPointerEvent, _FederatedMouseEvent);\n  function FederatedPointerEvent() {\n    var _this;\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _FederatedMouseEvent.call.apply(_FederatedMouseEvent, [this].concat(args)) || this;\n    _this.pointerId = void 0;\n    _this.width = 0;\n    _this.height = 0;\n    _this.isPrimary = false;\n    _this.pointerType = void 0;\n    _this.pressure = void 0;\n    _this.tangentialPressure = void 0;\n    _this.tiltX = void 0;\n    _this.tiltY = void 0;\n    _this.twist = void 0;\n    return _this;\n  }\n  var _proto = FederatedPointerEvent.prototype;\n  /**\r\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/PointerEvent/getCoalescedEvents\r\n   */\n  _proto.getCoalescedEvents = function getCoalescedEvents() {\n    if (this.type === 'pointermove' || this.type === 'mousemove' || this.type === 'touchmove') {\n      return [this];\n    }\n    return [];\n  }\n  /**\r\n   * @see https://chromestatus.com/feature/5765569655603200\r\n   */;\n  _proto.getPredictedEvents = function getPredictedEvents() {\n    throw new Error('getPredictedEvents is not supported!');\n  }\n  /**\r\n   * @see https://github.com/antvis/G/issues/1115\r\n   * We currently reuses event objects in the event system,\r\n   * avoiding the creation of a large number of event objects.\r\n   * Reused objects are only used to carry different data,\r\n   * such as coordinate information, native event objects,\r\n   * and therefore the lifecycle is limited to the event handler,\r\n   * which can lead to unintended consequences if an attempt is made to cache the entire event object.\r\n   *\r\n   * Therefore, while keeping the above performance considerations in mind, it is possible to provide a clone method that creates a new object when the user really wants to cache it, e.g.\r\n   */;\n  _proto.clone = function clone() {\n    return this.manager.clonePointerEvent(this);\n  };\n  return FederatedPointerEvent;\n}(FederatedMouseEvent);\n\nvar FederatedWheelEvent = /*#__PURE__*/function (_FederatedMouseEvent) {\n  _inheritsLoose(FederatedWheelEvent, _FederatedMouseEvent);\n  function FederatedWheelEvent() {\n    var _this;\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _FederatedMouseEvent.call.apply(_FederatedMouseEvent, [this].concat(args)) || this;\n    _this.deltaMode = void 0;\n    _this.deltaX = void 0;\n    _this.deltaY = void 0;\n    _this.deltaZ = void 0;\n    _this.DOM_DELTA_LINE = 0;\n    _this.DOM_DELTA_PAGE = 1;\n    _this.DOM_DELTA_PIXEL = 2;\n    return _this;\n  }\n  var _proto = FederatedWheelEvent.prototype;\n  _proto.clone = function clone() {\n    return this.manager.cloneWheelEvent(this);\n  };\n  return FederatedWheelEvent;\n}(FederatedMouseEvent);\n\nfunction isDisplayObject(value) {\n  return !!(value === null || value === void 0 ? void 0 : value.nodeName);\n}\nvar mutationEvent = new MutationEvent(ElementEvent.ATTR_MODIFIED, null, null, null, null, MutationEvent.MODIFICATION, null, null);\nvar DEFAULT_STYLE_PROPS = {\n  anchor: '',\n  opacity: '',\n  fillOpacity: '',\n  strokeOpacity: '',\n  fill: '',\n  stroke: '',\n  transform: '',\n  transformOrigin: '',\n  visibility: '',\n  pointerEvents: '',\n  lineWidth: '',\n  lineCap: '',\n  lineJoin: '',\n  increasedLineWidthForHitTesting: '',\n  fontSize: '',\n  fontFamily: '',\n  fontStyle: '',\n  fontWeight: '',\n  fontVariant: '',\n  textAlign: '',\n  textBaseline: '',\n  textTransform: '',\n  zIndex: '',\n  filter: '',\n  shadowType: ''\n};\nvar DEFAULT_PARSED_STYLE_PROPS = {\n  anchor: [0, 0],\n  fill: noneColor,\n  stroke: noneColor,\n  transform: [],\n  zIndex: 0,\n  filter: [],\n  shadowType: 'outer',\n  miterLimit: 10\n};\nvar DEFAULT_PARSED_STYLE_PROPS_CSS_DISABLED = _extends({}, DEFAULT_PARSED_STYLE_PROPS, {\n  opacity: 1,\n  fillOpacity: 1,\n  strokeOpacity: 1,\n  visibility: 'visible',\n  pointerEvents: 'auto',\n  lineWidth: 1,\n  lineCap: 'butt',\n  lineJoin: 'miter',\n  increasedLineWidthForHitTesting: 0,\n  fillRule: 'nonzero'\n  // TODO: transformOrigin\n});\n\nvar INHERITABLE_BASE_STYLE_PROPS = ['opacity', 'fillOpacity', 'strokeOpacity', 'transformOrigin', 'visibility', 'pointerEvents', 'lineWidth', 'lineCap', 'lineJoin', 'increasedLineWidthForHitTesting'];\nvar INHERITABLE_STYLE_PROPS = [].concat(INHERITABLE_BASE_STYLE_PROPS, ['fontSize', 'fontFamily', 'fontStyle', 'fontWeight', 'fontVariant', 'textAlign', 'textBaseline', 'textTransform']);\nvar DATASET_PREFIX = 'data-';\n/**\r\n * prototype chains: DisplayObject -> Element -> Node -> EventTarget\r\n *\r\n * mixins: Animatable, Transformable, Visible\r\n * @see https://github.com/tannerntannern/ts-mixer/blob/master/README.md#mixing-generic-classes\r\n *\r\n * Provide abilities in scene graph, such as:\r\n * * transform `translate/rotate/scale`\r\n * * add/remove child\r\n * * visibility and z-index\r\n *\r\n * Those abilities are implemented with those components: `Transform/Sortable/Visible`.\r\n *\r\n * Emit following events:\r\n * * init\r\n * * destroy\r\n * * attributeChanged\r\n */\nvar DisplayObject = /*#__PURE__*/function (_Element) {\n  _inheritsLoose(DisplayObject, _Element);\n  /**\r\n   * contains style props in constructor's params, eg. fill, stroke...\r\n   */\n\n  /**\r\n   * push to active animations after calling `animate()`\r\n   */\n\n  /**\r\n   * Use data-* attribute.\r\n   * @see https://developer.mozilla.org/en-US/docs/Learn/HTML/Howto/Use_data_attributes\r\n   * @example\r\n   * group.dataset.prop1 = 1;\r\n   * group.getAttribute('data-prop1'); // 1\r\n   */\n\n  function DisplayObject(config) {\n    var _this$config$capture;\n    var _this;\n    _this = _Element.call(this) || this;\n    // assign name, id to config\n    // eg. group.get('name')\n    _this.config = void 0;\n    _this.isCustomElement = false;\n    _this.isMutationObserved = false;\n    _this.activeAnimations = [];\n    _this.dataset = void 0;\n    _this.getClip = function () {\n      return this.style.clipPath || null;\n    };\n    _this.config = config;\n    // compatible with G 3.0\n    _this.config.interactive = (_this$config$capture = _this.config.capture) !== null && _this$config$capture !== void 0 ? _this$config$capture : _this.config.interactive;\n    // init scene graph node\n    _this.id = _this.config.id || '';\n    _this.name = _this.config.name || '';\n    if (_this.config.className || _this.config.class) {\n      _this.className = _this.config.className || _this.config.class;\n    }\n    _this.nodeName = _this.config.type || Shape.GROUP;\n    // compatible with G 3.0\n    _this.config.style = _this.config.style || _this.config.attrs || {};\n    Object.assign(_this.config.style, _this.config.attrs);\n    // this.config.style = {\n    //   // ...DEFAULT_STYLE_PROPS,\n    //   ...this.config.style,\n    //   ...this.config.attrs,\n    // };\n    if (_this.config.visible != null) {\n      _this.config.style.visibility = _this.config.visible === false ? 'hidden' : 'visible';\n    }\n    if (_this.config.interactive != null) {\n      _this.config.style.pointerEvents = _this.config.interactive === false ? 'none' : 'auto';\n    }\n    // merge parsed value\n    Object.assign(_this.parsedStyle, runtime.enableCSSParsing ? DEFAULT_PARSED_STYLE_PROPS : DEFAULT_PARSED_STYLE_PROPS_CSS_DISABLED, _this.config.initialParsedStyle);\n    if (runtime.enableCSSParsing) {\n      Object.assign(_this.attributes, DEFAULT_STYLE_PROPS);\n    }\n    // start to process attributes\n    _this.initAttributes(_this.config.style);\n    _this.dataset = new Proxy({}, {\n      get: function get(target, name) {\n        var formattedName = \"\" + DATASET_PREFIX + kebabize(name);\n        if (target[formattedName] !== undefined) {\n          return target[formattedName];\n        }\n        return _this.getAttribute(formattedName);\n      },\n      set: function set(_, prop, value) {\n        _this.setAttribute(\"\" + DATASET_PREFIX + kebabize(prop), value);\n        return true;\n      }\n    });\n    _this.style = new Proxy(\n    // @ts-ignore\n    {\n      // ...this.attributes,\n      setProperty: function setProperty(propertyName, value) {\n        _this.setAttribute(propertyName, value);\n      },\n      getPropertyValue: function getPropertyValue(propertyName) {\n        return _this.getAttribute(propertyName);\n      },\n      removeProperty: function removeProperty(propertyName) {\n        _this.removeAttribute(propertyName);\n      },\n      item: function item() {\n        return '';\n      }\n    }, {\n      get: function get(target, name) {\n        if (target[name] !== undefined) {\n          // if (name in target) {\n          return target[name];\n        }\n        return _this.getAttribute(name);\n      },\n      set: function set(_, prop, value) {\n        _this.setAttribute(prop, value);\n        return true;\n      }\n    });\n    // insert this group into pool\n    runtime.displayObjectPool.add(_this.entity, _assertThisInitialized(_this));\n    return _this;\n  }\n  var _proto = DisplayObject.prototype;\n  _proto.destroy = function destroy() {\n    _Element.prototype.destroy.call(this);\n    // remove from pool\n    runtime.displayObjectPool.remove(this.entity);\n    // stop all active animations\n    this.getAnimations().forEach(function (animation) {\n      animation.cancel();\n    });\n    // FIXME\n    // this.renderable = null;\n    // this.cullable = null;\n    // this.transformable = null;\n    // this.rBushNode = null;\n    // this.geometry = null;\n    // this.sortable = null;\n  };\n  _proto.cloneNode = function cloneNode(deep, customCloneFunc) {\n    var clonedStyle = _extends({}, this.attributes);\n    for (var attributeName in clonedStyle) {\n      var attribute = clonedStyle[attributeName];\n      // @see https://github.com/antvis/G/issues/1095\n      if (isDisplayObject(attribute) &&\n      // share the same clipPath if possible\n      attributeName !== 'clipPath' && attributeName !== 'offsetPath' && attributeName !== 'textPath') {\n        clonedStyle[attributeName] = attribute.cloneNode(deep);\n      }\n      // TODO: clone other type\n      if (customCloneFunc) {\n        clonedStyle[attributeName] = customCloneFunc(attributeName, attribute);\n      }\n    }\n    var cloned = new this.constructor({\n      // copy id & name\n      // @see https://developer.mozilla.org/en-US/docs/Web/API/Node/cloneNode#notes\n      id: this.id,\n      name: this.name,\n      className: this.name,\n      interactive: this.interactive,\n      style: clonedStyle\n    });\n    // apply transform\n    cloned.setLocalTransform(this.getLocalTransform());\n    if (deep) {\n      this.children.forEach(function (child) {\n        // skip marker\n        if (!child.style.isMarker) {\n          var clonedChild = child.cloneNode(deep);\n          cloned.appendChild(clonedChild);\n        }\n      });\n    }\n    return cloned;\n  };\n  _proto.initAttributes = function initAttributes(attributes) {\n    if (attributes === void 0) {\n      attributes = {};\n    }\n    var renderable = this.renderable;\n    var options = {\n      forceUpdateGeometry: true\n      // usedAttributes:\n      //   // only Group / Text should account for text relative props\n      //   this.tagName === Shape.GROUP || this.tagName === Shape.TEXT\n      //     ? INHERITABLE_STYLE_PROPS\n      //     : INHERITABLE_BASE_STYLE_PROPS,\n    };\n\n    if (runtime.enableCSSParsing) {\n      // @ts-ignore\n      options.usedAttributes = INHERITABLE_STYLE_PROPS;\n    }\n    // account for FCP, process properties as less as possible\n    runtime.styleValueRegistry.processProperties(this, attributes, options);\n    // redraw at next frame\n    renderable.dirty = true;\n  };\n  _proto.setAttribute = function setAttribute(name, value, force) {\n    if (force === void 0) {\n      force = false;\n    }\n    var attributeName = formatAttributeName(name);\n    // ignore undefined value\n    if (isUndefined(value)) {\n      return;\n    }\n    if (force || value !== this.attributes[attributeName]) {\n      this.internalSetAttribute(attributeName, value);\n      _Element.prototype.setAttribute.call(this, attributeName, value);\n    }\n  }\n  /**\r\n   * called when attributes get changed or initialized\r\n   */;\n  _proto.internalSetAttribute = function internalSetAttribute(name, value, parseOptions) {\n    var _runtime$styleValueRe;\n    if (parseOptions === void 0) {\n      parseOptions = {};\n    }\n    var renderable = this.renderable;\n    var oldValue = this.attributes[name];\n    var oldParsedValue = this.parsedStyle[name];\n    runtime.styleValueRegistry.processProperties(this, (_runtime$styleValueRe = {}, _runtime$styleValueRe[name] = value, _runtime$styleValueRe), parseOptions);\n    // redraw at next frame\n    renderable.dirty = true;\n    var newParsedValue = this.parsedStyle[name];\n    if (this.isConnected) {\n      mutationEvent.relatedNode = this;\n      mutationEvent.prevValue = oldValue;\n      mutationEvent.newValue = value;\n      mutationEvent.attrName = name;\n      mutationEvent.prevParsedValue = oldParsedValue;\n      mutationEvent.newParsedValue = newParsedValue;\n      if (this.isMutationObserved) {\n        this.dispatchEvent(mutationEvent);\n      } else {\n        mutationEvent.target = this;\n        this.ownerDocument.defaultView.dispatchEvent(mutationEvent, true);\n      }\n    }\n    if ((this.isCustomElement && this.isConnected || !this.isCustomElement) && this.attributeChangedCallback) {\n      this.attributeChangedCallback(name, oldValue, value, oldParsedValue, newParsedValue);\n    }\n  }\n  // #region transformable\n  /**\r\n   * returns different values than getBoundingClientRect(), as the latter returns value relative to the viewport\r\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/SVGGraphicsElement/getBBox\r\n   *\r\n   * FIXME: It is worth noting that getBBox responds to original untransformed values of a drawn object.\r\n   * @see https://www.w3.org/Graphics/SVG/IG/resources/svgprimer.html#getBBox\r\n   */;\n  _proto.getBBox = function getBBox() {\n    var aabb = this.getBounds();\n    var _aabb$getMin = aabb.getMin(),\n      left = _aabb$getMin[0],\n      top = _aabb$getMin[1];\n    var _aabb$getMax = aabb.getMax(),\n      right = _aabb$getMax[0],\n      bottom = _aabb$getMax[1];\n    return new Rectangle(left, top, right - left, bottom - top);\n  };\n  _proto.setOrigin = function setOrigin(position, y, z) {\n    if (y === void 0) {\n      y = 0;\n    }\n    if (z === void 0) {\n      z = 0;\n    }\n    runtime.sceneGraphService.setOrigin(this, createVec3(position, y, z));\n    return this;\n  };\n  _proto.getOrigin = function getOrigin() {\n    return runtime.sceneGraphService.getOrigin(this);\n  }\n  /**\r\n   * set position in world space\r\n   */;\n  _proto.setPosition = function setPosition(position, y, z) {\n    if (y === void 0) {\n      y = 0;\n    }\n    if (z === void 0) {\n      z = 0;\n    }\n    runtime.sceneGraphService.setPosition(this, createVec3(position, y, z));\n    return this;\n  }\n  /**\r\n   * set position in local space\r\n   */;\n  _proto.setLocalPosition = function setLocalPosition(position, y, z) {\n    if (y === void 0) {\n      y = 0;\n    }\n    if (z === void 0) {\n      z = 0;\n    }\n    runtime.sceneGraphService.setLocalPosition(this, createVec3(position, y, z));\n    return this;\n  }\n  /**\r\n   * translate in world space\r\n   */;\n  _proto.translate = function translate(position, y, z) {\n    if (y === void 0) {\n      y = 0;\n    }\n    if (z === void 0) {\n      z = 0;\n    }\n    runtime.sceneGraphService.translate(this, createVec3(position, y, z));\n    return this;\n  }\n  /**\r\n   * translate in local space\r\n   */;\n  _proto.translateLocal = function translateLocal(position, y, z) {\n    if (y === void 0) {\n      y = 0;\n    }\n    if (z === void 0) {\n      z = 0;\n    }\n    runtime.sceneGraphService.translateLocal(this, createVec3(position, y, z));\n    return this;\n  };\n  _proto.getPosition = function getPosition() {\n    return runtime.sceneGraphService.getPosition(this);\n  };\n  _proto.getLocalPosition = function getLocalPosition() {\n    return runtime.sceneGraphService.getLocalPosition(this);\n  }\n  /**\r\n   * compatible with G 3.0\r\n   *\r\n   * scaling in local space\r\n   * scale(10) = scale(10, 10, 10)\r\n   *\r\n   * we can't set scale in world space\r\n   */;\n  _proto.scale = function scale(scaling, y, z) {\n    return this.scaleLocal(scaling, y, z);\n  };\n  _proto.scaleLocal = function scaleLocal(scaling, y, z) {\n    if (typeof scaling === 'number') {\n      y = y || scaling;\n      z = z || scaling;\n      scaling = createVec3(scaling, y, z);\n    }\n    runtime.sceneGraphService.scaleLocal(this, scaling);\n    return this;\n  }\n  /**\r\n   * set scaling in local space\r\n   */;\n  _proto.setLocalScale = function setLocalScale(scaling, y, z) {\n    if (typeof scaling === 'number') {\n      y = y || scaling;\n      z = z || scaling;\n      scaling = createVec3(scaling, y, z);\n    }\n    runtime.sceneGraphService.setLocalScale(this, scaling);\n    return this;\n  }\n  /**\r\n   * get scaling in local space\r\n   */;\n  _proto.getLocalScale = function getLocalScale() {\n    return runtime.sceneGraphService.getLocalScale(this);\n  }\n  /**\r\n   * get scaling in world space\r\n   */;\n  _proto.getScale = function getScale() {\n    return runtime.sceneGraphService.getScale(this);\n  }\n  /**\r\n   * only return degrees of Z axis in world space\r\n   */;\n  _proto.getEulerAngles = function getEulerAngles() {\n    var _getEuler = getEuler(vec3.create(), runtime.sceneGraphService.getWorldTransform(this)),\n      ez = _getEuler[2];\n    return rad2deg(ez);\n  }\n  /**\r\n   * only return degrees of Z axis in local space\r\n   */;\n  _proto.getLocalEulerAngles = function getLocalEulerAngles() {\n    var _getEuler2 = getEuler(vec3.create(), runtime.sceneGraphService.getLocalRotation(this)),\n      ez = _getEuler2[2];\n    return rad2deg(ez);\n  }\n  /**\r\n   * set euler angles(degrees) in world space\r\n   */;\n  _proto.setEulerAngles = function setEulerAngles(z) {\n    runtime.sceneGraphService.setEulerAngles(this, 0, 0, z);\n    return this;\n  }\n  /**\r\n   * set euler angles(degrees) in local space\r\n   */;\n  _proto.setLocalEulerAngles = function setLocalEulerAngles(z) {\n    runtime.sceneGraphService.setLocalEulerAngles(this, 0, 0, z);\n    return this;\n  };\n  _proto.rotateLocal = function rotateLocal(x, y, z) {\n    if (isNil(y) && isNil(z)) {\n      runtime.sceneGraphService.rotateLocal(this, 0, 0, x);\n    } else {\n      runtime.sceneGraphService.rotateLocal(this, x, y, z);\n    }\n    return this;\n  };\n  _proto.rotate = function rotate(x, y, z) {\n    if (isNil(y) && isNil(z)) {\n      runtime.sceneGraphService.rotate(this, 0, 0, x);\n    } else {\n      runtime.sceneGraphService.rotate(this, x, y, z);\n    }\n    return this;\n  };\n  _proto.setRotation = function setRotation(rotation, y, z, w) {\n    runtime.sceneGraphService.setRotation(this, rotation, y, z, w);\n    return this;\n  };\n  _proto.setLocalRotation = function setLocalRotation(rotation, y, z, w) {\n    runtime.sceneGraphService.setLocalRotation(this, rotation, y, z, w);\n    return this;\n  };\n  _proto.setLocalSkew = function setLocalSkew(skew, y) {\n    runtime.sceneGraphService.setLocalSkew(this, skew, y);\n    return this;\n  };\n  _proto.getRotation = function getRotation() {\n    return runtime.sceneGraphService.getRotation(this);\n  };\n  _proto.getLocalRotation = function getLocalRotation() {\n    return runtime.sceneGraphService.getLocalRotation(this);\n  };\n  _proto.getLocalSkew = function getLocalSkew() {\n    return runtime.sceneGraphService.getLocalSkew(this);\n  };\n  _proto.getLocalTransform = function getLocalTransform() {\n    return runtime.sceneGraphService.getLocalTransform(this);\n  };\n  _proto.getWorldTransform = function getWorldTransform() {\n    return runtime.sceneGraphService.getWorldTransform(this);\n  };\n  _proto.setLocalTransform = function setLocalTransform(transform) {\n    runtime.sceneGraphService.setLocalTransform(this, transform);\n    return this;\n  };\n  _proto.resetLocalTransform = function resetLocalTransform() {\n    runtime.sceneGraphService.resetLocalTransform(this);\n  }\n  // #endregion transformable\n  // #region animatable\n  /**\r\n   * returns an array of all Animation objects affecting this element\r\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Element/getAnimations\r\n   */;\n  _proto.getAnimations = function getAnimations() {\n    return this.activeAnimations;\n  }\n  /**\r\n   * create an animation with WAAPI\r\n   * @see https://developer.mozilla.org/zh-CN/docs/Web/API/Element/animate\r\n   */;\n  _proto.animate = function animate(keyframes, options) {\n    var _this$ownerDocument;\n    var timeline = (_this$ownerDocument = this.ownerDocument) === null || _this$ownerDocument === void 0 ? void 0 : _this$ownerDocument.timeline;\n    if (timeline) {\n      return timeline.play(this, keyframes, options);\n    }\n    return null;\n  }\n  // #endregion animatable\n  // #region visible\n  /**\r\n   * shortcut for Used value of `visibility`\r\n   */;\n  _proto.isVisible = function isVisible() {\n    var _this$parsedStyle;\n    return ((_this$parsedStyle = this.parsedStyle) === null || _this$parsedStyle === void 0 ? void 0 : _this$parsedStyle.visibility) === 'visible';\n  };\n  _proto.isInteractive = function isInteractive() {\n    var _this$parsedStyle2;\n    return ((_this$parsedStyle2 = this.parsedStyle) === null || _this$parsedStyle2 === void 0 ? void 0 : _this$parsedStyle2.pointerEvents) !== 'none';\n  };\n  _proto.isCulled = function isCulled() {\n    return !!(this.cullable && this.cullable.enable && !this.cullable.visible);\n  }\n  /**\r\n   * bring to front in current group\r\n   */;\n  _proto.toFront = function toFront() {\n    if (this.parentNode) {\n      this.style.zIndex = Math.max.apply(Math, this.parentNode.children.map(function (child) {\n        return Number(child.style.zIndex);\n      })) + 1;\n    }\n    return this;\n  }\n  /**\r\n   * send to back in current group\r\n   */;\n  _proto.toBack = function toBack() {\n    if (this.parentNode) {\n      this.style.zIndex = Math.min.apply(Math, this.parentNode.children.map(function (child) {\n        return Number(child.style.zIndex);\n      })) - 1;\n    }\n    return this;\n  }\n  // #endregion visible\n  // #region deprecated\n  /**\r\n   * compatible with G 3.0\r\n   * @alias object.config\r\n   * @deprecated\r\n   */;\n  _proto.getConfig = function getConfig() {\n    return this.config;\n  };\n  _proto.attr = function attr() {\n    var _this2 = this;\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    var name = args[0],\n      value = args[1];\n    if (!name) {\n      return this.attributes;\n    }\n    if (isObject(name)) {\n      Object.keys(name).forEach(function (key) {\n        _this2.setAttribute(key, name[key]);\n      });\n      return this;\n    }\n    if (args.length === 2) {\n      this.setAttribute(name, value);\n      return this;\n    }\n    return this.attributes[name];\n  }\n  /**\r\n   * return 3x3 matrix in world space\r\n   * @deprecated\r\n   */;\n  _proto.getMatrix = function getMatrix(transformMat4) {\n    var transform = transformMat4 || this.getWorldTransform();\n    var _mat4$getTranslation = mat4.getTranslation(vec3.create(), transform),\n      tx = _mat4$getTranslation[0],\n      ty = _mat4$getTranslation[1];\n    var _mat4$getScaling = mat4.getScaling(vec3.create(), transform),\n      sx = _mat4$getScaling[0],\n      sy = _mat4$getScaling[1];\n    var rotation = mat4.getRotation(quat$1.create(), transform);\n    var _getEuler3 = getEuler(vec3.create(), rotation),\n      eux = _getEuler3[0],\n      euz = _getEuler3[2];\n    // gimbal lock at 90 degrees\n    return fromRotationTranslationScale(eux || euz, tx, ty, sx, sy);\n  }\n  /**\r\n   * return 3x3 matrix in local space\r\n   * @deprecated\r\n   */;\n  _proto.getLocalMatrix = function getLocalMatrix() {\n    return this.getMatrix(this.getLocalTransform());\n  }\n  /**\r\n   * set 3x3 matrix in world space\r\n   * @deprecated\r\n   */;\n  _proto.setMatrix = function setMatrix(mat) {\n    var _decompose = decompose(mat),\n      tx = _decompose[0],\n      ty = _decompose[1],\n      scalingX = _decompose[2],\n      scalingY = _decompose[3],\n      angle = _decompose[4];\n    this.setEulerAngles(angle).setPosition(tx, ty).setLocalScale(scalingX, scalingY);\n  }\n  /**\r\n   * set 3x3 matrix in local space\r\n   * @deprecated\r\n   */;\n  _proto.setLocalMatrix = function setLocalMatrix(mat) {\n    var _decompose2 = decompose(mat),\n      tx = _decompose2[0],\n      ty = _decompose2[1],\n      scalingX = _decompose2[2],\n      scalingY = _decompose2[3],\n      angle = _decompose2[4];\n    this.setLocalEulerAngles(angle).setLocalPosition(tx, ty).setLocalScale(scalingX, scalingY);\n  }\n  /**\r\n   * Use `visibility: visible` instead.\r\n   * @deprecated\r\n   */;\n  _proto.show = function show() {\n    this.style.visibility = 'visible';\n  }\n  /**\r\n   * Use `visibility: hidden` instead.\r\n   * @deprecated\r\n   */;\n  _proto.hide = function hide() {\n    this.style.visibility = 'hidden';\n  }\n  /**\r\n   * Use `childElementCount` instead.\r\n   * @deprecated\r\n   */;\n  _proto.getCount = function getCount() {\n    return this.childElementCount;\n  }\n  /**\r\n   * Use `parentElement` instead.\r\n   * @deprecated\r\n   */;\n  _proto.getParent = function getParent() {\n    return this.parentElement;\n  }\n  /**\r\n   * Use `children` instead.\r\n   * @deprecated\r\n   */;\n  _proto.getChildren = function getChildren() {\n    return this.children;\n  }\n  /**\r\n   * Use `firstElementChild` instead.\r\n   * @deprecated\r\n   */;\n  _proto.getFirst = function getFirst() {\n    return this.firstElementChild;\n  }\n  /**\r\n   * Use `lastElementChild` instead.\r\n   * @deprecated\r\n   */;\n  _proto.getLast = function getLast() {\n    return this.lastElementChild;\n  }\n  /**\r\n   * Use `this.children[index]` instead.\r\n   * @deprecated\r\n   */;\n  _proto.getChildByIndex = function getChildByIndex(index) {\n    return this.children[index] || null;\n  }\n  /**\r\n   * Use `appendChild` instead.\r\n   * @deprecated\r\n   */;\n  _proto.add = function add(child, index) {\n    return this.appendChild(child, index);\n  }\n  /**\r\n   * Use `this.style.clipPath` instead.\r\n   * @deprecated\r\n   */;\n  _proto.setClip = function setClip(clipPath) {\n    this.style.clipPath = clipPath;\n  }\n  /**\r\n   * Use `this.style.clipPath` instead.\r\n   * @deprecated\r\n   */;\n  /**\r\n   * @deprecated\r\n   */\n  _proto.set = function set(name, value) {\n    // @ts-ignore\n    this.config[name] = value;\n  }\n  /**\r\n   * @deprecated\r\n   */;\n  _proto.get = function get(name) {\n    return this.config[name];\n  }\n  /**\r\n   * Use `setPosition` instead.\r\n   * @deprecated\r\n   */;\n  _proto.moveTo = function moveTo(position, y, z) {\n    if (y === void 0) {\n      y = 0;\n    }\n    if (z === void 0) {\n      z = 0;\n    }\n    this.setPosition(position, y, z);\n    return this;\n  }\n  /**\r\n   * Use `setPosition` instead.\r\n   * @deprecated\r\n   */;\n  _proto.move = function move(position, y, z) {\n    if (y === void 0) {\n      y = 0;\n    }\n    if (z === void 0) {\n      z = 0;\n    }\n    this.setPosition(position, y, z);\n    return this;\n  }\n  /**\r\n   * Use `this.style.zIndex` instead.\r\n   * @deprecated\r\n   */;\n  _proto.setZIndex = function setZIndex(zIndex) {\n    this.style.zIndex = zIndex;\n    return this;\n  };\n  _createClass(DisplayObject, [{\n    key: \"interactive\",\n    get: function get() {\n      return this.isInteractive();\n    },\n    set: function set(b) {\n      this.style.pointerEvents = b ? 'auto' : 'none';\n    }\n  }]);\n  return DisplayObject;\n}(Element);\n\nvar _excluded = [\"style\"];\nvar Circle = /*#__PURE__*/function (_DisplayObject) {\n  _inheritsLoose(Circle, _DisplayObject);\n  function Circle(_temp) {\n    var _ref = _temp === void 0 ? {} : _temp,\n      style = _ref.style,\n      rest = _objectWithoutPropertiesLoose(_ref, _excluded);\n    return _DisplayObject.call(this, _extends({\n      type: Shape.CIRCLE,\n      style: runtime.enableCSSParsing ? _extends({\n        cx: '',\n        cy: '',\n        r: ''\n      }, style) : _extends({}, style),\n      initialParsedStyle: {\n        anchor: [0.5, 0.5],\n        transformOrigin: runtime.enableCSSParsing ? null : [getOrCreateUnitValue(50, '%'), getOrCreateUnitValue(50, '%')]\n      }\n    }, rest)) || this;\n  }\n  return Circle;\n}(DisplayObject);\n\nvar _excluded$1 = [\"style\"];\n/**\r\n * shadow root\r\n * @see https://yuque.antfin-inc.com/antv/czqvg5/pgqipg\r\n */\nvar CustomElement = /*#__PURE__*/function (_DisplayObject) {\n  _inheritsLoose(CustomElement, _DisplayObject);\n  // static get observedAttributes(): string[] {\n  //   return [];\n  // }\n\n  // private shadowNodes: DisplayObject[] = [];\n  function CustomElement(_temp) {\n    var _this;\n    var _ref = _temp === void 0 ? {} : _temp,\n      style = _ref.style,\n      rest = _objectWithoutPropertiesLoose(_ref, _excluded$1);\n    _this = _DisplayObject.call(this, _extends({\n      style: runtime.enableCSSParsing ? _extends({\n        x: '',\n        y: ''\n      }, style) : _extends({}, style)\n    }, rest)) || this;\n    _this.isCustomElement = true;\n    return _this;\n  }\n  return CustomElement;\n}(DisplayObject);\n\nvar pool = {};\nvar htmlPool = [];\nvar DisplayObjectPool = /*#__PURE__*/function () {\n  function DisplayObjectPool() {}\n  var _proto = DisplayObjectPool.prototype;\n  _proto.getByEntity = function getByEntity(entity) {\n    return pool[entity];\n  };\n  _proto.getAll = function getAll() {\n    return Object.keys(pool).map(function (entity) {\n      return pool[entity];\n    });\n  };\n  _proto.add = function add(entity, groupOrShape) {\n    pool[entity] = groupOrShape;\n    if (groupOrShape.nodeName === Shape.HTML) {\n      htmlPool.push(groupOrShape);\n    }\n  };\n  _proto.remove = function remove(entity) {\n    var existed = pool[entity];\n    if (existed) {\n      delete pool[entity];\n      if (existed.nodeName === Shape.HTML) {\n        var index = htmlPool.indexOf(existed);\n        htmlPool.splice(index, 1);\n      }\n    }\n  };\n  _proto.getHTMLs = function getHTMLs() {\n    return htmlPool;\n  };\n  return DisplayObjectPool;\n}();\n\nvar _excluded$2 = [\"style\"];\nvar Ellipse = /*#__PURE__*/function (_DisplayObject) {\n  _inheritsLoose(Ellipse, _DisplayObject);\n  function Ellipse(_temp) {\n    var _ref = _temp === void 0 ? {} : _temp,\n      style = _ref.style,\n      rest = _objectWithoutPropertiesLoose(_ref, _excluded$2);\n    return _DisplayObject.call(this, _extends({\n      type: Shape.ELLIPSE,\n      style: runtime.enableCSSParsing ? _extends({\n        cx: '',\n        cy: '',\n        rx: '',\n        ry: ''\n      }, style) : _extends({}, style),\n      initialParsedStyle: {\n        anchor: [0.5, 0.5],\n        transformOrigin: runtime.enableCSSParsing ? null : [getOrCreateUnitValue(50, '%'), getOrCreateUnitValue(50, '%')]\n      }\n    }, rest)) || this;\n  }\n  return Ellipse;\n}(DisplayObject);\n\nvar _excluded$3 = [\"style\"];\n/**\r\n * its attributes are inherited by its children.\r\n * @see https://developer.mozilla.org/zh-CN/docs/Web/SVG/Element/g\r\n *\r\n * @example\r\n * <g fill=\"white\" stroke=\"green\" stroke-width=\"5\">\r\n    <circle cx=\"40\" cy=\"40\" r=\"25\" />\r\n    <circle cx=\"60\" cy=\"60\" r=\"25\" />\r\n  </g>\r\n */\nvar Group = /*#__PURE__*/function (_DisplayObject) {\n  _inheritsLoose(Group, _DisplayObject);\n  function Group(_temp) {\n    var _ref = _temp === void 0 ? {} : _temp,\n      style = _ref.style,\n      rest = _objectWithoutPropertiesLoose(_ref, _excluded$3);\n    return _DisplayObject.call(this, _extends({\n      type: Shape.GROUP,\n      style: runtime.enableCSSParsing ? _extends({\n        x: '',\n        y: '',\n        width: '',\n        height: ''\n      }, style) : _extends({}, style)\n    }, rest)) || this;\n  }\n  return Group;\n}(DisplayObject);\n\nvar _excluded$4 = [\"style\"];\n/**\r\n * HTML container\r\n * @see https://github.com/pmndrs/drei#html\r\n */\nvar HTML = /*#__PURE__*/function (_DisplayObject) {\n  _inheritsLoose(HTML, _DisplayObject);\n  function HTML(_temp) {\n    var _this;\n    var _ref = _temp === void 0 ? {} : _temp,\n      style = _ref.style,\n      rest = _objectWithoutPropertiesLoose(_ref, _excluded$4);\n    _this = _DisplayObject.call(this, _extends({\n      type: Shape.HTML,\n      style: runtime.enableCSSParsing ? _extends({\n        x: '',\n        y: '',\n        width: 'auto',\n        height: 'auto',\n        innerHTML: ''\n      }, style) : _extends({}, style)\n    }, rest)) || this;\n    _this.cullable.enable = false;\n    return _this;\n  }\n  /**\r\n   * return wrapper HTMLElement\r\n   * * <div> in g-webgl/canvas\r\n   * * <foreignObject> in g-svg\r\n   */\n  var _proto = HTML.prototype;\n  _proto.getDomElement = function getDomElement() {\n    return this.parsedStyle.$el;\n  }\n  /**\r\n   * override with $el.getBoundingClientRect\r\n   * @see https://developer.mozilla.org/zh-CN/docs/Web/API/Element/getBoundingClientRect\r\n   */;\n  _proto.getBoundingClientRect = function getBoundingClientRect() {\n    return this.parsedStyle.$el.getBoundingClientRect();\n  };\n  _proto.getClientRects = function getClientRects() {\n    return [this.getBoundingClientRect()];\n  };\n  _proto.getBounds = function getBounds() {\n    var _this$ownerDocument, _this$ownerDocument$d;\n    var clientRect = this.getBoundingClientRect();\n    // calc context's offset\n    // @ts-ignore\n    var canvasRect = (_this$ownerDocument = this.ownerDocument) === null || _this$ownerDocument === void 0 ? void 0 : (_this$ownerDocument$d = _this$ownerDocument.defaultView) === null || _this$ownerDocument$d === void 0 ? void 0 : _this$ownerDocument$d.getContextService().getBoundingClientRect();\n    if (canvasRect) {\n      var minX = clientRect.left - canvasRect.left;\n      var minY = clientRect.top - canvasRect.top;\n      var aabb = new AABB();\n      // aabb.setMinMax(\n      //   vec3.fromValues(minX, minY, 0),\n      //   vec3.fromValues(minX + clientRect.width, minY + clientRect.height, 0),\n      // );\n      aabb.setMinMax([minX, minY, 0], [minX + clientRect.width, minY + clientRect.height, 0]);\n      return aabb;\n    }\n    return null;\n  };\n  _proto.getLocalBounds = function getLocalBounds() {\n    if (this.parentNode) {\n      var parentInvert = mat4.invert(mat4.create(), this.parentNode.getWorldTransform());\n      var bounds = this.getBounds();\n      if (!AABB.isEmpty(bounds)) {\n        var localBounds = new AABB();\n        localBounds.setFromTransformedAABB(bounds, parentInvert);\n        return localBounds;\n      }\n    }\n    return this.getBounds();\n  };\n  return HTML;\n}(DisplayObject);\n\nvar _excluded$5 = [\"style\"];\nvar Image = /*#__PURE__*/function (_DisplayObject) {\n  _inheritsLoose(Image, _DisplayObject);\n  function Image(_temp) {\n    var _ref = _temp === void 0 ? {} : _temp,\n      style = _ref.style,\n      rest = _objectWithoutPropertiesLoose(_ref, _excluded$5);\n    return _DisplayObject.call(this, _extends({\n      type: Shape.IMAGE,\n      style: runtime.enableCSSParsing ? _extends({\n        x: '',\n        y: '',\n        img: '',\n        width: '',\n        height: ''\n      }, style) : _extends({}, style)\n    }, rest)) || this;\n  }\n  return Image;\n}(DisplayObject);\n\nvar _excluded$6 = [\"style\"];\n/**\r\n * Create a line connecting two points.\r\n * @see https://developer.mozilla.org/en-US/docs/Web/SVG/Element/line\r\n *\r\n * Also support for using marker.\r\n */\nvar Line = /*#__PURE__*/function (_DisplayObject) {\n  _inheritsLoose(Line, _DisplayObject);\n  function Line(_temp) {\n    var _this;\n    var _ref = _temp === void 0 ? {} : _temp,\n      style = _ref.style,\n      rest = _objectWithoutPropertiesLoose(_ref, _excluded$6);\n    _this = _DisplayObject.call(this, _extends({\n      type: Shape.LINE,\n      style: _extends({\n        x1: 0,\n        y1: 0,\n        x2: 0,\n        y2: 0,\n        z1: 0,\n        z2: 0,\n        isBillboard: false\n      }, style)\n    }, rest)) || this;\n    _this.markerStartAngle = 0;\n    _this.markerEndAngle = 0;\n    var _this$parsedStyle = _this.parsedStyle,\n      markerStart = _this$parsedStyle.markerStart,\n      markerEnd = _this$parsedStyle.markerEnd;\n    if (markerStart && isDisplayObject(markerStart)) {\n      _this.markerStartAngle = markerStart.getLocalEulerAngles();\n      _this.appendChild(markerStart);\n    }\n    if (markerEnd && isDisplayObject(markerEnd)) {\n      _this.markerEndAngle = markerEnd.getLocalEulerAngles();\n      _this.appendChild(markerEnd);\n    }\n    _this.transformMarker(true);\n    _this.transformMarker(false);\n    return _this;\n  }\n  var _proto = Line.prototype;\n  _proto.attributeChangedCallback = function attributeChangedCallback(attrName, oldValue, newValue, prevParsedValue, newParsedValue) {\n    if (attrName === 'x1' || attrName === 'y1' || attrName === 'x2' || attrName === 'y2' || attrName === 'markerStartOffset' || attrName === 'markerEndOffset') {\n      this.transformMarker(true);\n      this.transformMarker(false);\n    } else if (attrName === 'markerStart') {\n      if (prevParsedValue && isDisplayObject(prevParsedValue)) {\n        this.markerStartAngle = 0;\n        prevParsedValue.remove();\n      }\n      // CSSKeyword 'unset'\n      if (newParsedValue && isDisplayObject(newParsedValue)) {\n        this.markerStartAngle = newParsedValue.getLocalEulerAngles();\n        this.appendChild(newParsedValue);\n        this.transformMarker(true);\n      }\n    } else if (attrName === 'markerEnd') {\n      if (prevParsedValue && isDisplayObject(prevParsedValue)) {\n        this.markerEndAngle = 0;\n        prevParsedValue.remove();\n      }\n      if (newParsedValue && isDisplayObject(newParsedValue)) {\n        this.markerEndAngle = newParsedValue.getLocalEulerAngles();\n        this.appendChild(newParsedValue);\n        this.transformMarker(false);\n      }\n    }\n  };\n  _proto.transformMarker = function transformMarker(isStart) {\n    var _this$parsedStyle2 = this.parsedStyle,\n      markerStart = _this$parsedStyle2.markerStart,\n      markerEnd = _this$parsedStyle2.markerEnd,\n      markerStartOffset = _this$parsedStyle2.markerStartOffset,\n      markerEndOffset = _this$parsedStyle2.markerEndOffset,\n      x1 = _this$parsedStyle2.x1,\n      x2 = _this$parsedStyle2.x2,\n      y1 = _this$parsedStyle2.y1,\n      y2 = _this$parsedStyle2.y2,\n      defX = _this$parsedStyle2.defX,\n      defY = _this$parsedStyle2.defY;\n    var marker = isStart ? markerStart : markerEnd;\n    if (!marker || !isDisplayObject(marker)) {\n      return;\n    }\n    var rad = 0;\n    var x;\n    var y;\n    var ox;\n    var oy;\n    var offset;\n    var originalAngle;\n    if (isStart) {\n      ox = x1 - defX;\n      oy = y1 - defY;\n      x = x2 - x1;\n      y = y2 - y1;\n      offset = markerStartOffset || 0;\n      originalAngle = this.markerStartAngle;\n    } else {\n      ox = x2 - defX;\n      oy = y2 - defY;\n      x = x1 - x2;\n      y = y1 - y2;\n      offset = markerEndOffset || 0;\n      originalAngle = this.markerEndAngle;\n    }\n    rad = Math.atan2(y, x);\n    // account for markerOffset\n    marker.setLocalEulerAngles(rad * 180 / Math.PI + originalAngle);\n    marker.setLocalPosition(ox + Math.cos(rad) * offset, oy + Math.sin(rad) * offset);\n  };\n  _proto.getPoint = function getPoint(ratio, inWorldSpace) {\n    if (inWorldSpace === void 0) {\n      inWorldSpace = false;\n    }\n    // TODO: account for z1/z2 in 3D line\n    var _this$parsedStyle3 = this.parsedStyle,\n      x1 = _this$parsedStyle3.x1,\n      y1 = _this$parsedStyle3.y1,\n      x2 = _this$parsedStyle3.x2,\n      y2 = _this$parsedStyle3.y2,\n      defX = _this$parsedStyle3.defX,\n      defY = _this$parsedStyle3.defY;\n    var _LineUtil$pointAt = Line$1.pointAt(x1, y1, x2, y2, ratio),\n      x = _LineUtil$pointAt.x,\n      y = _LineUtil$pointAt.y;\n    var transformed = vec3.transformMat4(vec3.create(), vec3.fromValues(x - defX, y - defY, 0), inWorldSpace ? this.getWorldTransform() : this.getLocalTransform());\n    // apply local transformation\n    return new Point(transformed[0], transformed[1]);\n  };\n  _proto.getPointAtLength = function getPointAtLength(distance, inWorldSpace) {\n    if (inWorldSpace === void 0) {\n      inWorldSpace = false;\n    }\n    return this.getPoint(distance / this.getTotalLength(), inWorldSpace);\n  };\n  _proto.getTotalLength = function getTotalLength() {\n    // TODO: account for z1/z2 in 3D line\n    var _this$parsedStyle4 = this.parsedStyle,\n      x1 = _this$parsedStyle4.x1,\n      y1 = _this$parsedStyle4.y1,\n      x2 = _this$parsedStyle4.x2,\n      y2 = _this$parsedStyle4.y2;\n    return Line$1.length(x1, y1, x2, y2);\n  };\n  return Line;\n}(DisplayObject);\n\nvar _excluded$7 = [\"style\"];\nvar EMPTY_PARSED_PATH = {\n  absolutePath: [],\n  hasArc: false,\n  segments: [],\n  polygons: [],\n  polylines: [],\n  curve: null,\n  totalLength: 0,\n  rect: new Rectangle(0, 0, 0, 0)\n};\nvar Path = /*#__PURE__*/function (_DisplayObject) {\n  _inheritsLoose(Path, _DisplayObject);\n  /**\r\n   * markers placed at the mid\r\n   */\n\n  function Path(_temp) {\n    var _this;\n    var _ref = _temp === void 0 ? {} : _temp,\n      style = _ref.style,\n      rest = _objectWithoutPropertiesLoose(_ref, _excluded$7);\n    _this = _DisplayObject.call(this, _extends({\n      type: Shape.PATH,\n      style: runtime.enableCSSParsing ? _extends({\n        path: '',\n        miterLimit: ''\n      }, style) : _extends({}, style),\n      initialParsedStyle: runtime.enableCSSParsing ? null : {\n        miterLimit: 4,\n        path: _extends({}, EMPTY_PARSED_PATH)\n      }\n    }, rest)) || this;\n    _this.markerStartAngle = 0;\n    _this.markerEndAngle = 0;\n    _this.markerMidList = [];\n    var _this$parsedStyle = _this.parsedStyle,\n      markerStart = _this$parsedStyle.markerStart,\n      markerEnd = _this$parsedStyle.markerEnd,\n      markerMid = _this$parsedStyle.markerMid;\n    if (markerStart && isDisplayObject(markerStart)) {\n      _this.markerStartAngle = markerStart.getLocalEulerAngles();\n      _this.appendChild(markerStart);\n    }\n    if (markerMid && isDisplayObject(markerMid)) {\n      _this.placeMarkerMid(markerMid);\n    }\n    if (markerEnd && isDisplayObject(markerEnd)) {\n      _this.markerEndAngle = markerEnd.getLocalEulerAngles();\n      _this.appendChild(markerEnd);\n    }\n    _this.transformMarker(true);\n    _this.transformMarker(false);\n    return _this;\n  }\n  var _proto = Path.prototype;\n  _proto.attributeChangedCallback = function attributeChangedCallback(attrName, oldValue, newValue, prevParsedValue, newParsedValue) {\n    if (attrName === 'path') {\n      // recalc markers\n      this.transformMarker(true);\n      this.transformMarker(false);\n      this.placeMarkerMid(this.parsedStyle.markerMid);\n    } else if (attrName === 'markerStartOffset' || attrName === 'markerEndOffset') {\n      this.transformMarker(true);\n      this.transformMarker(false);\n    } else if (attrName === 'markerStart') {\n      if (prevParsedValue && isDisplayObject(prevParsedValue)) {\n        this.markerStartAngle = 0;\n        prevParsedValue.remove();\n      }\n      // CSSKeyword 'unset'\n      if (newParsedValue && isDisplayObject(newParsedValue)) {\n        this.markerStartAngle = newParsedValue.getLocalEulerAngles();\n        this.appendChild(newParsedValue);\n        this.transformMarker(true);\n      }\n    } else if (attrName === 'markerEnd') {\n      if (prevParsedValue && isDisplayObject(prevParsedValue)) {\n        this.markerEndAngle = 0;\n        prevParsedValue.remove();\n      }\n      if (newParsedValue && isDisplayObject(newParsedValue)) {\n        this.markerEndAngle = newParsedValue.getLocalEulerAngles();\n        this.appendChild(newParsedValue);\n        this.transformMarker(false);\n      }\n    } else if (attrName === 'markerMid') {\n      this.placeMarkerMid(newParsedValue);\n    }\n  };\n  _proto.transformMarker = function transformMarker(isStart) {\n    var _this$parsedStyle2 = this.parsedStyle,\n      markerStart = _this$parsedStyle2.markerStart,\n      markerEnd = _this$parsedStyle2.markerEnd,\n      markerStartOffset = _this$parsedStyle2.markerStartOffset,\n      markerEndOffset = _this$parsedStyle2.markerEndOffset,\n      defX = _this$parsedStyle2.defX,\n      defY = _this$parsedStyle2.defY;\n    var marker = isStart ? markerStart : markerEnd;\n    if (!marker || !isDisplayObject(marker)) {\n      return;\n    }\n    var rad = 0;\n    var x;\n    var y;\n    var ox;\n    var oy;\n    var offset;\n    var originalAngle;\n    if (isStart) {\n      var _this$getStartTangent = this.getStartTangent(),\n        p1 = _this$getStartTangent[0],\n        p2 = _this$getStartTangent[1];\n      ox = p2[0] - defX;\n      oy = p2[1] - defY;\n      x = p1[0] - p2[0];\n      y = p1[1] - p2[1];\n      offset = markerStartOffset || 0;\n      originalAngle = this.markerStartAngle;\n    } else {\n      var _this$getEndTangent = this.getEndTangent(),\n        _p = _this$getEndTangent[0],\n        _p2 = _this$getEndTangent[1];\n      ox = _p2[0] - defX;\n      oy = _p2[1] - defY;\n      x = _p[0] - _p2[0];\n      y = _p[1] - _p2[1];\n      offset = markerEndOffset || 0;\n      originalAngle = this.markerEndAngle;\n    }\n    rad = Math.atan2(y, x);\n    // account for markerOffset\n    marker.setLocalEulerAngles(rad * 180 / Math.PI + originalAngle);\n    marker.setLocalPosition(ox + Math.cos(rad) * offset, oy + Math.sin(rad) * offset);\n  };\n  _proto.placeMarkerMid = function placeMarkerMid(marker) {\n    var _this$parsedStyle3 = this.parsedStyle,\n      segments = _this$parsedStyle3.path.segments,\n      defX = _this$parsedStyle3.defX,\n      defY = _this$parsedStyle3.defY;\n    // clear all existed markers\n    this.markerMidList.forEach(function (marker) {\n      marker.remove();\n    });\n    if (marker && isDisplayObject(marker)) {\n      for (var i = 1; i < segments.length - 1; i++) {\n        var _segments$i$currentPo = segments[i].currentPoint,\n          ox = _segments$i$currentPo[0],\n          oy = _segments$i$currentPo[1];\n        var cloned = i === 1 ? marker : marker.cloneNode(true);\n        this.markerMidList.push(cloned);\n        this.appendChild(cloned);\n        cloned.setLocalPosition(ox - defX, oy - defY);\n        // TODO: orient of marker\n      }\n    }\n  }\n  /**\r\n   * Returns the total length of the path.\r\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/SVGGeometryElement/getTotalLength\r\n   */;\n  _proto.getTotalLength = function getTotalLength() {\n    return getOrCalculatePathTotalLength(this);\n  }\n  /**\r\n   * Returns the point at a given distance along the path.\r\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/SVGGeometryElement/getPointAtLength\r\n   */;\n  _proto.getPointAtLength = function getPointAtLength$1(distance, inWorldSpace) {\n    if (inWorldSpace === void 0) {\n      inWorldSpace = false;\n    }\n    var _this$parsedStyle4 = this.parsedStyle,\n      defX = _this$parsedStyle4.defX,\n      defY = _this$parsedStyle4.defY,\n      absolutePath = _this$parsedStyle4.path.absolutePath;\n    var _getPointAtLength2 = getPointAtLength(absolutePath, distance),\n      x = _getPointAtLength2.x,\n      y = _getPointAtLength2.y;\n    var transformed = vec3.transformMat4(vec3.create(), vec3.fromValues(x - defX, y - defY, 0), inWorldSpace ? this.getWorldTransform() : this.getLocalTransform());\n    // apply local transformation\n    return new Point(transformed[0], transformed[1]);\n  }\n  /**\r\n   * Returns the point at a given ratio of the total length in path.\r\n   */;\n  _proto.getPoint = function getPoint(ratio, inWorldSpace) {\n    if (inWorldSpace === void 0) {\n      inWorldSpace = false;\n    }\n    return this.getPointAtLength(ratio * getOrCalculatePathTotalLength(this), inWorldSpace);\n  }\n  /**\r\n   * Get start tangent vector\r\n   */;\n  _proto.getStartTangent = function getStartTangent() {\n    var segments = this.parsedStyle.path.segments;\n    var result = [];\n    if (segments.length > 1) {\n      var startPoint = segments[0].currentPoint;\n      var endPoint = segments[1].currentPoint;\n      var tangent = segments[1].startTangent;\n      result = [];\n      if (tangent) {\n        result.push([startPoint[0] - tangent[0], startPoint[1] - tangent[1]]);\n        result.push([startPoint[0], startPoint[1]]);\n      } else {\n        result.push([endPoint[0], endPoint[1]]);\n        result.push([startPoint[0], startPoint[1]]);\n      }\n    }\n    return result;\n  }\n  /**\r\n   * Get end tangent vector\r\n   */;\n  _proto.getEndTangent = function getEndTangent() {\n    var segments = this.parsedStyle.path.segments;\n    var length = segments.length;\n    var result = [];\n    if (length > 1) {\n      var startPoint = segments[length - 2].currentPoint;\n      var endPoint = segments[length - 1].currentPoint;\n      var tangent = segments[length - 1].endTangent;\n      result = [];\n      if (tangent) {\n        result.push([endPoint[0] - tangent[0], endPoint[1] - tangent[1]]);\n        result.push([endPoint[0], endPoint[1]]);\n      } else {\n        result.push([startPoint[0], startPoint[1]]);\n        result.push([endPoint[0], endPoint[1]]);\n      }\n    }\n    return result;\n  };\n  return Path;\n}(DisplayObject);\n\nvar _excluded$8 = [\"style\"];\nvar Polygon = /*#__PURE__*/function (_DisplayObject) {\n  _inheritsLoose(Polygon, _DisplayObject);\n  /**\r\n   * markers placed at the mid\r\n   */\n\n  function Polygon(_temp) {\n    var _this;\n    var _ref = _temp === void 0 ? {} : _temp,\n      style = _ref.style,\n      rest = _objectWithoutPropertiesLoose(_ref, _excluded$8);\n    _this = _DisplayObject.call(this, _extends({\n      type: Shape.POLYGON,\n      style: runtime.enableCSSParsing ? _extends({\n        points: '',\n        miterLimit: '',\n        isClosed: true\n      }, style) : _extends({}, style),\n      initialParsedStyle: runtime.enableCSSParsing ? null : {\n        points: {\n          points: [],\n          totalLength: 0,\n          segments: []\n        },\n        miterLimit: 4,\n        isClosed: true\n      }\n    }, rest)) || this;\n    _this.markerStartAngle = 0;\n    _this.markerEndAngle = 0;\n    _this.markerMidList = [];\n    var _this$parsedStyle = _this.parsedStyle,\n      markerStart = _this$parsedStyle.markerStart,\n      markerEnd = _this$parsedStyle.markerEnd,\n      markerMid = _this$parsedStyle.markerMid;\n    if (markerStart && isDisplayObject(markerStart)) {\n      _this.markerStartAngle = markerStart.getLocalEulerAngles();\n      _this.appendChild(markerStart);\n    }\n    if (markerMid && isDisplayObject(markerMid)) {\n      _this.placeMarkerMid(markerMid);\n    }\n    if (markerEnd && isDisplayObject(markerEnd)) {\n      _this.markerEndAngle = markerEnd.getLocalEulerAngles();\n      _this.appendChild(markerEnd);\n    }\n    _this.transformMarker(true);\n    _this.transformMarker(false);\n    return _this;\n  }\n  var _proto = Polygon.prototype;\n  _proto.attributeChangedCallback = function attributeChangedCallback(attrName, oldValue, newValue, prevParsedValue, newParsedValue) {\n    if (attrName === 'points') {\n      // recalc markers\n      this.transformMarker(true);\n      this.transformMarker(false);\n      this.placeMarkerMid(this.parsedStyle.markerMid);\n    } else if (attrName === 'markerStartOffset' || attrName === 'markerEndOffset') {\n      this.transformMarker(true);\n      this.transformMarker(false);\n    } else if (attrName === 'markerStart') {\n      if (prevParsedValue && isDisplayObject(prevParsedValue)) {\n        this.markerStartAngle = 0;\n        prevParsedValue.remove();\n      }\n      // CSSKeyword 'unset'\n      if (newParsedValue && isDisplayObject(newParsedValue)) {\n        this.markerStartAngle = newParsedValue.getLocalEulerAngles();\n        this.appendChild(newParsedValue);\n        this.transformMarker(true);\n      }\n    } else if (attrName === 'markerEnd') {\n      if (prevParsedValue && isDisplayObject(prevParsedValue)) {\n        this.markerEndAngle = 0;\n        prevParsedValue.remove();\n      }\n      if (newParsedValue && isDisplayObject(newParsedValue)) {\n        this.markerEndAngle = newParsedValue.getLocalEulerAngles();\n        this.appendChild(newParsedValue);\n        this.transformMarker(false);\n      }\n    } else if (attrName === 'markerMid') {\n      this.placeMarkerMid(newParsedValue);\n    }\n  };\n  _proto.transformMarker = function transformMarker(isStart) {\n    var _this$parsedStyle2 = this.parsedStyle,\n      markerStart = _this$parsedStyle2.markerStart,\n      markerEnd = _this$parsedStyle2.markerEnd,\n      markerStartOffset = _this$parsedStyle2.markerStartOffset,\n      markerEndOffset = _this$parsedStyle2.markerEndOffset,\n      points = _this$parsedStyle2.points.points,\n      defX = _this$parsedStyle2.defX,\n      defY = _this$parsedStyle2.defY;\n    var marker = isStart ? markerStart : markerEnd;\n    if (!marker || !isDisplayObject(marker)) {\n      return;\n    }\n    var rad = 0;\n    var x;\n    var y;\n    var ox;\n    var oy;\n    var offset;\n    var originalAngle;\n    ox = points[0][0] - defX;\n    oy = points[0][1] - defY;\n    if (isStart) {\n      x = points[1][0] - points[0][0];\n      y = points[1][1] - points[0][1];\n      offset = markerStartOffset || 0;\n      originalAngle = this.markerStartAngle;\n    } else {\n      var length = points.length;\n      if (!this.parsedStyle.isClosed) {\n        ox = points[length - 1][0] - defX;\n        oy = points[length - 1][1] - defY;\n        x = points[length - 2][0] - points[length - 1][0];\n        y = points[length - 2][1] - points[length - 1][1];\n      } else {\n        x = points[length - 1][0] - points[0][0];\n        y = points[length - 1][1] - points[0][1];\n      }\n      offset = markerEndOffset || 0;\n      originalAngle = this.markerEndAngle;\n    }\n    rad = Math.atan2(y, x);\n    // account for markerOffset\n    marker.setLocalEulerAngles(rad * 180 / Math.PI + originalAngle);\n    marker.setLocalPosition(ox + Math.cos(rad) * offset, oy + Math.sin(rad) * offset);\n  };\n  _proto.placeMarkerMid = function placeMarkerMid(marker) {\n    var _this$parsedStyle3 = this.parsedStyle,\n      points = _this$parsedStyle3.points.points,\n      defX = _this$parsedStyle3.defX,\n      defY = _this$parsedStyle3.defY;\n    // clear all existed markers\n    this.markerMidList.forEach(function (marker) {\n      marker.remove();\n    });\n    this.markerMidList = [];\n    if (marker && isDisplayObject(marker)) {\n      for (var i = 1; i < (this.parsedStyle.isClosed ? points.length : points.length - 1); i++) {\n        var ox = points[i][0] - defX;\n        var oy = points[i][1] - defY;\n        var cloned = i === 1 ? marker : marker.cloneNode(true);\n        this.markerMidList.push(cloned);\n        this.appendChild(cloned);\n        cloned.setLocalPosition(ox, oy);\n        // TODO: orient of marker\n      }\n    }\n  };\n  return Polygon;\n}(DisplayObject);\n\nvar _excluded$9 = [\"style\"];\n/**\r\n * Polyline inherits the marker-related capabilities of Polygon.\r\n */\nvar Polyline = /*#__PURE__*/function (_Polygon) {\n  _inheritsLoose(Polyline, _Polygon);\n  function Polyline(_temp) {\n    var _ref = _temp === void 0 ? {} : _temp,\n      style = _ref.style,\n      rest = _objectWithoutPropertiesLoose(_ref, _excluded$9);\n    return _Polygon.call(this, _extends({\n      type: Shape.POLYLINE,\n      style: runtime.enableCSSParsing ? _extends({\n        points: '',\n        miterLimit: '',\n        isClosed: false\n      }, style) : _extends({}, style),\n      initialParsedStyle: runtime.enableCSSParsing ? null : {\n        points: {\n          points: [],\n          totalLength: 0,\n          segments: []\n        },\n        miterLimit: 4,\n        isClosed: false\n      }\n    }, rest)) || this;\n  }\n  var _proto = Polyline.prototype;\n  _proto.getTotalLength = function getTotalLength() {\n    return this.parsedStyle.points.totalLength;\n  };\n  _proto.getPointAtLength = function getPointAtLength(distance, inWorldSpace) {\n    if (inWorldSpace === void 0) {\n      inWorldSpace = false;\n    }\n    return this.getPoint(distance / this.getTotalLength(), inWorldSpace);\n  };\n  _proto.getPoint = function getPoint(ratio, inWorldSpace) {\n    if (inWorldSpace === void 0) {\n      inWorldSpace = false;\n    }\n    var _this$parsedStyle = this.parsedStyle,\n      defX = _this$parsedStyle.defX,\n      defY = _this$parsedStyle.defY,\n      _this$parsedStyle$poi = _this$parsedStyle.points,\n      points = _this$parsedStyle$poi.points,\n      segments = _this$parsedStyle$poi.segments;\n    var subt = 0;\n    var index = 0;\n    segments.forEach(function (v, i) {\n      if (ratio >= v[0] && ratio <= v[1]) {\n        subt = (ratio - v[0]) / (v[1] - v[0]);\n        index = i;\n      }\n    });\n    var _LineUtil$pointAt = Line$1.pointAt(points[index][0], points[index][1], points[index + 1][0], points[index + 1][1], subt),\n      x = _LineUtil$pointAt.x,\n      y = _LineUtil$pointAt.y;\n    var transformed = vec3.transformMat4(vec3.create(), vec3.fromValues(x - defX, y - defY, 0), inWorldSpace ? this.getWorldTransform() : this.getLocalTransform());\n    // apply local transformation\n    return new Point(transformed[0], transformed[1]);\n  };\n  _proto.getStartTangent = function getStartTangent() {\n    var points = this.parsedStyle.points.points;\n    var result = [];\n    result.push([points[1][0], points[1][1]]);\n    result.push([points[0][0], points[0][1]]);\n    return result;\n  };\n  _proto.getEndTangent = function getEndTangent() {\n    var points = this.parsedStyle.points.points;\n    var l = points.length - 1;\n    var result = [];\n    result.push([points[l - 1][0], points[l - 1][1]]);\n    result.push([points[l][0], points[l][1]]);\n    return result;\n  };\n  return Polyline;\n}(Polygon);\n\nvar _excluded$a = [\"style\"];\nvar Rect = /*#__PURE__*/function (_DisplayObject) {\n  _inheritsLoose(Rect, _DisplayObject);\n  function Rect(_temp) {\n    var _ref = _temp === void 0 ? {} : _temp,\n      style = _ref.style,\n      rest = _objectWithoutPropertiesLoose(_ref, _excluded$a);\n    return _DisplayObject.call(this, _extends({\n      type: Shape.RECT,\n      style: runtime.enableCSSParsing ? _extends({\n        x: '',\n        y: '',\n        width: '',\n        height: '',\n        radius: ''\n      }, style) : _extends({}, style)\n    }, rest)) || this;\n  }\n  return Rect;\n}(DisplayObject);\n\nvar _excluded$b = [\"style\"];\n/**\r\n * <text> @see https://developer.mozilla.org/en-US/docs/Web/API/SVGTextElement\r\n */\nvar Text = /*#__PURE__*/function (_DisplayObject) {\n  _inheritsLoose(Text, _DisplayObject);\n  /**\r\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/SVGTextContentElement#constants\r\n   */\n  // LENGTHADJUST_SPACING: number = 1;\n  // LENGTHADJUST_SPACINGANDGLYPHS: number = 2;\n  // LENGTHADJUST_UNKNOWN: number = 0;\n  function Text(_temp) {\n    var _ref = _temp === void 0 ? {} : _temp,\n      style = _ref.style,\n      rest = _objectWithoutPropertiesLoose(_ref, _excluded$b);\n    return _DisplayObject.call(this, _extends({\n      type: Shape.TEXT,\n      style: runtime.enableCSSParsing ? _extends({\n        x: '',\n        y: '',\n        text: '',\n        fontSize: '',\n        fontFamily: '',\n        fontStyle: '',\n        fontWeight: '',\n        fontVariant: '',\n        textAlign: '',\n        textBaseline: '',\n        textTransform: '',\n        fill: 'black',\n        letterSpacing: '',\n        lineHeight: '',\n        miterLimit: '',\n        // whiteSpace: 'pre',\n        wordWrap: false,\n        wordWrapWidth: 0,\n        leading: 0,\n        dx: '',\n        dy: ''\n      }, style) : _extends({\n        fill: 'black'\n      }, style),\n      initialParsedStyle: runtime.enableCSSParsing ? {} : {\n        x: 0,\n        y: 0,\n        fontSize: 16,\n        fontFamily: 'sans-serif',\n        fontStyle: 'normal',\n        fontWeight: 'normal',\n        fontVariant: 'normal',\n        lineHeight: 0,\n        letterSpacing: 0,\n        textBaseline: 'alphabetic',\n        textAlign: 'start',\n        wordWrap: false,\n        wordWrapWidth: 0,\n        leading: 0,\n        dx: 0,\n        dy: 0\n      }\n    }, rest)) || this;\n  }\n  // lengthAdjust: SVGAnimatedEnumeration;\n  // textLength: SVGAnimatedLength;\n  // getCharNumAtPosition(point?: DOMPointInit): number {\n  //   throw new Error('Method not implemented.');\n  // }\n  /**\r\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/SVGTextContentElement\r\n   */\n  var _proto = Text.prototype;\n  _proto.getComputedTextLength = function getComputedTextLength() {\n    var _this$parsedStyle$met;\n    return ((_this$parsedStyle$met = this.parsedStyle.metrics) === null || _this$parsedStyle$met === void 0 ? void 0 : _this$parsedStyle$met.maxLineWidth) || 0;\n  }\n  // getEndPositionOfChar(charnum: number): DOMPoint {\n  //   throw new Error('Method not implemented.');\n  // }\n  // getExtentOfChar(charnum: number): DOMRect {\n  //   throw new Error('Method not implemented.');\n  // }\n  // getNumberOfChars(): number {\n  //   throw new Error('Method not implemented.');\n  // }\n  // getRotationOfChar(charnum: number): number {\n  //   throw new Error('Method not implemented.');\n  // }\n  // getStartPositionOfChar(charnum: number): DOMPoint {\n  //   throw new Error('Method not implemented.');\n  // }\n  // getSubStringLength(charnum: number, nchars: number): number {\n  //   throw new Error('Method not implemented.');\n  // }\n  // selectSubString(charnum: number, nchars: number): void {\n  //   throw new Error('Method not implemented.');\n  // }\n  ;\n  _proto.getLineBoundingRects = function getLineBoundingRects() {\n    var _this$parsedStyle$met2;\n    return ((_this$parsedStyle$met2 = this.parsedStyle.metrics) === null || _this$parsedStyle$met2 === void 0 ? void 0 : _this$parsedStyle$met2.lineMetrics) || [];\n  };\n  _proto.isOverflowing = function isOverflowing() {\n    return !!this.parsedStyle.isOverflowing;\n  };\n  return Text;\n}(DisplayObject);\n\n/**\r\n * Blink used them in code generation(css_properties.json5)\r\n */\nvar BUILT_IN_PROPERTIES = [{\n  /**\r\n   * used in CSS Layout API\r\n   * eg. `display: 'flex'`\r\n   */\n  n: 'display',\n  k: ['none']\n}, {\n  /**\r\n   * range [0.0, 1.0]\r\n   * @see https://developer.mozilla.org/en-US/docs/Web/CSS/opacity\r\n   */\n  n: 'opacity',\n  int: true,\n  inh: true,\n  d: '1',\n  syntax: PropertySyntax.OPACITY_VALUE\n}, {\n  /**\r\n   * inheritable, range [0.0, 1.0]\r\n   * @see https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/fill-opacity\r\n   * @see https://svgwg.org/svg2-draft/painting.html#FillOpacity\r\n   */\n  n: 'fillOpacity',\n  int: true,\n  inh: true,\n  d: '1',\n  syntax: PropertySyntax.OPACITY_VALUE\n}, {\n  /**\r\n   * inheritable, range [0.0, 1.0]\r\n   * @see https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/stroke-opacity\r\n   * @see https://svgwg.org/svg2-draft/painting.html#StrokeOpacity\r\n   */\n  n: 'strokeOpacity',\n  int: true,\n  inh: true,\n  d: '1',\n  syntax: PropertySyntax.OPACITY_VALUE\n}, {\n  /**\r\n   * background-color is not inheritable\r\n   * @see https://developer.mozilla.org/en-US/docs/Web/SVG/Tutorial/Fills_and_Strokes\r\n   */\n  n: 'fill',\n  int: true,\n  k: ['none'],\n  d: 'none',\n  syntax: PropertySyntax.PAINT\n}, {\n  n: 'fillRule',\n  k: ['nonzero', 'evenodd'],\n  d: 'nonzero'\n},\n/**\r\n * default to none\r\n * @see https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/stroke#usage_notes\r\n */\n{\n  n: 'stroke',\n  int: true,\n  k: ['none'],\n  d: 'none',\n  syntax: PropertySyntax.PAINT\n}, {\n  n: 'shadowType',\n  k: ['inner', 'outer', 'both'],\n  d: 'outer',\n  l: true\n}, {\n  n: 'shadowColor',\n  int: true,\n  syntax: PropertySyntax.COLOR\n}, {\n  n: 'shadowOffsetX',\n  int: true,\n  l: true,\n  d: '0',\n  syntax: PropertySyntax.LENGTH_PERCENTAGE\n}, {\n  n: 'shadowOffsetY',\n  int: true,\n  l: true,\n  d: '0',\n  syntax: PropertySyntax.LENGTH_PERCENTAGE\n}, {\n  n: 'shadowBlur',\n  int: true,\n  l: true,\n  d: '0',\n  syntax: PropertySyntax.SHADOW_BLUR\n}, {\n  /**\r\n   * @see https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/stroke-width\r\n   */\n  n: 'lineWidth',\n  int: true,\n  inh: true,\n  d: '1',\n  l: true,\n  a: ['strokeWidth'],\n  syntax: PropertySyntax.LENGTH_PERCENTAGE\n}, {\n  n: 'increasedLineWidthForHitTesting',\n  inh: true,\n  d: '0',\n  l: true,\n  syntax: PropertySyntax.LENGTH_PERCENTAGE\n}, {\n  n: 'lineJoin',\n  inh: true,\n  l: true,\n  a: ['strokeLinejoin'],\n  k: ['miter', 'bevel', 'round'],\n  d: 'miter'\n}, {\n  n: 'lineCap',\n  inh: true,\n  l: true,\n  a: ['strokeLinecap'],\n  k: ['butt', 'round', 'square'],\n  d: 'butt'\n}, {\n  n: 'lineDash',\n  int: true,\n  inh: true,\n  k: ['none'],\n  a: ['strokeDasharray'],\n  syntax: PropertySyntax.LENGTH_PERCENTAGE_12\n}, {\n  n: 'lineDashOffset',\n  int: true,\n  inh: true,\n  d: '0',\n  a: ['strokeDashoffset'],\n  syntax: PropertySyntax.LENGTH_PERCENTAGE\n}, {\n  n: 'offsetPath',\n  syntax: PropertySyntax.DEFINED_PATH\n}, {\n  n: 'offsetDistance',\n  int: true,\n  syntax: PropertySyntax.OFFSET_DISTANCE\n}, {\n  n: 'dx',\n  int: true,\n  l: true,\n  d: '0',\n  syntax: PropertySyntax.LENGTH_PERCENTAGE\n}, {\n  n: 'dy',\n  int: true,\n  l: true,\n  d: '0',\n  syntax: PropertySyntax.LENGTH_PERCENTAGE\n}, {\n  n: 'zIndex',\n  ind: true,\n  int: true,\n  d: '0',\n  k: ['auto'],\n  syntax: PropertySyntax.Z_INDEX\n}, {\n  n: 'visibility',\n  k: ['visible', 'hidden'],\n  ind: true,\n  inh: true,\n  /**\r\n   * support interpolation\r\n   * @see https://developer.mozilla.org/en-US/docs/Web/CSS/visibility#interpolation\r\n   */\n  int: true,\n  d: 'visible'\n}, {\n  n: 'pointerEvents',\n  inh: true,\n  k: ['none', 'auto', 'stroke', 'fill', 'painted', 'visible', 'visiblestroke', 'visiblefill', 'visiblepainted',\n  // 'bounding-box',\n  'all'],\n  d: 'auto'\n}, {\n  n: 'filter',\n  ind: true,\n  l: true,\n  k: ['none'],\n  d: 'none',\n  syntax: PropertySyntax.FILTER\n}, {\n  n: 'clipPath',\n  syntax: PropertySyntax.DEFINED_PATH\n}, {\n  n: 'textPath',\n  syntax: PropertySyntax.DEFINED_PATH\n}, {\n  n: 'textPathSide',\n  k: ['left', 'right'],\n  d: 'left'\n}, {\n  n: 'textPathStartOffset',\n  l: true,\n  d: '0',\n  syntax: PropertySyntax.LENGTH_PERCENTAGE\n}, {\n  n: 'transform',\n  p: 100,\n  int: true,\n  k: ['none'],\n  d: 'none',\n  syntax: PropertySyntax.TRANSFORM\n}, {\n  n: 'transformOrigin',\n  p: 100,\n  // int: true,\n  d: function d(nodeName) {\n    if (nodeName === Shape.CIRCLE || nodeName === Shape.ELLIPSE) {\n      return 'center';\n    }\n    if (nodeName === Shape.TEXT) {\n      return 'text-anchor';\n    }\n    return 'left top';\n  },\n  l: true,\n  syntax: PropertySyntax.TRANSFORM_ORIGIN\n}, {\n  n: 'anchor',\n  p: 99,\n  d: function d(nodeName) {\n    if (nodeName === Shape.CIRCLE || nodeName === Shape.ELLIPSE) {\n      return '0.5 0.5';\n    }\n    return '0 0';\n  },\n  l: true,\n  syntax: PropertySyntax.LENGTH_PERCENTAGE_12\n},\n// <circle> & <ellipse>\n{\n  n: 'cx',\n  int: true,\n  d: '0',\n  syntax: PropertySyntax.COORDINATE\n}, {\n  n: 'cy',\n  int: true,\n  d: '0',\n  syntax: PropertySyntax.COORDINATE\n}, {\n  n: 'r',\n  int: true,\n  l: true,\n  d: '0',\n  syntax: PropertySyntax.LENGTH_PERCENTAGE\n}, {\n  n: 'rx',\n  int: true,\n  l: true,\n  d: '0',\n  syntax: PropertySyntax.LENGTH_PERCENTAGE\n}, {\n  n: 'ry',\n  int: true,\n  l: true,\n  d: '0',\n  syntax: PropertySyntax.LENGTH_PERCENTAGE\n},\n// Rect Image Group\n{\n  // x in local space\n  n: 'x',\n  int: true,\n  d: '0',\n  syntax: PropertySyntax.COORDINATE\n}, {\n  // y in local space\n  n: 'y',\n  int: true,\n  d: '0',\n  syntax: PropertySyntax.COORDINATE\n}, {\n  // z in local space\n  n: 'z',\n  int: true,\n  d: '0',\n  syntax: PropertySyntax.COORDINATE\n}, {\n  n: 'width',\n  int: true,\n  l: true,\n  /**\r\n   * @see https://developer.mozilla.org/zh-CN/docs/Web/CSS/width\r\n   */\n  k: ['auto', 'fit-content', 'min-content', 'max-content'],\n  d: '0',\n  syntax: PropertySyntax.LENGTH_PERCENTAGE\n}, {\n  n: 'height',\n  int: true,\n  l: true,\n  /**\r\n   * @see https://developer.mozilla.org/zh-CN/docs/Web/CSS/height\r\n   */\n  k: ['auto', 'fit-content', 'min-content', 'max-content'],\n  d: '0',\n  syntax: PropertySyntax.LENGTH_PERCENTAGE\n}, {\n  n: 'radius',\n  int: true,\n  l: true,\n  d: '0',\n  syntax: PropertySyntax.LENGTH_PERCENTAGE_14\n},\n// Line\n{\n  n: 'x1',\n  int: true,\n  l: true,\n  syntax: PropertySyntax.COORDINATE\n}, {\n  n: 'y1',\n  int: true,\n  l: true,\n  syntax: PropertySyntax.COORDINATE\n}, {\n  n: 'z1',\n  int: true,\n  l: true,\n  syntax: PropertySyntax.COORDINATE\n}, {\n  n: 'x2',\n  int: true,\n  l: true,\n  syntax: PropertySyntax.COORDINATE\n}, {\n  n: 'y2',\n  int: true,\n  l: true,\n  syntax: PropertySyntax.COORDINATE\n}, {\n  n: 'z2',\n  int: true,\n  l: true,\n  syntax: PropertySyntax.COORDINATE\n},\n// Path\n{\n  n: 'path',\n  int: true,\n  l: true,\n  d: '',\n  a: ['d'],\n  syntax: PropertySyntax.PATH,\n  p: 50\n},\n// Polyline & Polygon\n{\n  n: 'points',\n  l: true,\n  syntax: PropertySyntax.LIST_OF_POINTS,\n  p: 50\n},\n// Text\n{\n  n: 'text',\n  l: true,\n  d: '',\n  syntax: PropertySyntax.TEXT,\n  p: 50\n}, {\n  n: 'textTransform',\n  l: true,\n  inh: true,\n  k: ['capitalize', 'uppercase', 'lowercase', 'none'],\n  d: 'none',\n  syntax: PropertySyntax.TEXT_TRANSFORM,\n  p: 51 // it must get parsed after text\n}, {\n  n: 'font',\n  l: true\n}, {\n  n: 'fontSize',\n  int: true,\n  inh: true,\n  /**\r\n   * @see https://www.w3schools.com/css/css_font_size.asp\r\n   */\n  d: '16px',\n  l: true,\n  syntax: PropertySyntax.LENGTH_PERCENTAGE\n}, {\n  n: 'fontFamily',\n  l: true,\n  inh: true,\n  d: 'sans-serif'\n}, {\n  n: 'fontStyle',\n  l: true,\n  inh: true,\n  k: ['normal', 'italic', 'oblique'],\n  d: 'normal'\n}, {\n  n: 'fontWeight',\n  l: true,\n  inh: true,\n  k: ['normal', 'bold', 'bolder', 'lighter'],\n  d: 'normal'\n}, {\n  n: 'fontVariant',\n  l: true,\n  inh: true,\n  k: ['normal', 'small-caps'],\n  d: 'normal'\n}, {\n  n: 'lineHeight',\n  l: true,\n  syntax: PropertySyntax.LENGTH,\n  int: true,\n  d: '0'\n}, {\n  n: 'letterSpacing',\n  l: true,\n  syntax: PropertySyntax.LENGTH,\n  int: true,\n  d: '0'\n}, {\n  n: 'miterLimit',\n  l: true,\n  syntax: PropertySyntax.NUMBER,\n  d: function d(nodeName) {\n    if (nodeName === Shape.PATH || nodeName === Shape.POLYGON || nodeName === Shape.POLYLINE) {\n      return '4';\n    }\n    return '10';\n  }\n}, {\n  n: 'wordWrap',\n  l: true\n}, {\n  n: 'wordWrapWidth',\n  l: true\n}, {\n  n: 'maxLines',\n  l: true\n}, {\n  n: 'textOverflow',\n  l: true,\n  d: 'clip'\n}, {\n  n: 'leading',\n  l: true\n}, {\n  n: 'textBaseline',\n  l: true,\n  inh: true,\n  k: ['top', 'hanging', 'middle', 'alphabetic', 'ideographic', 'bottom'],\n  d: 'alphabetic'\n}, {\n  n: 'textAlign',\n  l: true,\n  inh: true,\n  k: ['start', 'center', 'middle', 'end', 'left', 'right'],\n  d: 'start'\n},\n// {\n//   n: 'whiteSpace',\n//   l: true,\n// },\n{\n  n: 'markerStart',\n  syntax: PropertySyntax.MARKER\n}, {\n  n: 'markerEnd',\n  syntax: PropertySyntax.MARKER\n}, {\n  n: 'markerMid',\n  syntax: PropertySyntax.MARKER\n}, {\n  n: 'markerStartOffset',\n  syntax: PropertySyntax.LENGTH,\n  l: true,\n  int: true,\n  d: '0'\n}, {\n  n: 'markerEndOffset',\n  syntax: PropertySyntax.LENGTH,\n  l: true,\n  int: true,\n  d: '0'\n}];\nvar propertyMetadataCache = {};\nvar unresolvedProperties = new WeakMap();\n// const uniqueAttributeSet = new Set<string>();\n// const tmpVec3a = vec3.create();\n// const tmpVec3b = vec3.create();\n// const tmpVec3c = vec3.create();\nvar isPropertyResolved = function isPropertyResolved(object, name) {\n  var properties = unresolvedProperties.get(object);\n  if (!properties || properties.length === 0) {\n    return true;\n  }\n  return properties.includes(name);\n};\nvar DefaultStyleValueRegistry = /*#__PURE__*/function () {\n  /**\r\n   * need recalc later\r\n   */\n  // dirty = false;\n  function DefaultStyleValueRegistry() {\n    var _this = this;\n    BUILT_IN_PROPERTIES.forEach(function (property) {\n      _this.registerMetadata(property);\n    });\n  }\n  var _proto = DefaultStyleValueRegistry.prototype;\n  _proto.registerMetadata = function registerMetadata(metadata) {\n    [metadata.n].concat(metadata.a || []).forEach(function (name) {\n      propertyMetadataCache[name] = metadata;\n    });\n  };\n  _proto.unregisterMetadata = function unregisterMetadata(name) {\n    delete propertyMetadataCache[name];\n  };\n  _proto.getPropertySyntax = function getPropertySyntax(syntax) {\n    return runtime.CSSPropertySyntaxFactory[syntax];\n  }\n  /**\r\n   * * parse value, eg.\r\n   * fill: 'red' => CSSRGB\r\n   * translateX: '10px' => CSSUnitValue { unit: 'px', value: 10 }\r\n   * fontSize: '2em' => { unit: 'px', value: 32 }\r\n   *\r\n   * * calculate used value\r\n   * * post process\r\n   */;\n  _proto.processProperties = function processProperties(object, attributes, options) {\n    var _this2 = this;\n    if (options === void 0) {\n      options = {\n        skipUpdateAttribute: false,\n        skipParse: false,\n        forceUpdateGeometry: false,\n        usedAttributes: []\n      };\n    }\n    if (!runtime.enableCSSParsing) {\n      // alias\n      // @ts-ignore\n      if (attributes.src) {\n        // @ts-ignore\n        attributes.img = attributes.src;\n      }\n      // @ts-ignore\n      if (attributes.d) {\n        // @ts-ignore\n        attributes.path = attributes.d;\n      }\n      if (attributes.strokeDasharray) {\n        attributes.lineDash = attributes.strokeDasharray;\n      }\n      if (attributes.strokeWidth) {\n        attributes.lineWidth = attributes.strokeWidth;\n      }\n      // @ts-ignore\n      if (attributes.textAnchor) {\n        // @ts-ignore\n        attributes.textAlign = attributes.textAnchor;\n      }\n      Object.assign(object.attributes, attributes);\n      var _attributeNames = Object.keys(attributes);\n      // clipPath\n      var oldClipPath = object.parsedStyle.clipPath;\n      var oldOffsetPath = object.parsedStyle.offsetPath;\n      object.parsedStyle = Object.assign(object.parsedStyle, attributes);\n      if (attributes.fill) {\n        object.parsedStyle.fill = parseColor(attributes.fill);\n      }\n      if (attributes.stroke) {\n        object.parsedStyle.stroke = parseColor(attributes.stroke);\n      }\n      if (attributes.shadowColor) {\n        object.parsedStyle.shadowColor = parseColor(attributes.shadowColor);\n      }\n      if (attributes.filter) {\n        object.parsedStyle.filter = parseFilter(attributes.filter);\n      }\n      // Rect\n      // @ts-ignore\n      if (!isNil(attributes.radius)) {\n        // @ts-ignore\n        object.parsedStyle.radius = parseDimensionArrayFormat(\n        // @ts-ignore\n        attributes.radius, 4);\n      }\n      // Polyline\n      if (!isNil(attributes.lineDash)) {\n        object.parsedStyle.lineDash = parseDimensionArrayFormat(attributes.lineDash, 2);\n      }\n      // @ts-ignore\n      if (attributes.points) {\n        // @ts-ignore\n        object.parsedStyle.points = parsePoints(attributes.points, object);\n      }\n      // Path\n      // @ts-ignore\n      if (attributes.path === '') {\n        object.parsedStyle.path = _extends({}, EMPTY_PARSED_PATH);\n      }\n      // @ts-ignore\n      if (attributes.path) {\n        object.parsedStyle.path = parsePath(\n        // @ts-ignore\n        attributes.path, object);\n      }\n      // Text\n      if (attributes.textTransform) {\n        runtime.CSSPropertySyntaxFactory['<text-transform>'].calculator(null, null, {\n          value: attributes.textTransform\n        }, object, null);\n      }\n      if (attributes.clipPath) {\n        runtime.CSSPropertySyntaxFactory['<defined-path>'].calculator('clipPath', oldClipPath, attributes.clipPath, object, this);\n      }\n      if (attributes.offsetPath) {\n        runtime.CSSPropertySyntaxFactory['<defined-path>'].calculator('offsetPath', oldOffsetPath, attributes.offsetPath, object, this);\n      }\n      if (attributes.anchor) {\n        object.parsedStyle.anchor = parseDimensionArrayFormat(\n        // @ts-ignorex\n        attributes.anchor, 2);\n      }\n      if (attributes.transform) {\n        object.parsedStyle.transform = parseTransform(attributes.transform);\n      }\n      if (attributes.transformOrigin) {\n        object.parsedStyle.transformOrigin = parseTransformOrigin(attributes.transformOrigin);\n      }\n      // Marker\n      // @ts-ignore\n      if (attributes.markerStart) {\n        // @ts-ignore\n        object.parsedStyle.markerStart = runtime.CSSPropertySyntaxFactory['<marker>'].calculator(null,\n        // @ts-ignore\n        attributes.markerStart,\n        // @ts-ignore\n        attributes.markerStart, null, null);\n      }\n      // @ts-ignore\n      if (attributes.markerEnd) {\n        // @ts-ignore\n        object.parsedStyle.markerEnd = runtime.CSSPropertySyntaxFactory['<marker>'].calculator(null,\n        // @ts-ignore\n        attributes.markerEnd,\n        // @ts-ignore\n        attributes.markerEnd, null, null);\n      }\n      // @ts-ignore\n      if (attributes.markerMid) {\n        // @ts-ignore\n        object.parsedStyle.markerMid = runtime.CSSPropertySyntaxFactory['<marker>'].calculator('',\n        // @ts-ignore\n        attributes.markerMid,\n        // @ts-ignore\n        attributes.markerMid, null, null);\n      }\n      if (\n      // Circle & Ellipse\n      (object.nodeName === Shape.CIRCLE || object.nodeName === Shape.ELLIPSE) && (\n      // @ts-ignore\n      !isNil(attributes.cx) ||\n      // @ts-ignore\n      !isNil(attributes.cy)) || (object.nodeName === Shape.RECT || object.nodeName === Shape.IMAGE || object.nodeName === Shape.GROUP || object.nodeName === Shape.HTML || object.nodeName === Shape.TEXT || object.nodeName === Shape.MESH) && (\n      // @ts-ignore\n      !isNil(attributes.x) ||\n      // @ts-ignore\n      !isNil(attributes.y) ||\n      // @ts-ignore\n      !isNil(attributes.z)) ||\n      // Line\n      object.nodeName === Shape.LINE && (\n      // @ts-ignore\n      !isNil(attributes.x1) ||\n      // @ts-ignore\n      !isNil(attributes.y1) ||\n      // @ts-ignore\n      !isNil(attributes.z1) ||\n      // @ts-ignore\n      !isNil(attributes.x2) ||\n      // @ts-ignore\n      !isNil(attributes.y2) ||\n      // @ts-ignore\n      !isNil(attributes.z2))) {\n        runtime.CSSPropertySyntaxFactory['<coordinate>'].postProcessor(object, _attributeNames);\n      }\n      if (!isNil(attributes.zIndex)) {\n        runtime.CSSPropertySyntaxFactory['<z-index>'].postProcessor(object, _attributeNames);\n      }\n      // @ts-ignore\n      if (attributes.path) {\n        runtime.CSSPropertySyntaxFactory['<path>'].postProcessor(object, _attributeNames);\n      }\n      // @ts-ignore\n      if (attributes.points) {\n        runtime.CSSPropertySyntaxFactory['<list-of-points>'].postProcessor(object, _attributeNames);\n      }\n      if (!isNil(attributes.offsetDistance)) {\n        runtime.CSSPropertySyntaxFactory['<offset-distance>'].postProcessor(object, _attributeNames);\n      }\n      if (attributes.transform) {\n        runtime.CSSPropertySyntaxFactory['<transform>'].postProcessor(object, _attributeNames);\n      }\n      this.updateGeometry(object);\n      return;\n    }\n    var _options = options,\n      skipUpdateAttribute = _options.skipUpdateAttribute,\n      skipParse = _options.skipParse,\n      forceUpdateGeometry = _options.forceUpdateGeometry,\n      usedAttributes = _options.usedAttributes;\n    var needUpdateGeometry = forceUpdateGeometry;\n    var attributeNames = Object.keys(attributes);\n    attributeNames.forEach(function (attributeName) {\n      var _propertyMetadataCach;\n      var name = formatAttributeName(attributeName);\n      if (!skipUpdateAttribute) {\n        object.attributes[name] = attributes[attributeName];\n      }\n      if (!needUpdateGeometry && ((_propertyMetadataCach = propertyMetadataCache[name]) === null || _propertyMetadataCach === void 0 ? void 0 : _propertyMetadataCach.l)) {\n        needUpdateGeometry = true;\n      }\n    });\n    if (!skipParse) {\n      attributeNames.forEach(function (name) {\n        object.computedStyle[name] = _this2.parseProperty(name, object.attributes[name], object);\n      });\n    }\n    // let hasUnresolvedProperties = false;\n    // parse according to priority\n    // path 50\n    // points 50\n    // text 50\n    // textTransform 51\n    // anchor 99\n    // transform 100\n    // transformOrigin 100\n    if (usedAttributes === null || usedAttributes === void 0 ? void 0 : usedAttributes.length) {\n      // uniqueAttributeSet.clear();\n      attributeNames = Array.from(new Set(attributeNames.concat(usedAttributes)));\n    }\n    // [\n    //   'path',\n    //   'points',\n    //   'text',\n    //   'textTransform',\n    //   'anchor',\n    //   'transform',\n    //   'transformOrigin',\n    // ].forEach((name) => {\n    //   const index = attributeNames.indexOf(name);\n    //   if (index > -1) {\n    //     attributeNames.splice(index, 1);\n    //     attributeNames.push(name);\n    //   }\n    // });\n    attributeNames.forEach(function (name) {\n      // some style props maybe deleted after parsing such as `anchor` in Text\n      if (name in object.computedStyle) {\n        object.parsedStyle[name] = _this2.computeProperty(name, object.computedStyle[name], object);\n      }\n    });\n    // if (hasUnresolvedProperties) {\n    //   this.dirty = true;\n    //   return;\n    // }\n    // update geometry\n    if (needUpdateGeometry) {\n      this.updateGeometry(object);\n    }\n    attributeNames.forEach(function (name) {\n      if (name in object.parsedStyle) {\n        _this2.postProcessProperty(name, object, attributeNames);\n      }\n    });\n    if (runtime.enableCSSParsing && object.children.length) {\n      attributeNames.forEach(function (name) {\n        if (name in object.parsedStyle && _this2.isPropertyInheritable(name)) {\n          // update children's inheritable\n          object.children.forEach(function (child) {\n            child.internalSetAttribute(name, null, {\n              skipUpdateAttribute: true,\n              skipParse: true\n            });\n          });\n        }\n      });\n    }\n  }\n  /**\r\n   * string -> parsed value\r\n   */;\n  _proto.parseProperty = function parseProperty(name, value, object) {\n    var metadata = propertyMetadataCache[name];\n    var computed = value;\n    if (value === '' || isNil(value)) {\n      value = 'unset';\n    }\n    if (value === 'unset' || value === 'initial' || value === 'inherit') {\n      // computed = new CSSKeywordValue(value);\n      computed = getOrCreateKeyword(value);\n    } else {\n      if (metadata) {\n        var keywords = metadata.k,\n          syntax = metadata.syntax;\n        var handler = syntax && this.getPropertySyntax(syntax);\n        // use keywords\n        if (keywords && keywords.indexOf(value) > -1) {\n          // computed = new CSSKeywordValue(value);\n          computed = getOrCreateKeyword(value);\n        } else if (handler && handler.parser) {\n          // try to parse it to CSSStyleValue, eg. '10px' -> CSS.px(10)\n          computed = handler.parser(value, object);\n        }\n      }\n    }\n    return computed;\n  }\n  /**\r\n   * computed value -> used value\r\n   */;\n  _proto.computeProperty = function computeProperty(name, computed, object) {\n    var metadata = propertyMetadataCache[name];\n    var isDocumentElement = object.id === 'g-root';\n    // let used: CSSStyleValue = computed instanceof CSSStyleValue ? computed.clone() : computed;\n    var used = computed;\n    if (metadata) {\n      var syntax = metadata.syntax,\n        inherited = metadata.inh,\n        defaultValue = metadata.d;\n      if (computed instanceof CSSKeywordValue) {\n        var value = computed.value;\n        /**\r\n         * @see https://developer.mozilla.org/zh-CN/docs/Web/CSS/unset\r\n         */\n        if (value === 'unset') {\n          if (inherited && !isDocumentElement) {\n            value = 'inherit';\n          } else {\n            value = 'initial';\n          }\n        }\n        if (value === 'initial') {\n          // @see https://developer.mozilla.org/en-US/docs/Web/CSS/initial\n          if (!isNil(defaultValue)) {\n            computed = this.parseProperty(name, isFunction(defaultValue) ? defaultValue(object.nodeName) : defaultValue, object);\n          }\n        } else if (value === 'inherit') {\n          // @see https://developer.mozilla.org/en-US/docs/Web/CSS/inherit\n          // behave like `inherit`\n          var resolved = this.tryToResolveProperty(object, name, {\n            inherited: true\n          });\n          if (!isNil(resolved)) {\n            // object.parsedStyle[name] = resolved;\n            // return false;\n            return resolved;\n          } else {\n            this.addUnresolveProperty(object, name);\n            return;\n          }\n        }\n      }\n      var handler = syntax && this.getPropertySyntax(syntax);\n      if (handler && handler.calculator) {\n        // convert computed value to used value\n        var oldParsedValue = object.parsedStyle[name];\n        used = handler.calculator(name, oldParsedValue, computed, object, this);\n      } else if (computed instanceof CSSKeywordValue) {\n        used = computed.value;\n      } else {\n        used = computed;\n      }\n    }\n    // object.parsedStyle[name] = used;\n    // return false;\n    return used;\n  };\n  _proto.postProcessProperty = function postProcessProperty(name, object, attributes) {\n    var metadata = propertyMetadataCache[name];\n    if (metadata && metadata.syntax) {\n      var handler = metadata.syntax && this.getPropertySyntax(metadata.syntax);\n      var propertyHandler = handler;\n      if (propertyHandler && propertyHandler.postProcessor) {\n        propertyHandler.postProcessor(object, attributes);\n      }\n    }\n  }\n  /**\r\n   * resolve later\r\n   */;\n  _proto.addUnresolveProperty = function addUnresolveProperty(object, name) {\n    var properties = unresolvedProperties.get(object);\n    if (!properties) {\n      unresolvedProperties.set(object, []);\n      properties = unresolvedProperties.get(object);\n    }\n    if (properties.indexOf(name) === -1) {\n      properties.push(name);\n    }\n  };\n  _proto.tryToResolveProperty = function tryToResolveProperty(object, name, options) {\n    if (options === void 0) {\n      options = {};\n    }\n    var _options2 = options,\n      inherited = _options2.inherited;\n    if (inherited) {\n      if (object.parentElement && isPropertyResolved(object.parentElement, name)) {\n        // const computedValue = object.parentElement.computedStyle[name];\n        var usedValue = object.parentElement.parsedStyle[name];\n        if (\n        // usedValue instanceof CSSKeywordValue &&\n        usedValue === 'unset' || usedValue === 'initial' || usedValue === 'inherit') {\n          return;\n        }\n        // else if (\n        //   usedValue instanceof CSSUnitValue &&\n        //   CSSUnitValue.isRelativeUnit(usedValue.unit)\n        // ) {\n        //   return false;\n        // }\n        return usedValue;\n      }\n    }\n    return;\n  };\n  _proto.recalc = function recalc(object) {\n    var properties = unresolvedProperties.get(object);\n    if (properties && properties.length) {\n      var attributes = {};\n      properties.forEach(function (property) {\n        attributes[property] = object.attributes[property];\n      });\n      this.processProperties(object, attributes);\n      unresolvedProperties.delete(object);\n    }\n  }\n  /**\r\n   * update geometry when relative props changed,\r\n   * eg. r of Circle, width/height of Rect\r\n   */;\n  _proto.updateGeometry = function updateGeometry(object) {\n    var geometryUpdater = runtime.geometryUpdaterFactory[object.nodeName];\n    if (geometryUpdater) {\n      var geometry = object.geometry;\n      if (!geometry.contentBounds) {\n        geometry.contentBounds = new AABB();\n      }\n      if (!geometry.renderBounds) {\n        geometry.renderBounds = new AABB();\n      }\n      var parsedStyle = object.parsedStyle;\n      var _geometryUpdater$upda = geometryUpdater.update(parsedStyle, object),\n        width = _geometryUpdater$upda.width,\n        height = _geometryUpdater$upda.height,\n        _geometryUpdater$upda2 = _geometryUpdater$upda.depth,\n        depth = _geometryUpdater$upda2 === void 0 ? 0 : _geometryUpdater$upda2,\n        _geometryUpdater$upda3 = _geometryUpdater$upda.offsetX,\n        offsetX = _geometryUpdater$upda3 === void 0 ? 0 : _geometryUpdater$upda3,\n        _geometryUpdater$upda4 = _geometryUpdater$upda.offsetY,\n        offsetY = _geometryUpdater$upda4 === void 0 ? 0 : _geometryUpdater$upda4,\n        _geometryUpdater$upda5 = _geometryUpdater$upda.offsetZ,\n        offsetZ = _geometryUpdater$upda5 === void 0 ? 0 : _geometryUpdater$upda5;\n      // account for negative width / height of Rect\n      // @see https://github.com/antvis/g/issues/957\n      var flipY = width < 0;\n      var flipX = height < 0;\n      // init with content box\n      var halfExtents = [Math.abs(width) / 2, Math.abs(height) / 2, depth / 2];\n      // const halfExtents = vec3.set(\n      //   tmpVec3a,\n      //   Math.abs(width) / 2,\n      //   Math.abs(height) / 2,\n      //   depth / 2,\n      // );\n      // anchor is center by default, don't account for lineWidth here\n      var stroke = parsedStyle.stroke,\n        lineWidth = parsedStyle.lineWidth,\n        increasedLineWidthForHitTesting = parsedStyle.increasedLineWidthForHitTesting,\n        shadowType = parsedStyle.shadowType,\n        shadowColor = parsedStyle.shadowColor,\n        _parsedStyle$filter = parsedStyle.filter,\n        filter = _parsedStyle$filter === void 0 ? [] : _parsedStyle$filter,\n        transformOrigin = parsedStyle.transformOrigin;\n      var anchor = parsedStyle.anchor;\n      // <Text> use textAlign & textBaseline instead of anchor\n      if (object.nodeName === Shape.TEXT) {\n        delete parsedStyle.anchor;\n      }\n      var center = [(1 - (anchor && anchor[0] || 0) * 2) * width / 2 + offsetX, (1 - (anchor && anchor[1] || 0) * 2) * height / 2 + offsetY, (1 - (anchor && anchor[2] || 0) * 2) * halfExtents[2] + offsetZ];\n      // const center = vec3.set(\n      //   tmpVec3b,\n      //   ((1 - ((anchor && anchor[0]) || 0) * 2) * width) / 2 + offsetX,\n      //   ((1 - ((anchor && anchor[1]) || 0) * 2) * height) / 2 + offsetY,\n      //   (1 - ((anchor && anchor[2]) || 0) * 2) * halfExtents[2] + offsetZ,\n      // );\n      // update geometry's AABB\n      geometry.contentBounds.update(center, halfExtents);\n      // @see https://github.molgen.mpg.de/git-mirror/cairo/blob/master/src/cairo-stroke-style.c#L97..L128\n      var expansion = object.nodeName === Shape.POLYLINE || object.nodeName === Shape.POLYGON || object.nodeName === Shape.PATH ? Math.SQRT2 : 0.5;\n      // if (lineCap?.value === 'square') {\n      //   expansion = Math.SQRT1_2;\n      // }\n      // if (lineJoin?.value === 'miter' && expansion < Math.SQRT2 * miterLimit) {\n      //   expansion = Math.SQRT1_2 * miterLimit;\n      // }\n      // append border only if stroke existed\n      var hasStroke = stroke && !stroke.isNone;\n      if (hasStroke) {\n        var halfLineWidth = ((lineWidth || 0) + (increasedLineWidthForHitTesting || 0)) * expansion;\n        // halfExtents[0] += halfLineWidth[0];\n        // halfExtents[1] += halfLineWidth[1];\n        halfExtents[0] += halfLineWidth;\n        halfExtents[1] += halfLineWidth;\n        // vec3.add(\n        //   halfExtents,\n        //   halfExtents,\n        //   vec3.set(tmpVec3c, halfLineWidth, halfLineWidth, 0),\n        // );\n      }\n\n      geometry.renderBounds.update(center, halfExtents);\n      // account for shadow, only support constant value now\n      if (shadowColor && shadowType && shadowType !== 'inner') {\n        var _geometry$renderBound = geometry.renderBounds,\n          min = _geometry$renderBound.min,\n          max = _geometry$renderBound.max;\n        var shadowBlur = parsedStyle.shadowBlur,\n          shadowOffsetX = parsedStyle.shadowOffsetX,\n          shadowOffsetY = parsedStyle.shadowOffsetY;\n        var shadowBlurInPixels = shadowBlur || 0;\n        var shadowOffsetXInPixels = shadowOffsetX || 0;\n        var shadowOffsetYInPixels = shadowOffsetY || 0;\n        var shadowLeft = min[0] - shadowBlurInPixels + shadowOffsetXInPixels;\n        var shadowRight = max[0] + shadowBlurInPixels + shadowOffsetXInPixels;\n        var shadowTop = min[1] - shadowBlurInPixels + shadowOffsetYInPixels;\n        var shadowBottom = max[1] + shadowBlurInPixels + shadowOffsetYInPixels;\n        min[0] = Math.min(min[0], shadowLeft);\n        max[0] = Math.max(max[0], shadowRight);\n        min[1] = Math.min(min[1], shadowTop);\n        max[1] = Math.max(max[1], shadowBottom);\n        geometry.renderBounds.setMinMax(min, max);\n      }\n      // account for filter, eg. blur(5px), drop-shadow()\n      filter.forEach(function (_ref) {\n        var name = _ref.name,\n          params = _ref.params;\n        if (name === 'blur') {\n          var blurRadius = params[0].value;\n          geometry.renderBounds.update(geometry.renderBounds.center, addVec3(geometry.renderBounds.halfExtents, geometry.renderBounds.halfExtents, [blurRadius, blurRadius, 0]));\n        } else if (name === 'drop-shadow') {\n          var _shadowOffsetX = params[0].value;\n          var _shadowOffsetY = params[1].value;\n          var _shadowBlur = params[2].value;\n          var _geometry$renderBound2 = geometry.renderBounds,\n            _min = _geometry$renderBound2.min,\n            _max = _geometry$renderBound2.max;\n          var _shadowLeft = _min[0] - _shadowBlur + _shadowOffsetX;\n          var _shadowRight = _max[0] + _shadowBlur + _shadowOffsetX;\n          var _shadowTop = _min[1] - _shadowBlur + _shadowOffsetY;\n          var _shadowBottom = _max[1] + _shadowBlur + _shadowOffsetY;\n          _min[0] = Math.min(_min[0], _shadowLeft);\n          _max[0] = Math.max(_max[0], _shadowRight);\n          _min[1] = Math.min(_min[1], _shadowTop);\n          _max[1] = Math.max(_max[1], _shadowBottom);\n          geometry.renderBounds.setMinMax(_min, _max);\n        }\n      });\n      anchor = parsedStyle.anchor;\n      // set transform origin\n      var usedOriginXValue = (flipY ? -1 : 1) * (transformOrigin ? convertPercentUnit(transformOrigin[0], 0, object) : 0);\n      var usedOriginYValue = (flipX ? -1 : 1) * (transformOrigin ? convertPercentUnit(transformOrigin[1], 1, object) : 0);\n      usedOriginXValue = usedOriginXValue - (flipY ? -1 : 1) * (anchor && anchor[0] || 0) * geometry.contentBounds.halfExtents[0] * 2;\n      usedOriginYValue = usedOriginYValue - (flipX ? -1 : 1) * (anchor && anchor[1] || 0) * geometry.contentBounds.halfExtents[1] * 2;\n      object.setOrigin(usedOriginXValue, usedOriginYValue);\n      runtime.sceneGraphService.dirtifyToRoot(object);\n    }\n  };\n  _proto.isPropertyInheritable = function isPropertyInheritable(name) {\n    var metadata = propertyMetadataCache[name];\n    if (!metadata) {\n      return false;\n    }\n    return metadata.inh;\n  };\n  return DefaultStyleValueRegistry;\n}();\n\n/**\r\n * Different type of cameras, eg. simple camera used in 2D scene or\r\n * advanced camera which can do actions & switch between landmarks.\r\n */\nvar CameraType;\n(function (CameraType) {\n  /**\r\n   * Performs all the rotational operations with the focal point instead of the camera position.\r\n   * This type of camera is useful in applications(like CAD) where 3D objects are being designed or explored.\r\n   * Camera cannot orbits over the north & south poles.\r\n   * @see http://voxelent.com/tutorial-cameras/\r\n   *\r\n   * In Three.js it's used in OrbitControls.\r\n   * @see https://threejs.org/docs/#examples/zh/controls/OrbitControls\r\n   */\n  CameraType[CameraType[\"ORBITING\"] = 0] = \"ORBITING\";\n  /**\r\n   * It's similar to the ORBITING camera, but it allows the camera to orbit over the north or south poles.\r\n   *\r\n   * In Three.js it's used in OrbitControls.\r\n   * @see https://threejs.org/docs/#examples/en/controls/TrackballControls\r\n   */\n  CameraType[CameraType[\"EXPLORING\"] = 1] = \"EXPLORING\";\n  /**\r\n   * Performs all the rotational operations with the camera position.\r\n   * It's useful in first person shooting games.\r\n   * Camera cannot orbits over the north & south poles.\r\n   *\r\n   * In Three.js it's used in FirstPersonControls.\r\n   * @see https://threejs.org/docs/#examples/en/controls/FirstPersonControls\r\n   */\n  CameraType[CameraType[\"TRACKING\"] = 2] = \"TRACKING\";\n})(CameraType || (CameraType = {}));\n/**\r\n * CameraType must be TRACKING\r\n */\nvar CameraTrackingMode;\n(function (CameraTrackingMode) {\n  CameraTrackingMode[CameraTrackingMode[\"DEFAULT\"] = 0] = \"DEFAULT\";\n  CameraTrackingMode[CameraTrackingMode[\"ROTATIONAL\"] = 1] = \"ROTATIONAL\";\n  CameraTrackingMode[CameraTrackingMode[\"TRANSLATIONAL\"] = 2] = \"TRANSLATIONAL\";\n  CameraTrackingMode[CameraTrackingMode[\"CINEMATIC\"] = 3] = \"CINEMATIC\";\n})(CameraTrackingMode || (CameraTrackingMode = {}));\nvar CameraProjectionMode;\n(function (CameraProjectionMode) {\n  CameraProjectionMode[CameraProjectionMode[\"ORTHOGRAPHIC\"] = 0] = \"ORTHOGRAPHIC\";\n  CameraProjectionMode[CameraProjectionMode[\"PERSPECTIVE\"] = 1] = \"PERSPECTIVE\";\n})(CameraProjectionMode || (CameraProjectionMode = {}));\nvar CameraEvent = {\n  UPDATED: 'updated'\n};\n\nvar MIN_DISTANCE = 0.0002;\n/**\r\n * 参考「WebGL Insights - 23.Designing Cameras for WebGL Applications」，基于 Responsible Camera 思路设计\r\n * @see https://github.com/d13g0/nucleo.js/blob/master/source/camera/Camera.js\r\n *\r\n * 保存相机参数，定义相机动作：\r\n * 1. dolly 沿 n 轴移动\r\n * 2. pan 沿 u v 轴移动\r\n * 3. rotate 以方位角旋转\r\n * 4. 移动到 Landmark，具有平滑的动画效果，其间禁止其他用户交互\r\n */\nvar Camera = /*#__PURE__*/function () {\n  function Camera() {\n    this.canvas = void 0;\n    this.eventEmitter = new EventEmitter();\n    this.matrix = mat4.create();\n    this.right = vec3.fromValues(1, 0, 0);\n    this.up = vec3.fromValues(0, 1, 0);\n    this.forward = vec3.fromValues(0, 0, 1);\n    this.position = vec3.fromValues(0, 0, 1);\n    this.focalPoint = vec3.fromValues(0, 0, 0);\n    this.distanceVector = vec3.fromValues(0, 0, -1);\n    this.distance = 1;\n    this.azimuth = 0;\n    this.elevation = 0;\n    this.roll = 0;\n    this.relAzimuth = 0;\n    this.relElevation = 0;\n    this.relRoll = 0;\n    this.dollyingStep = 0;\n    this.maxDistance = Infinity;\n    this.minDistance = -Infinity;\n    this.zoom = 1;\n    this.rotateWorld = false;\n    this.fov = 30;\n    this.near = 0.1;\n    this.far = 1000;\n    this.aspect = 1;\n    this.left = void 0;\n    this.rright = void 0;\n    this.top = void 0;\n    this.bottom = void 0;\n    this.projectionMatrix = mat4.create();\n    this.projectionMatrixInverse = mat4.create();\n    this.jitteredProjectionMatrix = undefined;\n    this.view = void 0;\n    this.enableUpdate = true;\n    this.type = CameraType.EXPLORING;\n    this.trackingMode = CameraTrackingMode.DEFAULT;\n    this.projectionMode = CameraProjectionMode.PERSPECTIVE;\n    this.frustum = new Frustum();\n    this.orthoMatrix = mat4.create();\n  }\n  var _proto = Camera.prototype;\n  // constructor(type = CameraType.EXPLORING, trackingMode = CameraTrackingMode.DEFAULT) {\n  //   this.setType(type, trackingMode);\n  // }\n  _proto.isOrtho = function isOrtho() {\n    return this.projectionMode === CameraProjectionMode.ORTHOGRAPHIC;\n  };\n  _proto.getProjectionMode = function getProjectionMode() {\n    return this.projectionMode;\n  };\n  _proto.getPerspective = function getPerspective() {\n    // account for TAA\n    return this.jitteredProjectionMatrix || this.projectionMatrix;\n  };\n  _proto.getPerspectiveInverse = function getPerspectiveInverse() {\n    return this.projectionMatrixInverse;\n  };\n  _proto.getFrustum = function getFrustum() {\n    return this.frustum;\n  };\n  _proto.getPosition = function getPosition() {\n    return this.position;\n  };\n  _proto.getFocalPoint = function getFocalPoint() {\n    return this.focalPoint;\n  };\n  _proto.getDollyingStep = function getDollyingStep() {\n    return this.dollyingStep;\n  };\n  _proto.getNear = function getNear() {\n    return this.near;\n  };\n  _proto.getFar = function getFar() {\n    return this.far;\n  };\n  _proto.getZoom = function getZoom() {\n    return this.zoom;\n  };\n  _proto.getOrthoMatrix = function getOrthoMatrix() {\n    return this.orthoMatrix;\n  };\n  _proto.getView = function getView() {\n    return this.view;\n  };\n  _proto.setEnableUpdate = function setEnableUpdate(enabled) {\n    this.enableUpdate = enabled;\n  };\n  _proto.setType = function setType(type, trackingMode) {\n    this.type = type;\n    if (this.type === CameraType.EXPLORING) {\n      this.setWorldRotation(true);\n    } else {\n      this.setWorldRotation(false);\n    }\n    this._getAngles();\n    if (this.type === CameraType.TRACKING && trackingMode !== undefined) {\n      this.setTrackingMode(trackingMode);\n    }\n    return this;\n  };\n  _proto.setProjectionMode = function setProjectionMode(projectionMode) {\n    this.projectionMode = projectionMode;\n    return this;\n  };\n  _proto.setTrackingMode = function setTrackingMode(trackingMode) {\n    if (this.type !== CameraType.TRACKING) {\n      throw new Error('Impossible to set a tracking mode if the camera is not of tracking type');\n    }\n    this.trackingMode = trackingMode;\n    return this;\n  }\n  /**\r\n   * If flag is true, it reverses the azimuth and elevation angles.\r\n   * Subsequent calls to rotate, setAzimuth, setElevation,\r\n   * changeAzimuth or changeElevation will cause the inverted effect.\r\n   * setRoll or changeRoll is not affected by this method.\r\n   *\r\n   * This inversion is useful when one wants to simulate that the world\r\n   * is moving, instead of the camera.\r\n   *\r\n   * By default the camera angles are not reversed.\r\n   * @param {Boolean} flag the boolean flag to reverse the angles.\r\n   */;\n  _proto.setWorldRotation = function setWorldRotation(flag) {\n    this.rotateWorld = flag;\n    this._getAngles();\n    return this;\n  }\n  /**\r\n   * 计算 MV 矩阵，为相机矩阵的逆矩阵\r\n   */;\n  _proto.getViewTransform = function getViewTransform() {\n    return mat4.invert(mat4.create(), this.matrix);\n  };\n  _proto.getWorldTransform = function getWorldTransform() {\n    return this.matrix;\n  };\n  _proto.jitterProjectionMatrix = function jitterProjectionMatrix(x, y) {\n    var translation = mat4.fromTranslation(mat4.create(), [x, y, 0]);\n    this.jitteredProjectionMatrix = mat4.multiply(mat4.create(), translation, this.projectionMatrix);\n  };\n  _proto.clearJitterProjectionMatrix = function clearJitterProjectionMatrix() {\n    this.jitteredProjectionMatrix = undefined;\n  }\n  /**\r\n   * 设置相机矩阵\r\n   */;\n  _proto.setMatrix = function setMatrix(matrix) {\n    this.matrix = matrix;\n    this._update();\n    return this;\n  };\n  _proto.setFov = function setFov(fov) {\n    this.setPerspective(this.near, this.far, fov, this.aspect);\n    return this;\n  };\n  _proto.setAspect = function setAspect(aspect) {\n    this.setPerspective(this.near, this.far, this.fov, aspect);\n    return this;\n  };\n  _proto.setNear = function setNear(near) {\n    if (this.projectionMode === CameraProjectionMode.PERSPECTIVE) {\n      this.setPerspective(near, this.far, this.fov, this.aspect);\n    } else {\n      this.setOrthographic(this.left, this.rright, this.top, this.bottom, near, this.far);\n    }\n    return this;\n  };\n  _proto.setFar = function setFar(far) {\n    if (this.projectionMode === CameraProjectionMode.PERSPECTIVE) {\n      this.setPerspective(this.near, far, this.fov, this.aspect);\n    } else {\n      this.setOrthographic(this.left, this.rright, this.top, this.bottom, this.near, far);\n    }\n    return this;\n  }\n  /**\r\n   * Sets an offset in a larger frustum, used in PixelPicking\r\n   */;\n  _proto.setViewOffset = function setViewOffset(fullWidth, fullHeight, x, y, width, height) {\n    this.aspect = fullWidth / fullHeight;\n    if (this.view === undefined) {\n      this.view = {\n        enabled: true,\n        fullWidth: 1,\n        fullHeight: 1,\n        offsetX: 0,\n        offsetY: 0,\n        width: 1,\n        height: 1\n      };\n    }\n    this.view.enabled = true;\n    this.view.fullWidth = fullWidth;\n    this.view.fullHeight = fullHeight;\n    this.view.offsetX = x;\n    this.view.offsetY = y;\n    this.view.width = width;\n    this.view.height = height;\n    if (this.projectionMode === CameraProjectionMode.PERSPECTIVE) {\n      this.setPerspective(this.near, this.far, this.fov, this.aspect);\n    } else {\n      this.setOrthographic(this.left, this.rright, this.top, this.bottom, this.near, this.far);\n    }\n    return this;\n  };\n  _proto.clearViewOffset = function clearViewOffset() {\n    if (this.view !== undefined) {\n      this.view.enabled = false;\n    }\n    if (this.projectionMode === CameraProjectionMode.PERSPECTIVE) {\n      this.setPerspective(this.near, this.far, this.fov, this.aspect);\n    } else {\n      this.setOrthographic(this.left, this.rright, this.top, this.bottom, this.near, this.far);\n    }\n    return this;\n  };\n  _proto.setZoom = function setZoom(zoom) {\n    this.zoom = zoom;\n    if (this.projectionMode === CameraProjectionMode.ORTHOGRAPHIC) {\n      this.setOrthographic(this.left, this.rright, this.top, this.bottom, this.near, this.far);\n    } else if (this.projectionMode === CameraProjectionMode.PERSPECTIVE) {\n      this.setPerspective(this.near, this.far, this.fov, this.aspect);\n    }\n    return this;\n  }\n  /**\r\n   * Zoom by specified point in viewport coordinates.\r\n   */;\n  _proto.setZoomByViewportPoint = function setZoomByViewportPoint(zoom, viewportPoint) {\n    var _this$canvas$viewport = this.canvas.viewport2Canvas({\n        x: viewportPoint[0],\n        y: viewportPoint[1]\n      }),\n      ox = _this$canvas$viewport.x,\n      oy = _this$canvas$viewport.y;\n    var roll = this.roll;\n    this.rotate(0, 0, -roll);\n    this.setPosition(ox, oy);\n    this.setFocalPoint(ox, oy);\n    this.setZoom(zoom);\n    this.rotate(0, 0, roll);\n    var _this$canvas$viewport2 = this.canvas.viewport2Canvas({\n        x: viewportPoint[0],\n        y: viewportPoint[1]\n      }),\n      cx = _this$canvas$viewport2.x,\n      cy = _this$canvas$viewport2.y;\n    // project to rotated axis\n    var dvec = vec3.fromValues(cx - ox, cy - oy, 0);\n    var dx = vec3.dot(dvec, this.right) / vec3.length(this.right);\n    var dy = vec3.dot(dvec, this.up) / vec3.length(this.up);\n    this.pan(-dx, -dy);\n    return this;\n  };\n  _proto.setPerspective = function setPerspective(near, far, fov, aspect) {\n    var _this$view;\n    this.projectionMode = CameraProjectionMode.PERSPECTIVE;\n    this.fov = fov;\n    this.near = near;\n    this.far = far;\n    this.aspect = aspect;\n    var top = this.near * Math.tan(deg2rad(0.5 * this.fov)) / this.zoom;\n    var height = 2 * top;\n    var width = this.aspect * height;\n    var left = -0.5 * width;\n    if ((_this$view = this.view) === null || _this$view === void 0 ? void 0 : _this$view.enabled) {\n      var fullWidth = this.view.fullWidth;\n      var fullHeight = this.view.fullHeight;\n      left += this.view.offsetX * width / fullWidth;\n      top -= this.view.offsetY * height / fullHeight;\n      width *= this.view.width / fullWidth;\n      height *= this.view.height / fullHeight;\n    }\n    makePerspective(this.projectionMatrix, left, left + width, top, top - height, near, this.far);\n    // flipY since the origin of OpenGL/WebGL is bottom-left compared with top-left in Canvas2D\n    mat4.scale(this.projectionMatrix, this.projectionMatrix, vec3.fromValues(1, -1, 1));\n    mat4.invert(this.projectionMatrixInverse, this.projectionMatrix);\n    this.triggerUpdate();\n    return this;\n  };\n  _proto.setOrthographic = function setOrthographic(l, r, t, b, near, far) {\n    var _this$view2;\n    this.projectionMode = CameraProjectionMode.ORTHOGRAPHIC;\n    this.rright = r;\n    this.left = l;\n    this.top = t;\n    this.bottom = b;\n    this.near = near;\n    this.far = far;\n    var dx = (this.rright - this.left) / (2 * this.zoom);\n    var dy = (this.top - this.bottom) / (2 * this.zoom);\n    var cx = (this.rright + this.left) / 2;\n    var cy = (this.top + this.bottom) / 2;\n    var left = cx - dx;\n    var right = cx + dx;\n    var top = cy + dy;\n    var bottom = cy - dy;\n    if ((_this$view2 = this.view) === null || _this$view2 === void 0 ? void 0 : _this$view2.enabled) {\n      var scaleW = (this.rright - this.left) / this.view.fullWidth / this.zoom;\n      var scaleH = (this.top - this.bottom) / this.view.fullHeight / this.zoom;\n      left += scaleW * this.view.offsetX;\n      right = left + scaleW * this.view.width;\n      top -= scaleH * this.view.offsetY;\n      bottom = top - scaleH * this.view.height;\n    }\n    mat4.ortho(this.projectionMatrix, left, right, bottom, top, near, far);\n    // flipY since the origin of OpenGL/WebGL is bottom-left compared with top-left in Canvas2D\n    mat4.scale(this.projectionMatrix, this.projectionMatrix, vec3.fromValues(1, -1, 1));\n    mat4.invert(this.projectionMatrixInverse, this.projectionMatrix);\n    this._getOrthoMatrix();\n    this.triggerUpdate();\n    return this;\n  }\n  /**\r\n   * Move the camera in world coordinates.\r\n   * It will keep looking at the current focal point.\r\n   *\r\n   * support scalars or vectors.\r\n   * @example\r\n   * setPosition(1, 2, 3);\r\n   * setPosition([1, 2, 3]);\r\n   */;\n  _proto.setPosition = function setPosition(x, y, z) {\n    if (y === void 0) {\n      y = this.position[1];\n    }\n    if (z === void 0) {\n      z = this.position[2];\n    }\n    var position = createVec3(x, y, z);\n    this._setPosition(position);\n    this.setFocalPoint(this.focalPoint);\n    this.triggerUpdate();\n    return this;\n  }\n  /**\r\n   * Sets the focal point of this camera in world coordinates.\r\n   *\r\n   * support scalars or vectors.\r\n   * @example\r\n   * setFocalPoint(1, 2, 3);\r\n   * setFocalPoint([1, 2, 3]);\r\n   */;\n  _proto.setFocalPoint = function setFocalPoint(x, y, z) {\n    if (y === void 0) {\n      y = this.focalPoint[1];\n    }\n    if (z === void 0) {\n      z = this.focalPoint[2];\n    }\n    var up = vec3.fromValues(0, 1, 0);\n    this.focalPoint = createVec3(x, y, z);\n    if (this.trackingMode === CameraTrackingMode.CINEMATIC) {\n      var d = vec3.subtract(vec3.create(), this.focalPoint, this.position);\n      x = d[0];\n      y = d[1];\n      z = d[2];\n      var r = vec3.length(d);\n      var el = rad2deg(Math.asin(y / r));\n      var az = 90 + rad2deg(Math.atan2(z, x));\n      var m = mat4.create();\n      mat4.rotateY(m, m, deg2rad(az));\n      mat4.rotateX(m, m, deg2rad(el));\n      up = vec3.transformMat4(vec3.create(), [0, 1, 0], m);\n    }\n    mat4.invert(this.matrix, mat4.lookAt(mat4.create(), this.position, this.focalPoint, up));\n    this._getAxes();\n    this._getDistance();\n    this._getAngles();\n    this.triggerUpdate();\n    return this;\n  };\n  _proto.getDistance = function getDistance() {\n    return this.distance;\n  };\n  _proto.getDistanceVector = function getDistanceVector() {\n    return this.distanceVector;\n  }\n  /**\r\n   * Moves the camera towards/from the focal point.\r\n   */;\n  _proto.setDistance = function setDistance(d) {\n    if (this.distance === d || d < 0) {\n      return this;\n    }\n    this.distance = d;\n    if (this.distance < MIN_DISTANCE) {\n      this.distance = MIN_DISTANCE;\n    }\n    this.dollyingStep = this.distance / 100;\n    var pos = vec3.create();\n    d = this.distance;\n    var n = this.forward;\n    var f = this.focalPoint;\n    pos[0] = d * n[0] + f[0];\n    pos[1] = d * n[1] + f[1];\n    pos[2] = d * n[2] + f[2];\n    this._setPosition(pos);\n    this.triggerUpdate();\n    return this;\n  };\n  _proto.setMaxDistance = function setMaxDistance(d) {\n    this.maxDistance = d;\n    return this;\n  };\n  _proto.setMinDistance = function setMinDistance(d) {\n    this.minDistance = d;\n    return this;\n  }\n  /**\r\n   * 设置相机方位角，不同相机模式下需要重新计算相机位置或者是视点位置\r\n   * the azimuth in degrees\r\n   */;\n  _proto.setAzimuth = function setAzimuth(az) {\n    this.azimuth = getAngle(az);\n    this.computeMatrix();\n    this._getAxes();\n    if (this.type === CameraType.ORBITING || this.type === CameraType.EXPLORING) {\n      this._getPosition();\n    } else if (this.type === CameraType.TRACKING) {\n      this._getFocalPoint();\n    }\n    this.triggerUpdate();\n    return this;\n  };\n  _proto.getAzimuth = function getAzimuth() {\n    return this.azimuth;\n  }\n  /**\r\n   * 设置相机方位角，不同相机模式下需要重新计算相机位置或者是视点位置\r\n   */;\n  _proto.setElevation = function setElevation(el) {\n    this.elevation = getAngle(el);\n    this.computeMatrix();\n    this._getAxes();\n    if (this.type === CameraType.ORBITING || this.type === CameraType.EXPLORING) {\n      this._getPosition();\n    } else if (this.type === CameraType.TRACKING) {\n      this._getFocalPoint();\n    }\n    this.triggerUpdate();\n    return this;\n  };\n  _proto.getElevation = function getElevation() {\n    return this.elevation;\n  }\n  /**\r\n   * 设置相机方位角，不同相机模式下需要重新计算相机位置或者是视点位置\r\n   */;\n  _proto.setRoll = function setRoll(angle) {\n    this.roll = getAngle(angle);\n    this.computeMatrix();\n    this._getAxes();\n    if (this.type === CameraType.ORBITING || this.type === CameraType.EXPLORING) {\n      this._getPosition();\n    } else if (this.type === CameraType.TRACKING) {\n      this._getFocalPoint();\n    }\n    this.triggerUpdate();\n    return this;\n  };\n  _proto.getRoll = function getRoll() {\n    return this.roll;\n  }\n  /**\r\n   * 根据相机矩阵重新计算各种相机参数\r\n   */;\n  _proto._update = function _update() {\n    this._getAxes();\n    this._getPosition();\n    this._getDistance();\n    this._getAngles();\n    this._getOrthoMatrix();\n    this.triggerUpdate();\n  }\n  /**\r\n   * 计算相机矩阵\r\n   */;\n  _proto.computeMatrix = function computeMatrix() {\n    // 使用四元数描述 3D 旋转\n    // @see https://xiaoiver.github.io/coding/2018/12/28/Camera-%E8%AE%BE%E8%AE%A1-%E4%B8%80.html\n    var rotZ = quat$1.setAxisAngle(quat$1.create(), [0, 0, 1], deg2rad(this.roll));\n    mat4.identity(this.matrix);\n    // only consider HCS for EXPLORING and ORBITING cameras\n    var rotX = quat$1.setAxisAngle(quat$1.create(), [1, 0, 0], deg2rad((this.rotateWorld && this.type !== CameraType.TRACKING || this.type === CameraType.TRACKING ? 1 : -1) * this.elevation));\n    var rotY = quat$1.setAxisAngle(quat$1.create(), [0, 1, 0], deg2rad((this.rotateWorld && this.type !== CameraType.TRACKING || this.type === CameraType.TRACKING ? 1 : -1) * this.azimuth));\n    var rotQ = quat$1.multiply(quat$1.create(), rotY, rotX);\n    rotQ = quat$1.multiply(quat$1.create(), rotQ, rotZ);\n    var rotMatrix = mat4.fromQuat(mat4.create(), rotQ);\n    if (this.type === CameraType.ORBITING || this.type === CameraType.EXPLORING) {\n      mat4.translate(this.matrix, this.matrix, this.focalPoint);\n      mat4.multiply(this.matrix, this.matrix, rotMatrix);\n      mat4.translate(this.matrix, this.matrix, [0, 0, this.distance]);\n    } else if (this.type === CameraType.TRACKING) {\n      mat4.translate(this.matrix, this.matrix, this.position);\n      mat4.multiply(this.matrix, this.matrix, rotMatrix);\n    }\n  }\n  /**\r\n   * Sets the camera position in the camera matrix\r\n   */;\n  _proto._setPosition = function _setPosition(x, y, z) {\n    this.position = createVec3(x, y, z);\n    var m = this.matrix;\n    m[12] = this.position[0];\n    m[13] = this.position[1];\n    m[14] = this.position[2];\n    m[15] = 1;\n    this._getOrthoMatrix();\n  }\n  /**\r\n   * Recalculates axes based on the current matrix\r\n   */;\n  _proto._getAxes = function _getAxes() {\n    vec3.copy(this.right, createVec3(vec4.transformMat4(vec4.create(), [1, 0, 0, 0], this.matrix)));\n    vec3.copy(this.up, createVec3(vec4.transformMat4(vec4.create(), [0, 1, 0, 0], this.matrix)));\n    vec3.copy(this.forward, createVec3(vec4.transformMat4(vec4.create(), [0, 0, 1, 0], this.matrix)));\n    vec3.normalize(this.right, this.right);\n    vec3.normalize(this.up, this.up);\n    vec3.normalize(this.forward, this.forward);\n  }\n  /**\r\n   * Recalculates euler angles based on the current state\r\n   */;\n  _proto._getAngles = function _getAngles() {\n    // Recalculates angles\n    var x = this.distanceVector[0];\n    var y = this.distanceVector[1];\n    var z = this.distanceVector[2];\n    var r = vec3.length(this.distanceVector);\n    // FAST FAIL: If there is no distance we cannot compute angles\n    if (r === 0) {\n      this.elevation = 0;\n      this.azimuth = 0;\n      return;\n    }\n    if (this.type === CameraType.TRACKING) {\n      this.elevation = rad2deg(Math.asin(y / r));\n      this.azimuth = rad2deg(Math.atan2(-x, -z));\n    } else {\n      if (this.rotateWorld) {\n        this.elevation = rad2deg(Math.asin(y / r));\n        this.azimuth = rad2deg(Math.atan2(-x, -z));\n      } else {\n        this.elevation = -rad2deg(Math.asin(y / r));\n        this.azimuth = -rad2deg(Math.atan2(-x, -z));\n      }\n    }\n  }\n  /**\r\n   * 重新计算相机位置，只有 ORBITING 模式相机位置才会发生变化\r\n   */;\n  _proto._getPosition = function _getPosition() {\n    vec3.copy(this.position, createVec3(vec4.transformMat4(vec4.create(), [0, 0, 0, 1], this.matrix)));\n    // 相机位置变化，需要重新计算视距\n    this._getDistance();\n  }\n  /**\r\n   * 重新计算视点，只有 TRACKING 模式视点才会发生变化\r\n   */;\n  _proto._getFocalPoint = function _getFocalPoint() {\n    vec3.transformMat3(this.distanceVector, [0, 0, -this.distance], mat3.fromMat4(mat3.create(), this.matrix));\n    vec3.add(this.focalPoint, this.position, this.distanceVector);\n    // 视点变化，需要重新计算视距\n    this._getDistance();\n  }\n  /**\r\n   * 重新计算视距\r\n   */;\n  _proto._getDistance = function _getDistance() {\n    this.distanceVector = vec3.subtract(vec3.create(), this.focalPoint, this.position);\n    this.distance = vec3.length(this.distanceVector);\n    this.dollyingStep = this.distance / 100;\n  };\n  _proto._getOrthoMatrix = function _getOrthoMatrix() {\n    if (this.projectionMode !== CameraProjectionMode.ORTHOGRAPHIC) {\n      return;\n    }\n    var position = this.position;\n    var rotZ = quat$1.setAxisAngle(quat$1.create(), [0, 0, 1], -this.roll * Math.PI / 180);\n    mat4.fromRotationTranslationScaleOrigin(this.orthoMatrix, rotZ, vec3.fromValues((this.rright - this.left) / 2 - position[0], (this.top - this.bottom) / 2 - position[1], 0), vec3.fromValues(this.zoom, this.zoom, 1), position);\n  };\n  _proto.triggerUpdate = function triggerUpdate() {\n    if (this.enableUpdate) {\n      // update frustum\n      var viewMatrix = this.getViewTransform();\n      var vpMatrix = mat4.multiply(mat4.create(), this.getPerspective(), viewMatrix);\n      this.getFrustum().extractFromVPMatrix(vpMatrix);\n      this.eventEmitter.emit(CameraEvent.UPDATED);\n    }\n  };\n  _proto.rotate = function rotate(azimuth, elevation, roll) {\n    throw new Error(ERROR_MSG_METHOD_NOT_IMPLEMENTED);\n  };\n  _proto.pan = function pan(tx, ty) {\n    throw new Error(ERROR_MSG_METHOD_NOT_IMPLEMENTED);\n  };\n  _proto.dolly = function dolly(value) {\n    throw new Error(ERROR_MSG_METHOD_NOT_IMPLEMENTED);\n  };\n  _proto.createLandmark = function createLandmark(name, params) {\n    throw new Error(ERROR_MSG_METHOD_NOT_IMPLEMENTED);\n  };\n  _proto.gotoLandmark = function gotoLandmark(name, options) {\n    throw new Error(ERROR_MSG_METHOD_NOT_IMPLEMENTED);\n  };\n  return Camera;\n}();\n\nvar CircleUpdater = /*#__PURE__*/function () {\n  function CircleUpdater() {}\n  var _proto = CircleUpdater.prototype;\n  _proto.update = function update(parsedStyle, object) {\n    var r = parsedStyle.r;\n    var width = r * 2;\n    var height = r * 2;\n    return {\n      width: width,\n      height: height\n    };\n  };\n  return CircleUpdater;\n}();\n\nvar EllipseUpdater = /*#__PURE__*/function () {\n  function EllipseUpdater() {}\n  var _proto = EllipseUpdater.prototype;\n  _proto.update = function update(parsedStyle, object) {\n    var rx = parsedStyle.rx,\n      ry = parsedStyle.ry;\n    var width = rx * 2;\n    var height = ry * 2;\n    return {\n      width: width,\n      height: height\n    };\n  };\n  return EllipseUpdater;\n}();\n\nvar LineUpdater = /*#__PURE__*/function () {\n  function LineUpdater() {}\n  var _proto = LineUpdater.prototype;\n  _proto.update = function update(parsedStyle) {\n    var x1 = parsedStyle.x1,\n      y1 = parsedStyle.y1,\n      x2 = parsedStyle.x2,\n      y2 = parsedStyle.y2;\n    var minX = Math.min(x1, x2);\n    var maxX = Math.max(x1, x2);\n    var minY = Math.min(y1, y2);\n    var maxY = Math.max(y1, y2);\n    var width = maxX - minX;\n    var height = maxY - minY;\n    return {\n      width: width,\n      height: height\n    };\n  };\n  return LineUpdater;\n}();\n\nvar PathUpdater = /*#__PURE__*/function () {\n  function PathUpdater() {}\n  var _proto = PathUpdater.prototype;\n  _proto.update = function update(parsedStyle) {\n    var path = parsedStyle.path;\n    var _path$rect = path.rect,\n      width = _path$rect.width,\n      height = _path$rect.height;\n    return {\n      width: width,\n      height: height\n    };\n  };\n  return PathUpdater;\n}();\n\nvar PolylineUpdater = /*#__PURE__*/function () {\n  function PolylineUpdater() {}\n  var _proto = PolylineUpdater.prototype;\n  _proto.update = function update(parsedStyle) {\n    var points = parsedStyle.points.points;\n    // FIXME: account for miter lineJoin\n    var minX = Math.min.apply(Math, points.map(function (point) {\n      return point[0];\n    }));\n    var maxX = Math.max.apply(Math, points.map(function (point) {\n      return point[0];\n    }));\n    var minY = Math.min.apply(Math, points.map(function (point) {\n      return point[1];\n    }));\n    var maxY = Math.max.apply(Math, points.map(function (point) {\n      return point[1];\n    }));\n    var width = maxX - minX;\n    var height = maxY - minY;\n    return {\n      width: width,\n      height: height\n    };\n  };\n  return PolylineUpdater;\n}();\n\nvar RectUpdater = /*#__PURE__*/function () {\n  function RectUpdater() {}\n  var _proto = RectUpdater.prototype;\n  _proto.update = function update(parsedStyle, object) {\n    var img = parsedStyle.img,\n      _parsedStyle$width = parsedStyle.width,\n      width = _parsedStyle$width === void 0 ? 0 : _parsedStyle$width,\n      _parsedStyle$height = parsedStyle.height,\n      height = _parsedStyle$height === void 0 ? 0 : _parsedStyle$height;\n    var contentWidth = width;\n    var contentHeight = height;\n    // resize with HTMLImageElement's size\n    if (img && !isString(img)) {\n      if (!contentWidth) {\n        contentWidth = img.width;\n        parsedStyle.width = contentWidth;\n      }\n      if (!contentHeight) {\n        contentHeight = img.height;\n        parsedStyle.height = contentHeight;\n      }\n    }\n    return {\n      width: contentWidth,\n      height: contentHeight\n    };\n  };\n  return RectUpdater;\n}();\n\nvar TextUpdater = /*#__PURE__*/function () {\n  function TextUpdater(globalRuntime) {\n    this.globalRuntime = void 0;\n    this.globalRuntime = globalRuntime;\n  }\n  var _proto = TextUpdater.prototype;\n  _proto.isReadyToMeasure = function isReadyToMeasure(parsedStyle, object) {\n    var text = parsedStyle.text,\n      textAlign = parsedStyle.textAlign,\n      textBaseline = parsedStyle.textBaseline,\n      fontSize = parsedStyle.fontSize,\n      fontStyle = parsedStyle.fontStyle,\n      fontWeight = parsedStyle.fontWeight,\n      fontVariant = parsedStyle.fontVariant,\n      lineWidth = parsedStyle.lineWidth;\n    return text && fontSize && fontStyle && fontWeight && fontVariant && textAlign && textBaseline && !isNil(lineWidth);\n  };\n  _proto.update = function update(parsedStyle, object) {\n    var _object$ownerDocument, _object$ownerDocument2;\n    var text = parsedStyle.text,\n      textAlign = parsedStyle.textAlign,\n      lineWidth = parsedStyle.lineWidth,\n      textBaseline = parsedStyle.textBaseline,\n      dx = parsedStyle.dx,\n      dy = parsedStyle.dy;\n    var _ref = (object === null || object === void 0 ? void 0 : (_object$ownerDocument = object.ownerDocument) === null || _object$ownerDocument === void 0 ? void 0 : (_object$ownerDocument2 = _object$ownerDocument.defaultView) === null || _object$ownerDocument2 === void 0 ? void 0 : _object$ownerDocument2.getConfig()) || {},\n      offscreenCanvas = _ref.offscreenCanvas;\n    if (!this.isReadyToMeasure(parsedStyle, object)) {\n      parsedStyle.metrics = {\n        font: '',\n        width: 0,\n        height: 0,\n        lines: [],\n        lineWidths: [],\n        lineHeight: 0,\n        maxLineWidth: 0,\n        fontProperties: {\n          ascent: 0,\n          descent: 0,\n          fontSize: 0\n        },\n        lineMetrics: []\n      };\n      return {\n        width: 0,\n        height: 0,\n        x: 0,\n        y: 0,\n        offsetX: 0,\n        offsetY: 0\n      };\n    }\n    var metrics = this.globalRuntime.textService.measureText(text, parsedStyle, offscreenCanvas);\n    parsedStyle.metrics = metrics;\n    var width = metrics.width,\n      height = metrics.height,\n      lineHeight = metrics.lineHeight,\n      fontProperties = metrics.fontProperties;\n    // anchor is left-top by default\n    var halfExtents = [width / 2, height / 2, 0];\n    // default 'left'\n    var anchor = [0, 1];\n    var lineXOffset = 0;\n    if (textAlign === 'center' || textAlign === 'middle') {\n      lineXOffset = lineWidth / 2;\n      anchor = [0.5, 1];\n    } else if (textAlign === 'right' || textAlign === 'end') {\n      lineXOffset = lineWidth;\n      anchor = [1, 1];\n    }\n    var lineYOffset = 0;\n    if (textBaseline === 'middle') {\n      // eslint-disable-next-line prefer-destructuring\n      lineYOffset = halfExtents[1];\n    } else if (textBaseline === 'top' || textBaseline === 'hanging') {\n      lineYOffset = halfExtents[1] * 2;\n    } else if (textBaseline === 'alphabetic') {\n      lineYOffset = lineHeight - fontProperties.ascent;\n    } else if (textBaseline === 'bottom' || textBaseline === 'ideographic') {\n      lineYOffset = 0;\n    }\n    // TODO: ideographic & bottom\n    if (dx) {\n      lineXOffset += dx;\n    }\n    if (dy) {\n      lineYOffset += dy;\n    }\n    // update anchor\n    parsedStyle.anchor = [anchor[0], anchor[1], 0];\n    return {\n      width: halfExtents[0] * 2,\n      height: halfExtents[1] * 2,\n      offsetX: lineXOffset,\n      offsetY: lineYOffset\n    };\n  };\n  return TextUpdater;\n}();\n\nvar PROPAGATION_LIMIT = 2048;\nvar EventService = /*#__PURE__*/function () {\n  function EventService(globalRuntime, context) {\n    var _this = this;\n    this.globalRuntime = void 0;\n    this.context = void 0;\n    this.rootTarget = void 0;\n    this.emitter = new EventEmitter();\n    this.cursor = 'default';\n    this.mappingTable = {};\n    this.mappingState = {\n      trackingData: {}\n    };\n    this.eventPool = new Map();\n    this.pickHandler = void 0;\n    this.tmpMatrix = mat4.create();\n    this.tmpVec3 = vec3.create();\n    this.onPointerDown = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(from) {\n        var e, isRightButton, trackingData;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return _this.createPointerEvent(from);\n              case 2:\n                e = _context.sent;\n                _this.dispatchEvent(e, 'pointerdown');\n                if (e.pointerType === 'touch') {\n                  _this.dispatchEvent(e, 'touchstart');\n                } else if (e.pointerType === 'mouse' || e.pointerType === 'pen') {\n                  isRightButton = e.button === 2;\n                  _this.dispatchEvent(e, isRightButton ? 'rightdown' : 'mousedown');\n                }\n                trackingData = _this.trackingData(from.pointerId);\n                trackingData.pressTargetsByButton[from.button] = e.composedPath();\n                _this.freeEvent(e);\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    this.onPointerUp = /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(from) {\n        var now, e, isRightButton, trackingData, pressTarget, clickTarget, currentTarget, _isRightButton, _e$detail, clickEvent, clickHistory;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                // if (!(from instanceof FederatedPointerEvent)) {\n                //   return;\n                // }\n                now = performance.now();\n                _context2.next = 3;\n                return _this.createPointerEvent(from);\n              case 3:\n                e = _context2.sent;\n                _this.dispatchEvent(e, 'pointerup');\n                if (e.pointerType === 'touch') {\n                  _this.dispatchEvent(e, 'touchend');\n                } else if (e.pointerType === 'mouse' || e.pointerType === 'pen') {\n                  isRightButton = e.button === 2;\n                  _this.dispatchEvent(e, isRightButton ? 'rightup' : 'mouseup');\n                }\n                trackingData = _this.trackingData(from.pointerId);\n                pressTarget = _this.findMountedTarget(trackingData.pressTargetsByButton[from.button]);\n                clickTarget = pressTarget; // pointerupoutside only bubbles. It only bubbles upto the parent that doesn't contain\n                // the pointerup location.\n                if (pressTarget && !e.composedPath().includes(pressTarget)) {\n                  currentTarget = pressTarget;\n                  while (currentTarget && !e.composedPath().includes(currentTarget)) {\n                    e.currentTarget = currentTarget;\n                    _this.notifyTarget(e, 'pointerupoutside');\n                    if (e.pointerType === 'touch') {\n                      _this.notifyTarget(e, 'touchendoutside');\n                    } else if (e.pointerType === 'mouse' || e.pointerType === 'pen') {\n                      _isRightButton = e.button === 2;\n                      _this.notifyTarget(e, _isRightButton ? 'rightupoutside' : 'mouseupoutside');\n                    }\n                    if (Node.isNode(currentTarget)) {\n                      currentTarget = currentTarget.parentNode;\n                    }\n                  }\n                  delete trackingData.pressTargetsByButton[from.button];\n                  // currentTarget is the most specific ancestor holding both the pointerdown and pointerup\n                  // targets. That is - it's our click target!\n                  clickTarget = currentTarget;\n                }\n                if (clickTarget) {\n                  clickEvent = _this.clonePointerEvent(e, 'click');\n                  clickEvent.target = clickTarget;\n                  clickEvent.path = [];\n                  if (!trackingData.clicksByButton[from.button]) {\n                    trackingData.clicksByButton[from.button] = {\n                      clickCount: 0,\n                      target: clickEvent.target,\n                      timeStamp: now\n                    };\n                  }\n                  clickHistory = trackingData.clicksByButton[from.button];\n                  if (clickHistory.target === clickEvent.target && now - clickHistory.timeStamp < 200) {\n                    ++clickHistory.clickCount;\n                  } else {\n                    clickHistory.clickCount = 1;\n                  }\n                  clickHistory.target = clickEvent.target;\n                  clickHistory.timeStamp = now;\n                  clickEvent.detail = clickHistory.clickCount;\n                  // @see https://github.com/antvis/G/issues/1091\n                  if (!((_e$detail = e.detail) === null || _e$detail === void 0 ? void 0 : _e$detail.preventClick)) {\n                    if (clickEvent.pointerType === 'mouse' || clickEvent.pointerType === 'touch') {\n                      _this.dispatchEvent(clickEvent, 'click');\n                    }\n                    _this.dispatchEvent(clickEvent, 'pointertap');\n                  }\n                  _this.freeEvent(clickEvent);\n                }\n                _this.freeEvent(e);\n              case 12:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n      return function (_x2) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    this.onPointerMove = /*#__PURE__*/function () {\n      var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(from) {\n        var e, isMouse, trackingData, outTarget, outType, outEvent, leaveEvent, overType, overEvent, overTargetAncestor, didPointerEnter, enterEvent;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return _this.createPointerEvent(from);\n              case 2:\n                e = _context3.sent;\n                isMouse = e.pointerType === 'mouse' || e.pointerType === 'pen';\n                trackingData = _this.trackingData(from.pointerId);\n                outTarget = _this.findMountedTarget(trackingData.overTargets); // First pointerout/pointerleave\n                if (!(trackingData.overTargets && outTarget !== e.target)) {\n                  _context3.next = 21;\n                  break;\n                }\n                // pointerout always occurs on the overTarget when the pointer hovers over another element.\n                outType = from.type === 'mousemove' ? 'mouseout' : 'pointerout';\n                _context3.next = 10;\n                return _this.createPointerEvent(from, outType, outTarget || undefined);\n              case 10:\n                outEvent = _context3.sent;\n                _this.dispatchEvent(outEvent, 'pointerout');\n                if (isMouse) _this.dispatchEvent(outEvent, 'mouseout');\n                // If the pointer exits overTarget and its descendants, then a pointerleave event is also fired. This event\n                // is dispatched to all ancestors that no longer capture the pointer.\n                if (e.composedPath().includes(outTarget)) {\n                  _context3.next = 20;\n                  break;\n                }\n                _context3.next = 16;\n                return _this.createPointerEvent(from, 'pointerleave', outTarget || undefined);\n              case 16:\n                leaveEvent = _context3.sent;\n                leaveEvent.eventPhase = leaveEvent.AT_TARGET;\n                while (leaveEvent.target && !e.composedPath().includes(leaveEvent.target)) {\n                  leaveEvent.currentTarget = leaveEvent.target;\n                  _this.notifyTarget(leaveEvent);\n                  if (isMouse) {\n                    _this.notifyTarget(leaveEvent, 'mouseleave');\n                  }\n                  if (Node.isNode(leaveEvent.target)) {\n                    leaveEvent.target = leaveEvent.target.parentNode;\n                  }\n                }\n                _this.freeEvent(leaveEvent);\n              case 20:\n                _this.freeEvent(outEvent);\n              case 21:\n                if (!(outTarget !== e.target)) {\n                  _context3.next = 36;\n                  break;\n                }\n                // pointerover always occurs on the new overTarget\n                overType = from.type === 'mousemove' ? 'mouseover' : 'pointerover';\n                overEvent = _this.clonePointerEvent(e, overType); // clone faster\n                _this.dispatchEvent(overEvent, 'pointerover');\n                if (isMouse) _this.dispatchEvent(overEvent, 'mouseover');\n                // Probe whether the newly hovered Node is an ancestor of the original overTarget.\n                overTargetAncestor = outTarget && Node.isNode(outTarget) && outTarget.parentNode;\n              case 27:\n                if (!(overTargetAncestor && overTargetAncestor !== (Node.isNode(_this.rootTarget) && _this.rootTarget.parentNode))) {\n                  _context3.next = 33;\n                  break;\n                }\n                if (!(overTargetAncestor === e.target)) {\n                  _context3.next = 30;\n                  break;\n                }\n                return _context3.abrupt(\"break\", 33);\n              case 30:\n                overTargetAncestor = overTargetAncestor.parentNode;\n                _context3.next = 27;\n                break;\n              case 33:\n                // The pointer has entered a non-ancestor of the original overTarget. This means we need a pointerentered\n                // event.\n                didPointerEnter = !overTargetAncestor || overTargetAncestor === (Node.isNode(_this.rootTarget) && _this.rootTarget.parentNode);\n                if (didPointerEnter) {\n                  enterEvent = _this.clonePointerEvent(e, 'pointerenter');\n                  enterEvent.eventPhase = enterEvent.AT_TARGET;\n                  while (enterEvent.target && enterEvent.target !== outTarget && enterEvent.target !== (Node.isNode(_this.rootTarget) && _this.rootTarget.parentNode)) {\n                    enterEvent.currentTarget = enterEvent.target;\n                    _this.notifyTarget(enterEvent);\n                    if (isMouse) _this.notifyTarget(enterEvent, 'mouseenter');\n                    if (Node.isNode(enterEvent.target)) {\n                      enterEvent.target = enterEvent.target.parentNode;\n                    }\n                  }\n                  _this.freeEvent(enterEvent);\n                }\n                _this.freeEvent(overEvent);\n              case 36:\n                // Then pointermove\n                _this.dispatchEvent(e, 'pointermove');\n                if (e.pointerType === 'touch') _this.dispatchEvent(e, 'touchmove');\n                if (isMouse) {\n                  _this.dispatchEvent(e, 'mousemove');\n                  _this.cursor = _this.getCursor(e.target);\n                }\n                trackingData.overTargets = e.composedPath();\n                _this.freeEvent(e);\n              case 41:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n      return function (_x3) {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n    this.onPointerOut = /*#__PURE__*/function () {\n      var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(from) {\n        var trackingData, isMouse, outTarget, outEvent, leaveEvent;\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                // if (!(from instanceof FederatedPointerEvent)) {\n                //   return;\n                // }\n                trackingData = _this.trackingData(from.pointerId);\n                if (!trackingData.overTargets) {\n                  _context4.next = 17;\n                  break;\n                }\n                isMouse = from.pointerType === 'mouse' || from.pointerType === 'pen';\n                outTarget = _this.findMountedTarget(trackingData.overTargets); // pointerout first\n                _context4.next = 6;\n                return _this.createPointerEvent(from, 'pointerout', outTarget || undefined);\n              case 6:\n                outEvent = _context4.sent;\n                _this.dispatchEvent(outEvent);\n                if (isMouse) _this.dispatchEvent(outEvent, 'mouseout');\n                // pointerleave(s) are also dispatched b/c the pointer must've left rootTarget and its descendants to\n                // get an upstream pointerout event (upstream events do not know rootTarget has descendants).\n                _context4.next = 11;\n                return _this.createPointerEvent(from, 'pointerleave', outTarget || undefined);\n              case 11:\n                leaveEvent = _context4.sent;\n                leaveEvent.eventPhase = leaveEvent.AT_TARGET;\n                while (leaveEvent.target && leaveEvent.target !== (Node.isNode(_this.rootTarget) && _this.rootTarget.parentNode)) {\n                  leaveEvent.currentTarget = leaveEvent.target;\n                  _this.notifyTarget(leaveEvent);\n                  if (isMouse) {\n                    _this.notifyTarget(leaveEvent, 'mouseleave');\n                  }\n                  if (Node.isNode(leaveEvent.target)) {\n                    leaveEvent.target = leaveEvent.target.parentNode;\n                  }\n                }\n                trackingData.overTargets = null;\n                _this.freeEvent(outEvent);\n                _this.freeEvent(leaveEvent);\n              case 17:\n                _this.cursor = null;\n              case 18:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n      return function (_x4) {\n        return _ref4.apply(this, arguments);\n      };\n    }();\n    this.onPointerOver = /*#__PURE__*/function () {\n      var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(from) {\n        var trackingData, e, isMouse, enterEvent;\n        return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                // if (!(from instanceof FederatedPointerEvent)) {\n                //   return;\n                // }\n                trackingData = _this.trackingData(from.pointerId);\n                _context5.next = 3;\n                return _this.createPointerEvent(from);\n              case 3:\n                e = _context5.sent;\n                isMouse = e.pointerType === 'mouse' || e.pointerType === 'pen';\n                _this.dispatchEvent(e, 'pointerover');\n                if (isMouse) _this.dispatchEvent(e, 'mouseover');\n                if (e.pointerType === 'mouse') _this.cursor = _this.getCursor(e.target);\n                // pointerenter events must be fired since the pointer entered from upstream.\n                enterEvent = _this.clonePointerEvent(e, 'pointerenter');\n                enterEvent.eventPhase = enterEvent.AT_TARGET;\n                while (enterEvent.target && enterEvent.target !== (Node.isNode(_this.rootTarget) && _this.rootTarget.parentNode)) {\n                  enterEvent.currentTarget = enterEvent.target;\n                  _this.notifyTarget(enterEvent);\n                  if (isMouse) {\n                    // mouseenter should not bubble\n                    // @see https://developer.mozilla.org/en-US/docs/Web/API/Element/mouseenter_event#usage_notes\n                    _this.notifyTarget(enterEvent, 'mouseenter');\n                  }\n                  if (Node.isNode(enterEvent.target)) {\n                    enterEvent.target = enterEvent.target.parentNode;\n                  }\n                }\n                trackingData.overTargets = e.composedPath();\n                _this.freeEvent(e);\n                _this.freeEvent(enterEvent);\n              case 14:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5);\n      }));\n      return function (_x5) {\n        return _ref5.apply(this, arguments);\n      };\n    }();\n    this.onPointerUpOutside = /*#__PURE__*/function () {\n      var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(from) {\n        var trackingData, pressTarget, e, currentTarget;\n        return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                // if (!(from instanceof FederatedPointerEvent)) {\n                //   return;\n                // }\n                trackingData = _this.trackingData(from.pointerId);\n                pressTarget = _this.findMountedTarget(trackingData.pressTargetsByButton[from.button]);\n                _context6.next = 4;\n                return _this.createPointerEvent(from);\n              case 4:\n                e = _context6.sent;\n                if (pressTarget) {\n                  currentTarget = pressTarget;\n                  while (currentTarget) {\n                    e.currentTarget = currentTarget;\n                    _this.notifyTarget(e, 'pointerupoutside');\n                    if (e.pointerType === 'touch') ; else if (e.pointerType === 'mouse' || e.pointerType === 'pen') {\n                      _this.notifyTarget(e, e.button === 2 ? 'rightupoutside' : 'mouseupoutside');\n                    }\n                    if (Node.isNode(currentTarget)) {\n                      currentTarget = currentTarget.parentNode;\n                    }\n                  }\n                  delete trackingData.pressTargetsByButton[from.button];\n                }\n                _this.freeEvent(e);\n              case 7:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6);\n      }));\n      return function (_x6) {\n        return _ref6.apply(this, arguments);\n      };\n    }();\n    this.onWheel = /*#__PURE__*/function () {\n      var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7(from) {\n        var wheelEvent;\n        return _regeneratorRuntime().wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                _context7.next = 2;\n                return _this.createWheelEvent(from);\n              case 2:\n                wheelEvent = _context7.sent;\n                _this.dispatchEvent(wheelEvent);\n                _this.freeEvent(wheelEvent);\n              case 5:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7);\n      }));\n      return function (_x7) {\n        return _ref7.apply(this, arguments);\n      };\n    }();\n    this.globalRuntime = globalRuntime;\n    this.context = context;\n  }\n  var _proto = EventService.prototype;\n  _proto.init = function init() {\n    this.rootTarget = this.context.renderingContext.root.parentNode; // document\n    this.addEventMapping('pointerdown', this.onPointerDown);\n    this.addEventMapping('pointerup', this.onPointerUp);\n    this.addEventMapping('pointermove', this.onPointerMove);\n    this.addEventMapping('pointerout', this.onPointerOut);\n    this.addEventMapping('pointerleave', this.onPointerOut);\n    this.addEventMapping('pointerover', this.onPointerOver);\n    this.addEventMapping('pointerupoutside', this.onPointerUpOutside);\n    this.addEventMapping('wheel', this.onWheel);\n  };\n  _proto.destroy = function destroy() {\n    this.emitter.removeAllListeners();\n    this.mappingTable = {};\n    this.mappingState = {};\n    this.eventPool.clear();\n  };\n  _proto.client2Viewport = function client2Viewport(client) {\n    var bbox = this.context.contextService.getBoundingClientRect();\n    return new Point(client.x - ((bbox === null || bbox === void 0 ? void 0 : bbox.left) || 0), client.y - ((bbox === null || bbox === void 0 ? void 0 : bbox.top) || 0));\n  };\n  _proto.viewport2Client = function viewport2Client(canvas) {\n    var bbox = this.context.contextService.getBoundingClientRect();\n    return new Point(canvas.x + ((bbox === null || bbox === void 0 ? void 0 : bbox.left) || 0), canvas.y + ((bbox === null || bbox === void 0 ? void 0 : bbox.top) || 0));\n  };\n  _proto.viewport2Canvas = function viewport2Canvas(_ref8) {\n    var x = _ref8.x,\n      y = _ref8.y;\n    var canvas = this.rootTarget.defaultView;\n    var camera = canvas.getCamera();\n    var _this$context$config = this.context.config,\n      width = _this$context$config.width,\n      height = _this$context$config.height;\n    var projectionMatrixInverse = camera.getPerspectiveInverse();\n    var worldMatrix = camera.getWorldTransform();\n    var vpMatrix = mat4.multiply(this.tmpMatrix, worldMatrix, projectionMatrixInverse);\n    var viewport = vec3.set(this.tmpVec3, x / width * 2 - 1, (1 - y / height) * 2 - 1, 0);\n    vec3.transformMat4(viewport, viewport, vpMatrix);\n    return new Point(viewport[0], viewport[1]);\n  };\n  _proto.canvas2Viewport = function canvas2Viewport(canvasP) {\n    var canvas = this.rootTarget.defaultView;\n    var camera = canvas.getCamera();\n    // World -> Clip\n    var projectionMatrix = camera.getPerspective();\n    var viewMatrix = camera.getViewTransform();\n    var vpMatrix = mat4.multiply(this.tmpMatrix, projectionMatrix, viewMatrix);\n    var clip = vec3.set(this.tmpVec3, canvasP.x, canvasP.y, 0);\n    vec3.transformMat4(this.tmpVec3, this.tmpVec3, vpMatrix);\n    // Clip -> NDC -> Viewport, flip Y\n    var _this$context$config2 = this.context.config,\n      width = _this$context$config2.width,\n      height = _this$context$config2.height;\n    return new Point((clip[0] + 1) / 2 * width, (1 - (clip[1] + 1) / 2) * height);\n  };\n  _proto.setPickHandler = function setPickHandler(pickHandler) {\n    this.pickHandler = pickHandler;\n  };\n  _proto.addEventMapping = function addEventMapping(type, fn) {\n    if (!this.mappingTable[type]) {\n      this.mappingTable[type] = [];\n    }\n    this.mappingTable[type].push({\n      fn: fn,\n      priority: 0\n    });\n    this.mappingTable[type].sort(function (a, b) {\n      return a.priority - b.priority;\n    });\n  };\n  _proto.mapEvent = function mapEvent(e) {\n    if (!this.rootTarget) {\n      return;\n    }\n    var mappers = this.mappingTable[e.type];\n    if (mappers) {\n      for (var i = 0, j = mappers.length; i < j; i++) {\n        mappers[i].fn(e);\n      }\n    } else {\n      console.warn(\"[EventService]: Event mapping not defined for \" + e.type);\n    }\n  };\n  _proto.dispatchEvent = function dispatchEvent(e, type, skipPropagate) {\n    // Canvas should skip\n    if (!skipPropagate) {\n      e.propagationStopped = false;\n      e.propagationImmediatelyStopped = false;\n      this.propagate(e, type);\n    } else {\n      // target phase\n      e.eventPhase = e.AT_TARGET;\n      var canvas = this.rootTarget.defaultView || null;\n      e.currentTarget = canvas;\n      this.notifyListeners(e, type);\n    }\n    this.emitter.emit(type || e.type, e);\n  };\n  _proto.propagate = function propagate(e, type) {\n    if (!e.target) {\n      return;\n    }\n    // [target, parent, root, Canvas]\n    var composedPath = e.composedPath();\n    // event flow: capture -> target -> bubbling\n    // capture phase\n    e.eventPhase = e.CAPTURING_PHASE;\n    for (var i = composedPath.length - 1; i >= 1; i--) {\n      e.currentTarget = composedPath[i];\n      this.notifyTarget(e, type);\n      if (e.propagationStopped || e.propagationImmediatelyStopped) return;\n    }\n    // target phase\n    e.eventPhase = e.AT_TARGET;\n    e.currentTarget = e.target;\n    this.notifyTarget(e, type);\n    if (e.propagationStopped || e.propagationImmediatelyStopped) return;\n    // find current target in composed path\n    var index = composedPath.indexOf(e.currentTarget);\n    // bubbling phase\n    e.eventPhase = e.BUBBLING_PHASE;\n    for (var _i = index + 1; _i < composedPath.length; _i++) {\n      e.currentTarget = composedPath[_i];\n      this.notifyTarget(e, type);\n      if (e.propagationStopped || e.propagationImmediatelyStopped) return;\n    }\n  };\n  _proto.propagationPath = function propagationPath(target) {\n    var propagationPath = [target];\n    var canvas = this.rootTarget.defaultView || null;\n    if (canvas && canvas === target) {\n      propagationPath.unshift(canvas.document);\n      return propagationPath;\n    }\n    for (var i = 0; i < PROPAGATION_LIMIT && target !== this.rootTarget; i++) {\n      // if (Node.isNode(target) && !target.parentNode) {\n      //   throw new Error('Cannot find propagation path to disconnected target');\n      // }\n      if (Node.isNode(target) && target.parentNode) {\n        // [target, parent, parent, root]\n        propagationPath.push(target.parentNode);\n        target = target.parentNode;\n      }\n    }\n    if (canvas) {\n      // @ts-ignore\n      propagationPath.push(canvas);\n    }\n    return propagationPath;\n  };\n  _proto.hitTest = /*#__PURE__*/function () {\n    var _hitTest = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee8(position) {\n      var viewportX, viewportY, _this$context$config3, width, height;\n      return _regeneratorRuntime().wrap(function _callee8$(_context8) {\n        while (1) {\n          switch (_context8.prev = _context8.next) {\n            case 0:\n              viewportX = position.viewportX, viewportY = position.viewportY;\n              _this$context$config3 = this.context.config, width = _this$context$config3.width, height = _this$context$config3.height; // outside canvas\n              if (!(viewportX < 0 || viewportY < 0 || viewportX > width || viewportY > height)) {\n                _context8.next = 4;\n                break;\n              }\n              return _context8.abrupt(\"return\", null);\n            case 4:\n              _context8.next = 6;\n              return this.pickHandler(position);\n            case 6:\n              _context8.t1 = _context8.sent;\n              if (_context8.t1) {\n                _context8.next = 9;\n                break;\n              }\n              _context8.t1 = this.rootTarget;\n            case 9:\n              _context8.t0 = _context8.t1;\n              if (_context8.t0) {\n                _context8.next = 12;\n                break;\n              }\n              _context8.t0 =\n              // return Document\n              null;\n            case 12:\n              return _context8.abrupt(\"return\", _context8.t0);\n            case 13:\n            case \"end\":\n              return _context8.stop();\n          }\n        }\n      }, _callee8, this);\n    }));\n    function hitTest(_x8) {\n      return _hitTest.apply(this, arguments);\n    }\n    return hitTest;\n  }()\n  /**\r\n   * whether the native event trigger came from Canvas,\r\n   * should account for HTML shape\r\n   */\n  ;\n  _proto.isNativeEventFromCanvas = function isNativeEventFromCanvas(event) {\n    var _event$nativeEvent;\n    var $el = this.context.contextService.getDomElement();\n    var target = (_event$nativeEvent = event.nativeEvent) === null || _event$nativeEvent === void 0 ? void 0 : _event$nativeEvent.target;\n    if (target) {\n      // from <canvas>\n      if (target === $el) {\n        return true;\n      }\n      // from <svg>\n      if ($el && $el.contains) {\n        return $el.contains(target);\n      }\n    }\n    if (event.nativeEvent.composedPath) {\n      return event.nativeEvent.composedPath().indexOf($el) > -1;\n    }\n    // account for Touch\n    return false;\n  };\n  _proto.getExistedHTML = function getExistedHTML(event) {\n    if (event.nativeEvent.composedPath) {\n      var htmls = this.globalRuntime.displayObjectPool.getHTMLs();\n      for (var _iterator = _createForOfIteratorHelperLoose(htmls), _step; !(_step = _iterator()).done;) {\n        var html = _step.value;\n        if (event.nativeEvent.composedPath().indexOf(html) > -1) {\n          return html;\n        }\n      }\n    }\n    return null;\n  };\n  _proto.pickTarget = /*#__PURE__*/function () {\n    var _pickTarget = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee9(event) {\n      return _regeneratorRuntime().wrap(function _callee9$(_context9) {\n        while (1) {\n          switch (_context9.prev = _context9.next) {\n            case 0:\n              return _context9.abrupt(\"return\", this.hitTest({\n                clientX: event.clientX,\n                clientY: event.clientY,\n                viewportX: event.viewportX,\n                viewportY: event.viewportY,\n                x: event.canvasX,\n                y: event.canvasY\n              }));\n            case 1:\n            case \"end\":\n              return _context9.stop();\n          }\n        }\n      }, _callee9, this);\n    }));\n    function pickTarget(_x9) {\n      return _pickTarget.apply(this, arguments);\n    }\n    return pickTarget;\n  }();\n  _proto.createPointerEvent = /*#__PURE__*/function () {\n    var _createPointerEvent = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee10(from, type, target) {\n      var event, existedHTML;\n      return _regeneratorRuntime().wrap(function _callee10$(_context10) {\n        while (1) {\n          switch (_context10.prev = _context10.next) {\n            case 0:\n              event = this.allocateEvent(FederatedPointerEvent);\n              this.copyPointerData(from, event);\n              this.copyMouseData(from, event);\n              this.copyData(from, event);\n              event.nativeEvent = from.nativeEvent;\n              event.originalEvent = from;\n              existedHTML = this.getExistedHTML(event);\n              if (!(target !== null && target !== void 0)) {\n                _context10.next = 11;\n                break;\n              }\n              _context10.t0 = target;\n              _context10.next = 20;\n              break;\n            case 11:\n              _context10.t1 = existedHTML;\n              if (_context10.t1) {\n                _context10.next = 19;\n                break;\n              }\n              _context10.t2 = this.isNativeEventFromCanvas(event);\n              if (!_context10.t2) {\n                _context10.next = 18;\n                break;\n              }\n              _context10.next = 17;\n              return this.pickTarget(event);\n            case 17:\n              _context10.t2 = _context10.sent;\n            case 18:\n              _context10.t1 = _context10.t2;\n            case 19:\n              _context10.t0 = _context10.t1;\n            case 20:\n              event.target = _context10.t0;\n              if (typeof type === 'string') {\n                event.type = type;\n              }\n              return _context10.abrupt(\"return\", event);\n            case 23:\n            case \"end\":\n              return _context10.stop();\n          }\n        }\n      }, _callee10, this);\n    }));\n    function createPointerEvent(_x10, _x11, _x12) {\n      return _createPointerEvent.apply(this, arguments);\n    }\n    return createPointerEvent;\n  }();\n  _proto.createWheelEvent = /*#__PURE__*/function () {\n    var _createWheelEvent = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee11(from) {\n      var event, existedHTML;\n      return _regeneratorRuntime().wrap(function _callee11$(_context11) {\n        while (1) {\n          switch (_context11.prev = _context11.next) {\n            case 0:\n              event = this.allocateEvent(FederatedWheelEvent);\n              this.copyWheelData(from, event);\n              this.copyMouseData(from, event);\n              this.copyData(from, event);\n              event.nativeEvent = from.nativeEvent;\n              event.originalEvent = from;\n              existedHTML = this.getExistedHTML(event);\n              _context11.t0 = existedHTML;\n              if (_context11.t0) {\n                _context11.next = 15;\n                break;\n              }\n              _context11.t1 = this.isNativeEventFromCanvas(event);\n              if (!_context11.t1) {\n                _context11.next = 14;\n                break;\n              }\n              _context11.next = 13;\n              return this.pickTarget(event);\n            case 13:\n              _context11.t1 = _context11.sent;\n            case 14:\n              _context11.t0 = _context11.t1;\n            case 15:\n              event.target = _context11.t0;\n              return _context11.abrupt(\"return\", event);\n            case 17:\n            case \"end\":\n              return _context11.stop();\n          }\n        }\n      }, _callee11, this);\n    }));\n    function createWheelEvent(_x13) {\n      return _createWheelEvent.apply(this, arguments);\n    }\n    return createWheelEvent;\n  }();\n  _proto.trackingData = function trackingData(id) {\n    if (!this.mappingState.trackingData[id]) {\n      this.mappingState.trackingData[id] = {\n        pressTargetsByButton: {},\n        clicksByButton: {},\n        overTarget: null\n      };\n    }\n    return this.mappingState.trackingData[id];\n  };\n  _proto.cloneWheelEvent = function cloneWheelEvent(from) {\n    var event = this.allocateEvent(FederatedWheelEvent);\n    event.nativeEvent = from.nativeEvent;\n    event.originalEvent = from.originalEvent;\n    this.copyWheelData(from, event);\n    this.copyMouseData(from, event);\n    this.copyData(from, event);\n    event.target = from.target;\n    event.path = from.composedPath().slice();\n    event.type = from.type;\n    return event;\n  };\n  _proto.clonePointerEvent = function clonePointerEvent(from, type) {\n    var event = this.allocateEvent(FederatedPointerEvent);\n    event.nativeEvent = from.nativeEvent;\n    event.originalEvent = from.originalEvent;\n    this.copyPointerData(from, event);\n    this.copyMouseData(from, event);\n    this.copyData(from, event);\n    event.target = from.target;\n    event.path = from.composedPath().slice();\n    event.type = type !== null && type !== void 0 ? type : event.type;\n    return event;\n  };\n  _proto.copyPointerData = function copyPointerData(from, to) {\n    // if (\n    //   !(\n    //     from instanceof FederatedPointerEvent &&\n    //     to instanceof FederatedPointerEvent\n    //   )\n    // )\n    //   return;\n    to.pointerId = from.pointerId;\n    to.width = from.width;\n    to.height = from.height;\n    to.isPrimary = from.isPrimary;\n    to.pointerType = from.pointerType;\n    to.pressure = from.pressure;\n    to.tangentialPressure = from.tangentialPressure;\n    to.tiltX = from.tiltX;\n    to.tiltY = from.tiltY;\n    to.twist = from.twist;\n  };\n  _proto.copyMouseData = function copyMouseData(from, to) {\n    // if (\n    //   !(\n    //     from instanceof FederatedMouseEvent && to instanceof FederatedMouseEvent\n    //   )\n    // )\n    //   return;\n    to.altKey = from.altKey;\n    to.button = from.button;\n    to.buttons = from.buttons;\n    to.ctrlKey = from.ctrlKey;\n    to.metaKey = from.metaKey;\n    to.shiftKey = from.shiftKey;\n    to.client.copyFrom(from.client);\n    to.movement.copyFrom(from.movement);\n    to.canvas.copyFrom(from.canvas);\n    to.screen.copyFrom(from.screen);\n    to.global.copyFrom(from.global);\n    to.offset.copyFrom(from.offset);\n  };\n  _proto.copyWheelData = function copyWheelData(from, to) {\n    to.deltaMode = from.deltaMode;\n    to.deltaX = from.deltaX;\n    to.deltaY = from.deltaY;\n    to.deltaZ = from.deltaZ;\n  };\n  _proto.copyData = function copyData(from, to) {\n    to.isTrusted = from.isTrusted;\n    to.timeStamp = performance.now();\n    to.type = from.type;\n    to.detail = from.detail;\n    to.view = from.view;\n    to.page.copyFrom(from.page);\n    to.viewport.copyFrom(from.viewport);\n  };\n  _proto.allocateEvent = function allocateEvent(constructor) {\n    if (!this.eventPool.has(constructor)) {\n      this.eventPool.set(constructor, []);\n    }\n    // @ts-ignore\n    var event = this.eventPool.get(constructor).pop() || new constructor(this);\n    event.eventPhase = event.NONE;\n    event.currentTarget = null;\n    event.path = [];\n    event.target = null;\n    return event;\n  };\n  _proto.freeEvent = function freeEvent(event) {\n    if (event.manager !== this) throw new Error('It is illegal to free an event not managed by this EventBoundary!');\n    var constructor = event.constructor;\n    if (!this.eventPool.has(constructor)) {\n      this.eventPool.set(constructor, []);\n    }\n    // @ts-ignore\n    this.eventPool.get(constructor).push(event);\n  };\n  _proto.notifyTarget = function notifyTarget(e, type) {\n    var _type;\n    type = (_type = type) !== null && _type !== void 0 ? _type : e.type;\n    var key = e.eventPhase === e.CAPTURING_PHASE || e.eventPhase === e.AT_TARGET ? type + \"capture\" : type;\n    this.notifyListeners(e, key);\n    if (e.eventPhase === e.AT_TARGET) {\n      this.notifyListeners(e, type);\n    }\n  };\n  _proto.notifyListeners = function notifyListeners(e, type) {\n    // hack EventEmitter, stops if the `propagationImmediatelyStopped` flag is set\n    // @ts-ignore\n    var emitter = e.currentTarget.emitter;\n    // @ts-ignore\n    var listeners = emitter._events[type];\n    if (!listeners) return;\n    if ('fn' in listeners) {\n      if (listeners.once) {\n        emitter.removeListener(type, listeners.fn, undefined, true);\n      }\n      listeners.fn.call(e.currentTarget || listeners.context, e);\n      // listeners.fn.call(listeners.context, e);\n    } else {\n      for (var i = 0; i < listeners.length && !e.propagationImmediatelyStopped; i++) {\n        if (listeners[i].once) {\n          emitter.removeListener(type, listeners[i].fn, undefined, true);\n        }\n        listeners[i].fn.call(e.currentTarget || listeners[i].context, e);\n        // listeners[i].fn.call(listeners[i].context, e);\n      }\n    }\n  }\n  /**\r\n   * some detached nodes may exist in propagation path, need to skip them\r\n   */;\n  _proto.findMountedTarget = function findMountedTarget(propagationPath) {\n    if (!propagationPath) {\n      return null;\n    }\n    var currentTarget = propagationPath[propagationPath.length - 1];\n    for (var i = propagationPath.length - 2; i >= 0; i--) {\n      var target = propagationPath[i];\n      if (target === this.rootTarget || Node.isNode(target) && target.parentNode === currentTarget) {\n        currentTarget = propagationPath[i];\n      } else {\n        break;\n      }\n    }\n    return currentTarget;\n  };\n  _proto.getCursor = function getCursor(target) {\n    var tmp = target;\n    while (tmp) {\n      var cursor = Element.isElement(tmp) && tmp.getAttribute('cursor');\n      if (cursor) {\n        return cursor;\n      }\n      tmp = Node.isNode(tmp) && tmp.parentNode;\n    }\n  };\n  return EventService;\n}();\n\n/**\r\n * used in following scenes:\r\n * - g `ctx.measureText`\r\n * - g-plugin-canvas-picker `ctx.isPointInPath`\r\n * - g-plugin-device-renderer `ctx.createLinearGradient` and generate texture\r\n *\r\n * @see https://blog.scottlogic.com/2020/03/19/offscreen-canvas.html\r\n */\nvar OffscreenCanvasCreator = /*#__PURE__*/function () {\n  function OffscreenCanvasCreator() {\n    this.canvas = void 0;\n    this.context = void 0;\n  }\n  var _proto = OffscreenCanvasCreator.prototype;\n  _proto.getOrCreateCanvas = function getOrCreateCanvas(offscreenCanvas, contextAttributes) {\n    if (this.canvas) {\n      return this.canvas;\n    }\n    // user-defined offscreen canvas\n    if (offscreenCanvas) {\n      this.canvas = offscreenCanvas;\n      this.context = this.canvas.getContext('2d', contextAttributes);\n    } else {\n      try {\n        // OffscreenCanvas2D measureText can be up to 40% faster.\n        this.canvas = new window.OffscreenCanvas(0, 0);\n        this.context = this.canvas.getContext('2d', contextAttributes);\n        if (!this.context || !this.context.measureText) {\n          this.canvas = document.createElement('canvas');\n          this.context = this.canvas.getContext('2d');\n        }\n      } catch (ex) {\n        this.canvas = document.createElement('canvas');\n        this.context = this.canvas.getContext('2d', contextAttributes);\n      }\n    }\n    this.canvas.width = 10;\n    this.canvas.height = 10;\n    return this.canvas;\n  };\n  _proto.getOrCreateContext = function getOrCreateContext(offscreenCanvas, contextAttributes) {\n    if (this.context) {\n      return this.context;\n    }\n    this.getOrCreateCanvas(offscreenCanvas, contextAttributes);\n    return this.context;\n  };\n  return OffscreenCanvasCreator;\n}();\n\n/**\r\n * why we need re-render\r\n */\nvar RenderReason;\n(function (RenderReason) {\n  RenderReason[RenderReason[\"CAMERA_CHANGED\"] = 0] = \"CAMERA_CHANGED\";\n  RenderReason[RenderReason[\"DISPLAY_OBJECT_CHANGED\"] = 1] = \"DISPLAY_OBJECT_CHANGED\";\n  RenderReason[RenderReason[\"NONE\"] = 2] = \"NONE\";\n})(RenderReason || (RenderReason = {}));\n\n/**\r\n * Use frame renderer implemented by `g-canvas/svg/webgl`, in every frame we do followings:\r\n * * update & merge dirty rectangles\r\n * * begin frame\r\n * * filter by visible\r\n * * sort by z-index in scene graph\r\n * * culling with strategies registered in `g-canvas/webgl`\r\n * * end frame\r\n */\nvar RenderingService = /*#__PURE__*/function () {\n  function RenderingService(globalRuntime, context) {\n    this.globalRuntime = void 0;\n    this.context = void 0;\n    this.inited = false;\n    this.stats = {\n      /**\r\n       * total display objects in scenegraph\r\n       */\n      total: 0,\n      /**\r\n       * number of display objects need to render in current frame\r\n       */\n      rendered: 0\n    };\n    this.zIndexCounter = 0;\n    this.renderOrderChangedEvent = new CustomEvent(ElementEvent.RENDER_ORDER_CHANGED);\n    this.hooks = {\n      /**\r\n       * called before any frame rendered\r\n       */\n      init: new AsyncParallelHook(),\n      /**\r\n       * only dirty object which has sth changed will be rendered\r\n       */\n      dirtycheck: new SyncWaterfallHook(['object']),\n      /**\r\n       * do culling\r\n       */\n      cull: new SyncWaterfallHook(['object', 'camera']),\n      /**\r\n       * called at beginning of each frame, won't get called if nothing to re-render\r\n       */\n      beginFrame: new SyncHook([]),\n      /**\r\n       * called before every dirty object get rendered\r\n       */\n      beforeRender: new SyncHook(['objectToRender']),\n      /**\r\n       * called when every dirty object rendering even it's culled\r\n       */\n      render: new SyncHook(['objectToRender']),\n      /**\r\n       * called after every dirty object get rendered\r\n       */\n      afterRender: new SyncHook(['objectToRender']),\n      endFrame: new SyncHook([]),\n      destroy: new SyncHook([]),\n      /**\r\n       * use async but faster method such as GPU-based picking in `g-plugin-device-renderer`\r\n       */\n      pick: new AsyncSeriesWaterfallHook(['result']),\n      /**\r\n       * Unsafe but sync version of pick.\r\n       */\n      pickSync: new SyncWaterfallHook(['result']),\n      /**\r\n       * used in event system\r\n       */\n      pointerDown: new SyncHook(['event']),\n      pointerUp: new SyncHook(['event']),\n      pointerMove: new SyncHook(['event']),\n      pointerOut: new SyncHook(['event']),\n      pointerOver: new SyncHook(['event']),\n      pointerWheel: new SyncHook(['event']),\n      pointerCancel: new SyncHook(['event'])\n    };\n    this.globalRuntime = globalRuntime;\n    this.context = context;\n  }\n  var _proto = RenderingService.prototype;\n  _proto.init = /*#__PURE__*/function () {\n    var _init = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var context;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              context = _extends({}, this.globalRuntime, this.context); // register rendering plugins\n              this.context.renderingPlugins.forEach(function (plugin) {\n                plugin.apply(context, runtime);\n              });\n              // await this.hooks.init.callPromise();\n              _context.next = 4;\n              return this.hooks.init.promise();\n            case 4:\n              this.inited = true;\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n    function init() {\n      return _init.apply(this, arguments);\n    }\n    return init;\n  }();\n  _proto.getStats = function getStats() {\n    return this.stats;\n  }\n  /**\r\n   * Meet the following conditions:\r\n   * * disable DirtyRectangleRendering\r\n   * * camera changed\r\n   */;\n  _proto.disableDirtyRectangleRendering = function disableDirtyRectangleRendering() {\n    var renderer = this.context.config.renderer;\n    var _renderer$getConfig = renderer.getConfig(),\n      enableDirtyRectangleRendering = _renderer$getConfig.enableDirtyRectangleRendering;\n    return !enableDirtyRectangleRendering || this.context.renderingContext.renderReasons.has(RenderReason.CAMERA_CHANGED);\n  };\n  _proto.render = function render(canvasConfig, rerenderCallback) {\n    var _this = this;\n    this.stats.total = 0;\n    this.stats.rendered = 0;\n    this.zIndexCounter = 0;\n    var renderingContext = this.context.renderingContext;\n    this.globalRuntime.sceneGraphService.syncHierarchy(renderingContext.root);\n    this.globalRuntime.sceneGraphService.triggerPendingEvents();\n    if (renderingContext.renderReasons.size && this.inited) {\n      this.renderDisplayObject(renderingContext.root, canvasConfig, renderingContext);\n      this.hooks.beginFrame.call();\n      renderingContext.renderListCurrentFrame.forEach(function (object) {\n        _this.hooks.beforeRender.call(object);\n        _this.hooks.render.call(object);\n        _this.hooks.afterRender.call(object);\n      });\n      this.hooks.endFrame.call();\n      renderingContext.renderListCurrentFrame = [];\n      renderingContext.renderReasons.clear();\n      rerenderCallback();\n    }\n    // console.log('stats', this.stats);\n  };\n  _proto.renderDisplayObject = function renderDisplayObject(displayObject, canvasConfig, renderingContext) {\n    var _this2 = this;\n    var _canvasConfig$rendere = canvasConfig.renderer.getConfig(),\n      enableDirtyCheck = _canvasConfig$rendere.enableDirtyCheck,\n      enableCulling = _canvasConfig$rendere.enableCulling;\n    // recalc style values\n    if (this.globalRuntime.enableCSSParsing) {\n      this.globalRuntime.styleValueRegistry.recalc(displayObject);\n    }\n    // TODO: relayout\n    // dirtycheck first\n    var objectChanged = enableDirtyCheck ? this.hooks.dirtycheck.call(displayObject) : displayObject;\n    if (objectChanged) {\n      var objectToRender = enableCulling ? this.hooks.cull.call(objectChanged, this.context.camera) : objectChanged;\n      if (objectToRender) {\n        this.stats.rendered++;\n        renderingContext.renderListCurrentFrame.push(objectToRender);\n      }\n    }\n    displayObject.renderable.dirty = false;\n    displayObject.sortable.renderOrder = this.zIndexCounter++;\n    this.stats.total++;\n    // sort is very expensive, use cached result if posible\n    var sortable = displayObject.sortable;\n    var renderOrderChanged = false;\n    if (sortable.dirty) {\n      sortable.sorted = displayObject.childNodes.slice().sort(sortByZIndex);\n      renderOrderChanged = true;\n      sortable.dirty = false;\n    }\n    // recursive rendering its children\n    (sortable.sorted || displayObject.childNodes).forEach(function (child) {\n      _this2.renderDisplayObject(child, canvasConfig, renderingContext);\n    });\n    if (renderOrderChanged) {\n      displayObject.forEach(function (child) {\n        _this2.renderOrderChangedEvent.target = child;\n        _this2.renderOrderChangedEvent.detail = {\n          renderOrder: child.sortable.renderOrder\n        };\n        child.ownerDocument.defaultView.dispatchEvent(_this2.renderOrderChangedEvent, true);\n      });\n    }\n  };\n  _proto.destroy = function destroy() {\n    this.inited = false;\n    this.hooks.destroy.call();\n    this.globalRuntime.sceneGraphService.clearPendingEvents();\n  };\n  _proto.dirtify = function dirtify() {\n    // need re-render\n    this.context.renderingContext.renderReasons.add(RenderReason.DISPLAY_OBJECT_CHANGED);\n  };\n  return RenderingService;\n}();\n\nvar ATTRIBUTE_REGEXP = /\\[\\s*(.*)=(.*)\\s*\\]/;\n/**\r\n * support the following DOM API:\r\n * * getElementById\r\n * * getElementsByClassName\r\n * * getElementsByName\r\n * * getElementsByTag\r\n * * querySelector\r\n * * querySelectorAll\r\n */\nvar DefaultSceneGraphSelector = /*#__PURE__*/function () {\n  function DefaultSceneGraphSelector() {}\n  var _proto = DefaultSceneGraphSelector.prototype;\n  _proto.selectOne = function selectOne(query, root) {\n    var _this = this;\n    if (query.startsWith('.')) {\n      return root.find(function (node) {\n        // return !node.shadow && node.id === query.substring(1);\n        return ((node === null || node === void 0 ? void 0 : node.classList) || []).indexOf(_this.getIdOrClassname(query)) > -1;\n      });\n    } else if (query.startsWith('#')) {\n      // getElementById('id')\n      return root.find(function (node) {\n        // return !node.shadow && node.id === query.substring(1);\n        return node.id === _this.getIdOrClassname(query);\n      });\n    } else if (query.startsWith('[')) {\n      var _this$getAttribute = this.getAttribute(query),\n        name = _this$getAttribute.name,\n        value = _this$getAttribute.value;\n      if (name) {\n        // getElementByName();\n        return root.find(function (node) {\n          return root !== node && (name === 'name' ? node.name === value : _this.attributeToString(node, name) === value);\n        });\n      } else {\n        return null;\n      }\n    } else {\n      // getElementsByTag('circle');\n      return root.find(function (node) {\n        return root !== node && node.nodeName === query;\n      });\n    }\n  };\n  _proto.selectAll = function selectAll(query, root) {\n    var _this2 = this;\n    // only support `[name=\"${name}\"]` `.className` `#id`\n    if (query.startsWith('.')) {\n      // getElementsByClassName('className');\n      // should not include itself\n      return root.findAll(function (node) {\n        return root !== node && ((node === null || node === void 0 ? void 0 : node.classList) || []).indexOf(_this2.getIdOrClassname(query)) > -1;\n      });\n    } else if (query.startsWith('#')) {\n      return root.findAll(function (node) {\n        return root !== node && node.id === _this2.getIdOrClassname(query);\n      });\n    } else if (query.startsWith('[')) {\n      var _this$getAttribute2 = this.getAttribute(query),\n        name = _this$getAttribute2.name,\n        value = _this$getAttribute2.value;\n      if (name) {\n        // getElementsByName();\n        return root.findAll(function (node) {\n          return root !== node && (name === 'name' ? node.name === value : _this2.attributeToString(node, name) === value);\n        });\n      } else {\n        return [];\n      }\n    } else {\n      // getElementsByTag('circle');\n      return root.findAll(function (node) {\n        return root !== node && node.nodeName === query;\n      });\n    }\n  };\n  _proto.is = function is(query, node) {\n    // a simple `matches` implementation\n    if (query.startsWith('.')) {\n      return node.className === this.getIdOrClassname(query);\n    } else if (query.startsWith('#')) {\n      return node.id === this.getIdOrClassname(query);\n    } else if (query.startsWith('[')) {\n      var _this$getAttribute3 = this.getAttribute(query),\n        name = _this$getAttribute3.name,\n        value = _this$getAttribute3.value;\n      return name === 'name' ? node.name === value : this.attributeToString(node, name) === value;\n    } else {\n      return node.nodeName === query;\n    }\n  };\n  _proto.getIdOrClassname = function getIdOrClassname(query) {\n    return query.substring(1);\n  };\n  _proto.getAttribute = function getAttribute(query) {\n    var matches = query.match(ATTRIBUTE_REGEXP);\n    var name = '';\n    var value = '';\n    if (matches && matches.length > 2) {\n      name = matches[1].replace(/\"/g, '');\n      value = matches[2].replace(/\"/g, '');\n    }\n    return {\n      name: name,\n      value: value\n    };\n  };\n  _proto.attributeToString = function attributeToString(node, name) {\n    if (!node.getAttribute) {\n      return '';\n    }\n    var value = node.getAttribute(name);\n    if (isNil(value)) {\n      return '';\n    }\n    if (value.toString) {\n      return value.toString();\n    }\n    return '';\n  };\n  return DefaultSceneGraphSelector;\n}();\n\nfunction markRenderableDirty(e) {\n  var renderable = e.renderable;\n  if (renderable) {\n    renderable.renderBoundsDirty = true;\n    renderable.boundsDirty = true;\n  }\n}\nvar reparentEvent = new MutationEvent(ElementEvent.REPARENT, null, '', '', '', 0, '', '');\n/**\r\n * update transform in scene graph\r\n *\r\n * @see https://community.khronos.org/t/scene-graphs/50542/7\r\n */\nvar DefaultSceneGraphService = /*#__PURE__*/function () {\n  function DefaultSceneGraphService(runtime) {\n    var _this = this;\n    this.runtime = void 0;\n    this.pendingEvents = [];\n    this.boundsChangedEvent = new CustomEvent(ElementEvent.BOUNDS_CHANGED);\n    this.rotate = function () {\n      var parentInvertRotation = quat$1.create();\n      return function (element, degrees, y, z) {\n        if (y === void 0) {\n          y = 0;\n        }\n        if (z === void 0) {\n          z = 0;\n        }\n        if (typeof degrees === 'number') {\n          degrees = vec3.fromValues(degrees, y, z);\n        }\n        var transform = element.transformable;\n        if (element.parentNode === null || !element.parentNode.transformable) {\n          _this.rotateLocal(element, degrees);\n        } else {\n          var rotation = quat$1.create();\n          quat$1.fromEuler(rotation, degrees[0], degrees[1], degrees[2]);\n          var rot = _this.getRotation(element);\n          var parentRot = _this.getRotation(element.parentNode);\n          quat$1.copy(parentInvertRotation, parentRot);\n          quat$1.invert(parentInvertRotation, parentInvertRotation);\n          quat$1.multiply(rotation, parentInvertRotation, rotation);\n          quat$1.multiply(transform.localRotation, rotation, rot);\n          quat$1.normalize(transform.localRotation, transform.localRotation);\n          _this.dirtifyLocal(element, transform);\n        }\n      };\n    }();\n    this.rotateLocal = function () {\n      var rotation = quat$1.create();\n      return function (element, degrees, y, z) {\n        if (y === void 0) {\n          y = 0;\n        }\n        if (z === void 0) {\n          z = 0;\n        }\n        if (typeof degrees === 'number') {\n          degrees = vec3.fromValues(degrees, y, z);\n        }\n        var transform = element.transformable;\n        quat$1.fromEuler(rotation, degrees[0], degrees[1], degrees[2]);\n        quat$1.mul(transform.localRotation, transform.localRotation, rotation);\n        _this.dirtifyLocal(element, transform);\n      };\n    }();\n    this.setEulerAngles = function () {\n      var invParentRot = quat$1.create();\n      return function (element, degrees, y, z) {\n        if (y === void 0) {\n          y = 0;\n        }\n        if (z === void 0) {\n          z = 0;\n        }\n        if (typeof degrees === 'number') {\n          degrees = vec3.fromValues(degrees, y, z);\n        }\n        var transform = element.transformable;\n        if (element.parentNode === null || !element.parentNode.transformable) {\n          _this.setLocalEulerAngles(element, degrees);\n        } else {\n          quat$1.fromEuler(transform.localRotation, degrees[0], degrees[1], degrees[2]);\n          var parentRotation = _this.getRotation(element.parentNode);\n          quat$1.copy(invParentRot, quat$1.invert(quat$1.create(), parentRotation));\n          quat$1.mul(transform.localRotation, transform.localRotation, invParentRot);\n          _this.dirtifyLocal(element, transform);\n        }\n      };\n    }();\n    this.translateLocal = function () {\n      return function (element, translation, y, z) {\n        if (y === void 0) {\n          y = 0;\n        }\n        if (z === void 0) {\n          z = 0;\n        }\n        if (typeof translation === 'number') {\n          translation = vec3.fromValues(translation, y, z);\n        }\n        var transform = element.transformable;\n        if (vec3.equals(translation, vec3.create())) {\n          return;\n        }\n        vec3.transformQuat(translation, translation, transform.localRotation);\n        vec3.add(transform.localPosition, transform.localPosition, translation);\n        _this.dirtifyLocal(element, transform);\n      };\n    }();\n    this.setPosition = function () {\n      var parentInvertMatrix = mat4.create();\n      var tmpPosition = vec3.create();\n      return function (element, position) {\n        var transform = element.transformable;\n        tmpPosition[0] = position[0];\n        tmpPosition[1] = position[1];\n        tmpPosition[2] = position[2] || 0;\n        if (vec3.equals(_this.getPosition(element), tmpPosition)) {\n          return;\n        }\n        vec3.copy(transform.position, tmpPosition);\n        if (element.parentNode === null || !element.parentNode.transformable) {\n          vec3.copy(transform.localPosition, tmpPosition);\n        } else {\n          var parentTransform = element.parentNode.transformable;\n          mat4.copy(parentInvertMatrix, parentTransform.worldTransform);\n          mat4.invert(parentInvertMatrix, parentInvertMatrix);\n          vec3.transformMat4(transform.localPosition, tmpPosition, parentInvertMatrix);\n        }\n        _this.dirtifyLocal(element, transform);\n      };\n    }();\n    this.setLocalPosition = function () {\n      var tmpPosition = vec3.create();\n      return function (element, position) {\n        var transform = element.transformable;\n        tmpPosition[0] = position[0];\n        tmpPosition[1] = position[1];\n        tmpPosition[2] = position[2] || 0;\n        if (vec3.equals(transform.localPosition, tmpPosition)) {\n          return;\n        }\n        vec3.copy(transform.localPosition, tmpPosition);\n        _this.dirtifyLocal(element, transform);\n      };\n    }();\n    this.translate = function () {\n      var zeroVec3 = vec3.create();\n      var tmpVec3 = vec3.create();\n      var tr = vec3.create();\n      return function (element, translation, y, z) {\n        if (y === void 0) {\n          y = 0;\n        }\n        if (z === void 0) {\n          z = 0;\n        }\n        if (typeof translation === 'number') {\n          translation = vec3.set(tmpVec3, translation, y, z);\n        }\n        if (vec3.equals(translation, zeroVec3)) {\n          return;\n        }\n        vec3.add(tr, _this.getPosition(element), translation);\n        _this.setPosition(element, tr);\n      };\n    }();\n    this.setRotation = function () {\n      var parentInvertRotation = quat$1.create();\n      return function (element, rotation, y, z, w) {\n        var transform = element.transformable;\n        if (typeof rotation === 'number') {\n          rotation = quat$1.fromValues(rotation, y, z, w);\n        }\n        if (element.parentNode === null || !element.parentNode.transformable) {\n          _this.setLocalRotation(element, rotation);\n        } else {\n          var parentRot = _this.getRotation(element.parentNode);\n          quat$1.copy(parentInvertRotation, parentRot);\n          quat$1.invert(parentInvertRotation, parentInvertRotation);\n          quat$1.multiply(transform.localRotation, parentInvertRotation, rotation);\n          quat$1.normalize(transform.localRotation, transform.localRotation);\n          _this.dirtifyLocal(element, transform);\n        }\n      };\n    };\n    this.displayObjectDependencyMap = new WeakMap();\n    this.calcLocalTransform = function () {\n      var tmpMat = mat4.create();\n      var tmpPosition = vec3.create();\n      var tmpQuat = quat$1.fromValues(0, 0, 0, 1);\n      return function (transform) {\n        var hasSkew = transform.localSkew[0] !== 0 || transform.localSkew[1] !== 0;\n        if (hasSkew) {\n          mat4.fromRotationTranslationScaleOrigin(transform.localTransform, transform.localRotation, transform.localPosition, vec3.fromValues(1, 1, 1), transform.origin);\n          // apply skew2D\n          if (transform.localSkew[0] !== 0 || transform.localSkew[1] !== 0) {\n            var tmpMat4 = mat4.identity(tmpMat);\n            tmpMat4[4] = Math.tan(transform.localSkew[0]);\n            tmpMat4[1] = Math.tan(transform.localSkew[1]);\n            mat4.multiply(transform.localTransform, transform.localTransform, tmpMat4);\n          }\n          var scaling = mat4.fromRotationTranslationScaleOrigin(tmpMat, tmpQuat, tmpPosition, transform.localScale, transform.origin);\n          mat4.multiply(transform.localTransform, transform.localTransform, scaling);\n        } else {\n          // @see https://github.com/mattdesl/css-mat4/blob/master/index.js\n          mat4.fromRotationTranslationScaleOrigin(transform.localTransform, transform.localRotation, transform.localPosition, transform.localScale, transform.origin);\n        }\n      };\n    }();\n    this.runtime = runtime;\n  }\n  var _proto = DefaultSceneGraphService.prototype;\n  _proto.matches = function matches(query, root) {\n    return this.runtime.sceneGraphSelector.is(query, root);\n  };\n  _proto.querySelector = function querySelector(query, root) {\n    return this.runtime.sceneGraphSelector.selectOne(query, root);\n  };\n  _proto.querySelectorAll = function querySelectorAll(query, root) {\n    return this.runtime.sceneGraphSelector.selectAll(query, root);\n    // .filter((node) => !node.shadow);\n  };\n  _proto.attach = function attach(child, parent, index) {\n    var _sortable$sorted, _child$style;\n    var detached = false;\n    if (child.parentNode) {\n      detached = child.parentNode !== parent;\n      this.detach(child);\n    }\n    child.parentNode = parent;\n    if (!isNil(index)) {\n      child.parentNode.childNodes.splice(index, 0, child);\n    } else {\n      child.parentNode.childNodes.push(child);\n    }\n    // parent needs re-sort\n    var sortable = parent.sortable;\n    if ((sortable === null || sortable === void 0 ? void 0 : (_sortable$sorted = sortable.sorted) === null || _sortable$sorted === void 0 ? void 0 : _sortable$sorted.length) || ((_child$style = child.style) === null || _child$style === void 0 ? void 0 : _child$style.zIndex)) {\n      // if (sortable) {\n      // only child has z-Index\n      sortable.dirty = true;\n    }\n    // this.updateGraphDepth(child);\n    var transform = child.transformable;\n    if (transform) {\n      this.dirtifyWorld(child, transform);\n    }\n    if (transform.frozen) {\n      this.unfreezeParentToRoot(child);\n    }\n    if (detached) {\n      child.dispatchEvent(reparentEvent);\n    }\n  };\n  _proto.detach = function detach(child) {\n    if (child.parentNode) {\n      var _sortable$sorted2, _child$style2;\n      var transform = child.transformable;\n      // if (transform) {\n      //   const worldTransform = this.getWorldTransform(child, transform);\n      //   mat4.getScaling(transform.localScale, worldTransform);\n      //   mat4.getTranslation(transform.localPosition, worldTransform);\n      //   mat4.getRotation(transform.localRotation, worldTransform);\n      //   transform.localDirtyFlag = true;\n      // }\n      // parent needs re-sort\n      var sortable = child.parentNode.sortable;\n      // if (sortable) {\n      if ((sortable === null || sortable === void 0 ? void 0 : (_sortable$sorted2 = sortable.sorted) === null || _sortable$sorted2 === void 0 ? void 0 : _sortable$sorted2.length) || ((_child$style2 = child.style) === null || _child$style2 === void 0 ? void 0 : _child$style2.zIndex)) {\n        sortable.dirty = true;\n      }\n      var index = child.parentNode.childNodes.indexOf(child);\n      if (index > -1) {\n        child.parentNode.childNodes.splice(index, 1);\n      }\n      if (transform) {\n        this.dirtifyWorld(child, transform);\n      }\n      child.parentNode = null;\n    }\n  };\n  _proto.getOrigin = function getOrigin(element) {\n    return element.transformable.origin;\n  }\n  /**\r\n   * same as pivot in Pixi.js\r\n   *\r\n   * @see https://stackoverflow.com/questions/40748452/how-to-change-css-transform-origin-but-preserve-transformation\r\n   */;\n  _proto.setOrigin = function setOrigin(element, origin, y, z) {\n    if (y === void 0) {\n      y = 0;\n    }\n    if (z === void 0) {\n      z = 0;\n    }\n    if (typeof origin === 'number') {\n      origin = vec3.fromValues(origin, y, z);\n    }\n    var transform = element.transformable;\n    if (vec3.equals(origin, transform.origin)) {\n      return;\n    }\n    var originVec = transform.origin;\n    // const delta = vec3.subtract(vec3.create(), origin, originVec);\n    // vec3.add(transform.localPosition, transform.localPosition, delta);\n    // update origin\n    originVec[0] = origin[0];\n    originVec[1] = origin[1];\n    originVec[2] = origin[2] || 0;\n    this.dirtifyLocal(element, transform);\n  }\n  /**\r\n   * rotate in world space\r\n   */;\n  /**\r\n   * set euler angles(degrees) in local space\r\n   */\n  _proto.setLocalEulerAngles = function setLocalEulerAngles(element, degrees, y, z) {\n    if (y === void 0) {\n      y = 0;\n    }\n    if (z === void 0) {\n      z = 0;\n    }\n    if (typeof degrees === 'number') {\n      degrees = vec3.fromValues(degrees, y, z);\n    }\n    var transform = element.transformable;\n    quat$1.fromEuler(transform.localRotation, degrees[0], degrees[1], degrees[2]);\n    this.dirtifyLocal(element, transform);\n  }\n  /**\r\n   * translate in local space\r\n   *\r\n   * @example\r\n   * ```\r\n   * translateLocal(x, y, z)\r\n   * translateLocal(vec3(x, y, z))\r\n   * ```\r\n   */;\n  /**\r\n   * scale in local space\r\n   */\n  _proto.scaleLocal = function scaleLocal(element, scaling) {\n    var transform = element.transformable;\n    vec3.multiply(transform.localScale, transform.localScale, vec3.fromValues(scaling[0], scaling[1], scaling[2] || 1));\n    this.dirtifyLocal(element, transform);\n  };\n  _proto.setLocalScale = function setLocalScale(element, scaling) {\n    var transform = element.transformable;\n    var updatedScaling = vec3.fromValues(scaling[0], scaling[1], scaling[2] || transform.localScale[2]);\n    if (vec3.equals(updatedScaling, transform.localScale)) {\n      return;\n    }\n    vec3.copy(transform.localScale, updatedScaling);\n    this.dirtifyLocal(element, transform);\n  }\n  /**\r\n   * translate in world space\r\n   *\r\n   * @example\r\n   * ```\r\n   * translate(x, y, z)\r\n   * translate(vec3(x, y, z))\r\n   * ```\r\n   *\r\n   * 对应 g 原版的 translate 2D\r\n   * @see https://github.com/antvis/g/blob/master/packages/g-base/src/abstract/element.ts#L665-L676\r\n   */;\n  _proto.setLocalRotation = function setLocalRotation(element, rotation, y, z, w) {\n    if (typeof rotation === 'number') {\n      rotation = quat$1.fromValues(rotation, y, z, w);\n    }\n    var transform = element.transformable;\n    quat$1.copy(transform.localRotation, rotation);\n    this.dirtifyLocal(element, transform);\n  };\n  _proto.setLocalSkew = function setLocalSkew(element, skew, y) {\n    if (typeof skew === 'number') {\n      skew = vec2.fromValues(skew, y);\n    }\n    var transform = element.transformable;\n    vec2.copy(transform.localSkew, skew);\n    this.dirtifyLocal(element, transform);\n  };\n  _proto.dirtifyLocal = function dirtifyLocal(element, transform) {\n    if (!transform.localDirtyFlag) {\n      transform.localDirtyFlag = true;\n      if (!transform.dirtyFlag) {\n        this.dirtifyWorld(element, transform);\n      }\n    }\n  };\n  _proto.dirtifyWorld = function dirtifyWorld(element, transform) {\n    if (!transform.dirtyFlag) {\n      this.unfreezeParentToRoot(element);\n    }\n    this.dirtifyWorldInternal(element, transform);\n    this.dirtifyToRoot(element, true);\n  };\n  _proto.triggerPendingEvents = function triggerPendingEvents() {\n    var _this2 = this;\n    var set = new Set();\n    var trigger = function trigger(element, detail) {\n      if (element.isConnected && !set.has(element.entity)) {\n        _this2.boundsChangedEvent.detail = detail;\n        _this2.boundsChangedEvent.target = element;\n        if (element.isMutationObserved) {\n          element.dispatchEvent(_this2.boundsChangedEvent);\n        } else {\n          element.ownerDocument.defaultView.dispatchEvent(_this2.boundsChangedEvent, true);\n        }\n        set.add(element.entity);\n      }\n    };\n    this.pendingEvents.forEach(function (_ref) {\n      var element = _ref[0],\n        detail = _ref[1];\n      if (detail.affectChildren) {\n        element.forEach(function (e) {\n          trigger(e, detail);\n        });\n      } else {\n        trigger(element, detail);\n      }\n    });\n    this.clearPendingEvents();\n    set.clear();\n  };\n  _proto.clearPendingEvents = function clearPendingEvents() {\n    this.pendingEvents = [];\n  };\n  _proto.dirtifyToRoot = function dirtifyToRoot(element, affectChildren) {\n    if (affectChildren === void 0) {\n      affectChildren = false;\n    }\n    var p = element;\n    // only need to re-render itself\n    if (p.renderable) {\n      p.renderable.dirty = true;\n    }\n    while (p) {\n      markRenderableDirty(p);\n      p = p.parentNode;\n    }\n    if (affectChildren) {\n      element.forEach(function (e) {\n        markRenderableDirty(e);\n      });\n    }\n    // inform dependencies\n    this.informDependentDisplayObjects(element);\n    // reuse the same custom event\n    this.pendingEvents.push([element, {\n      affectChildren: affectChildren\n    }]);\n  };\n  _proto.updateDisplayObjectDependency = function updateDisplayObjectDependency(name, oldPath, newPath, object) {\n    // clear ref to old clip path\n    if (oldPath && oldPath !== newPath) {\n      var oldDependencyMap = this.displayObjectDependencyMap.get(oldPath);\n      if (oldDependencyMap && oldDependencyMap[name]) {\n        var index = oldDependencyMap[name].indexOf(object);\n        oldDependencyMap[name].splice(index, 1);\n      }\n    }\n    if (newPath) {\n      var newDependencyMap = this.displayObjectDependencyMap.get(newPath);\n      if (!newDependencyMap) {\n        this.displayObjectDependencyMap.set(newPath, {});\n        newDependencyMap = this.displayObjectDependencyMap.get(newPath);\n      }\n      if (!newDependencyMap[name]) {\n        newDependencyMap[name] = [];\n      }\n      newDependencyMap[name].push(object);\n    }\n  };\n  _proto.informDependentDisplayObjects = function informDependentDisplayObjects(object) {\n    var _this3 = this;\n    var dependencyMap = this.displayObjectDependencyMap.get(object);\n    if (dependencyMap) {\n      Object.keys(dependencyMap).forEach(function (name) {\n        dependencyMap[name].forEach(function (target) {\n          _this3.dirtifyToRoot(target, true);\n          target.dispatchEvent(new MutationEvent(ElementEvent.ATTR_MODIFIED, target, _this3, _this3, name, MutationEvent.MODIFICATION, _this3, _this3));\n          if (target.isCustomElement && target.isConnected) {\n            if (target.attributeChangedCallback) {\n              target.attributeChangedCallback(name, _this3, _this3);\n            }\n          }\n        });\n      });\n    }\n  };\n  _proto.getPosition = function getPosition(element) {\n    var transform = element.transformable;\n    return mat4.getTranslation(transform.position, this.getWorldTransform(element, transform));\n  };\n  _proto.getRotation = function getRotation(element) {\n    var transform = element.transformable;\n    return mat4.getRotation(transform.rotation, this.getWorldTransform(element, transform));\n  };\n  _proto.getScale = function getScale(element) {\n    var transform = element.transformable;\n    return mat4.getScaling(transform.scaling, this.getWorldTransform(element, transform));\n  };\n  _proto.getWorldTransform = function getWorldTransform(element, transform) {\n    if (transform === void 0) {\n      transform = element.transformable;\n    }\n    if (!transform.localDirtyFlag && !transform.dirtyFlag) {\n      return transform.worldTransform;\n    }\n    if (element.parentNode && element.parentNode.transformable) {\n      this.getWorldTransform(element.parentNode);\n    }\n    this.sync(element, transform);\n    return transform.worldTransform;\n  };\n  _proto.getLocalPosition = function getLocalPosition(element) {\n    return element.transformable.localPosition;\n  };\n  _proto.getLocalRotation = function getLocalRotation(element) {\n    return element.transformable.localRotation;\n  };\n  _proto.getLocalScale = function getLocalScale(element) {\n    return element.transformable.localScale;\n  };\n  _proto.getLocalSkew = function getLocalSkew(element) {\n    return element.transformable.localSkew;\n  };\n  _proto.getLocalTransform = function getLocalTransform(element) {\n    var transform = element.transformable;\n    if (transform.localDirtyFlag) {\n      this.calcLocalTransform(transform);\n      transform.localDirtyFlag = false;\n    }\n    return transform.localTransform;\n  };\n  _proto.setLocalTransform = function setLocalTransform(element, transform) {\n    var t = mat4.getTranslation(vec3.create(), transform);\n    var r = mat4.getRotation(quat$1.create(), transform);\n    var s = mat4.getScaling(vec3.create(), transform);\n    this.setLocalScale(element, s);\n    this.setLocalPosition(element, t);\n    this.setLocalRotation(element, r);\n  };\n  _proto.resetLocalTransform = function resetLocalTransform(element) {\n    this.setLocalScale(element, [1, 1, 1]);\n    this.setLocalPosition(element, [0, 0, 0]);\n    this.setLocalEulerAngles(element, [0, 0, 0]);\n    this.setLocalSkew(element, [0, 0]);\n  };\n  _proto.getTransformedGeometryBounds = function getTransformedGeometryBounds(element, render, existedAABB) {\n    if (render === void 0) {\n      render = false;\n    }\n    var bounds = this.getGeometryBounds(element, render);\n    if (!AABB.isEmpty(bounds)) {\n      var aabb = existedAABB || new AABB();\n      aabb.setFromTransformedAABB(bounds, this.getWorldTransform(element));\n      return aabb;\n    } else {\n      return null;\n    }\n  }\n  /**\r\n   * won't account for children\r\n   */;\n  _proto.getGeometryBounds = function getGeometryBounds(element, render) {\n    if (render === void 0) {\n      render = false;\n    }\n    var geometry = element.geometry;\n    var bounds = render ? geometry.renderBounds : geometry.contentBounds || null;\n    // return (bounds && new AABB(bounds.center, bounds.halfExtents)) || new AABB();\n    return bounds || new AABB();\n  }\n  /**\r\n   * account for children in world space\r\n   */;\n  _proto.getBounds = function getBounds(element, render) {\n    var _this4 = this;\n    if (render === void 0) {\n      render = false;\n    }\n    var renderable = element.renderable;\n    if (!renderable.boundsDirty && !render && renderable.bounds) {\n      return renderable.bounds;\n    }\n    if (!renderable.renderBoundsDirty && render && renderable.renderBounds) {\n      return renderable.renderBounds;\n    }\n    // reuse existed if possible\n    var existedAABB = render ? renderable.renderBounds : renderable.bounds;\n    // reset with geometry's aabb\n    var aabb = this.getTransformedGeometryBounds(element, render, existedAABB);\n    // merge children's aabbs\n    var children = element.childNodes;\n    children.forEach(function (child) {\n      var childBounds = _this4.getBounds(child, render);\n      if (childBounds) {\n        if (!aabb) {\n          aabb = existedAABB || new AABB();\n          aabb.update(childBounds.center, childBounds.halfExtents);\n        } else {\n          aabb.add(childBounds);\n        }\n      }\n    });\n    if (render) {\n      // FIXME: account for clip path\n      var clipped = findClosestClipPathTarget(element);\n      if (clipped) {\n        // use bounds under world space\n        var clipPathBounds = clipped.style.clipPath.getBounds(render);\n        if (!aabb) {\n          aabb = clipPathBounds;\n        } else if (clipPathBounds) {\n          aabb = clipPathBounds.intersection(aabb);\n        }\n      }\n    }\n    if (!aabb) {\n      aabb = new AABB();\n    }\n    if (aabb) {\n      if (render) {\n        renderable.renderBounds = aabb;\n      } else {\n        renderable.bounds = aabb;\n      }\n    }\n    if (render) {\n      renderable.renderBoundsDirty = false;\n    } else {\n      renderable.boundsDirty = false;\n    }\n    return aabb;\n  }\n  /**\r\n   * account for children in local space\r\n   */;\n  _proto.getLocalBounds = function getLocalBounds(element) {\n    if (element.parentNode) {\n      var parentInvert = mat4.create();\n      if (element.parentNode.transformable) {\n        parentInvert = mat4.invert(mat4.create(), this.getWorldTransform(element.parentNode));\n      }\n      var bounds = this.getBounds(element);\n      if (!AABB.isEmpty(bounds)) {\n        var localBounds = new AABB();\n        localBounds.setFromTransformedAABB(bounds, parentInvert);\n        return localBounds;\n      }\n    }\n    return this.getBounds(element);\n  };\n  _proto.getBoundingClientRect = function getBoundingClientRect(element) {\n    var _element$ownerDocumen, _element$ownerDocumen2;\n    var aabb;\n    var bounds = this.getGeometryBounds(element);\n    if (!AABB.isEmpty(bounds)) {\n      aabb = new AABB();\n      // apply transformation to aabb\n      aabb.setFromTransformedAABB(bounds, this.getWorldTransform(element));\n    }\n    // calc context's offset\n    var bbox = (_element$ownerDocumen = element.ownerDocument) === null || _element$ownerDocumen === void 0 ? void 0 : (_element$ownerDocumen2 = _element$ownerDocumen.defaultView) === null || _element$ownerDocumen2 === void 0 ? void 0 : _element$ownerDocumen2.getContextService().getBoundingClientRect();\n    if (aabb) {\n      var _aabb$getMin = aabb.getMin(),\n        left = _aabb$getMin[0],\n        top = _aabb$getMin[1];\n      var _aabb$getMax = aabb.getMax(),\n        right = _aabb$getMax[0],\n        bottom = _aabb$getMax[1];\n      return new Rectangle(left + ((bbox === null || bbox === void 0 ? void 0 : bbox.left) || 0), top + ((bbox === null || bbox === void 0 ? void 0 : bbox.top) || 0), right - left, bottom - top);\n    }\n    return new Rectangle((bbox === null || bbox === void 0 ? void 0 : bbox.left) || 0, (bbox === null || bbox === void 0 ? void 0 : bbox.top) || 0, 0, 0);\n  };\n  _proto.dirtifyWorldInternal = function dirtifyWorldInternal(element, transform) {\n    var _this5 = this;\n    if (!transform.dirtyFlag) {\n      transform.dirtyFlag = true;\n      transform.frozen = false;\n      element.childNodes.forEach(function (child) {\n        var childTransform = child.transformable;\n        if (!childTransform.dirtyFlag) {\n          _this5.dirtifyWorldInternal(child, childTransform);\n        }\n      });\n      var renderable = element.renderable;\n      if (renderable) {\n        renderable.renderBoundsDirty = true;\n        renderable.boundsDirty = true;\n        renderable.dirty = true;\n      }\n    }\n  };\n  _proto.syncHierarchy = function syncHierarchy(element) {\n    var transform = element.transformable;\n    if (transform.frozen) {\n      return;\n    }\n    transform.frozen = true;\n    if (transform.localDirtyFlag || transform.dirtyFlag) {\n      this.sync(element, transform);\n    }\n    var children = element.childNodes;\n    for (var i = 0; i < children.length; i++) {\n      this.syncHierarchy(children[i]);\n    }\n  };\n  _proto.sync = function sync(element, transform) {\n    if (transform.localDirtyFlag) {\n      this.calcLocalTransform(transform);\n      transform.localDirtyFlag = false;\n    }\n    if (transform.dirtyFlag) {\n      var parent = element.parentNode;\n      var parentTransform = parent && parent.transformable;\n      if (parent === null || !parentTransform) {\n        mat4.copy(transform.worldTransform, transform.localTransform);\n      } else {\n        // TODO: should we support scale compensation?\n        // @see https://github.com/playcanvas/engine/issues/1077#issuecomment-359765557\n        mat4.multiply(transform.worldTransform, parentTransform.worldTransform, transform.localTransform);\n      }\n      transform.dirtyFlag = false;\n    }\n  };\n  _proto.unfreezeParentToRoot = function unfreezeParentToRoot(child) {\n    var p = child.parentNode;\n    while (p) {\n      var transform = p.transformable;\n      if (transform) {\n        transform.frozen = false;\n      }\n      p = p.parentNode;\n    }\n  };\n  return DefaultSceneGraphService;\n}();\n\nvar TEXT_METRICS = {\n  MetricsString: '|ÉqÅ',\n  BaselineSymbol: 'M',\n  BaselineMultiplier: 1.4,\n  HeightMultiplier: 2,\n  Newlines: [0x000a, 0x000d // carriage return\n  ],\n\n  BreakingSpaces: [0x0009, 0x0020, 0x2000, 0x2001, 0x2002, 0x2003, 0x2004, 0x2005, 0x2006, 0x2008, 0x2009, 0x200a, 0x205f, 0x3000 // ideographic space\n  ]\n};\n\nvar LATIN_REGEX = /[a-zA-Z0-9\\u00C0-\\u00D6\\u00D8-\\u00f6\\u00f8-\\u00ff!\"#$%&'()*+,-./:;]/;\n// Line breaking rules in CJK (Kinsoku Shori)\n// Refer from https://en.wikipedia.org/wiki/Line_breaking_rules_in_East_Asian_languages\nvar regexCannotStartZhCn = /[!%),.:;?\\]}¢°·'\"\"†‡›℃∶、。〃〆〕〗〞﹚﹜！＂％＇），．：；？！］｝～]/;\nvar regexCannotEndZhCn = /[$(£¥·'\"〈《「『【〔〖〝﹙﹛＄（．［｛￡￥]/;\nvar regexCannotStartZhTw = /[!),.:;?\\]}¢·–—'\"•\"、。〆〞〕〉》」︰︱︲︳﹐﹑﹒﹓﹔﹕﹖﹘﹚﹜！），．：；？︶︸︺︼︾﹀﹂﹗］｜｝､]/;\nvar regexCannotEndZhTw = /[([{£¥'\"‵〈《「『〔〝︴﹙﹛（｛︵︷︹︻︽︿﹁﹃﹏]/;\nvar regexCannotStartJaJp = /[)\\]｝〕〉》」』】〙〗〟'\"｠»ヽヾーァィゥェォッャュョヮヵヶぁぃぅぇぉっゃゅょゎゕゖㇰㇱㇲㇳㇴㇵㇶㇷㇸㇹㇺㇻㇼㇽㇾㇿ々〻‐゠–〜?!‼⁇⁈⁉・、:;,。.]/;\nvar regexCannotEndJaJp = /[([｛〔〈《「『【〘〖〝'\"｟«—...‥〳〴〵]/;\nvar regexCannotStartKoKr = /[!%),.:;?\\]}¢°'\"†‡℃〆〈《「『〕！％），．：；？］｝]/;\nvar regexCannotEndKoKr = /[$([{£¥'\"々〇〉》」〔＄（［｛｠￥￦#]/;\nvar regexCannotStart = new RegExp(regexCannotStartZhCn.source + \"|\" + regexCannotStartZhTw.source + \"|\" + regexCannotStartJaJp.source + \"|\" + regexCannotStartKoKr.source);\nvar regexCannotEnd = new RegExp(regexCannotEndZhCn.source + \"|\" + regexCannotEndZhTw.source + \"|\" + regexCannotEndJaJp.source + \"|\" + regexCannotEndKoKr.source);\n/**\r\n * Borrow from pixi/packages/text/src/TextMetrics.ts\r\n */\nvar TextService = /*#__PURE__*/function () {\n  function TextService(runtime) {\n    var _this = this;\n    this.runtime = void 0;\n    this.fontMetricsCache = {};\n    this.shouldBreakByKinsokuShorui = function (char, nextChar) {\n      if (_this.isBreakingSpace(nextChar)) return false;\n      if (char) {\n        // Line breaking rules in CJK (Kinsoku Shori)\n        if (regexCannotEnd.exec(nextChar) || regexCannotStart.exec(char)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    this.trimByKinsokuShorui = function (prev) {\n      var next = [].concat(prev);\n      var prevLine = next[next.length - 2];\n      if (!prevLine) {\n        return prev;\n      }\n      var lastChar = prevLine[prevLine.length - 1];\n      next[next.length - 2] = prevLine.slice(0, -1);\n      next[next.length - 1] = lastChar + next[next.length - 1];\n      return next;\n    };\n    this.runtime = runtime;\n  }\n  /**\r\n   * font metrics cache\r\n   */\n  var _proto = TextService.prototype;\n  /**\r\n   * Calculates the ascent, descent and fontSize of a given font-style.\r\n   */\n  _proto.measureFont = function measureFont(font, offscreenCanvas) {\n    // as this method is used for preparing assets, don't recalculate things if we don't need to\n    if (this.fontMetricsCache[font]) {\n      return this.fontMetricsCache[font];\n    }\n    var properties = {\n      ascent: 0,\n      descent: 0,\n      fontSize: 0\n    };\n    var canvas = this.runtime.offscreenCanvas.getOrCreateCanvas(offscreenCanvas);\n    var context = this.runtime.offscreenCanvas.getOrCreateContext(offscreenCanvas);\n    context.font = font;\n    var metricsString = TEXT_METRICS.MetricsString + TEXT_METRICS.BaselineSymbol;\n    var width = Math.ceil(context.measureText(metricsString).width);\n    var baseline = Math.ceil(context.measureText(TEXT_METRICS.BaselineSymbol).width);\n    var height = TEXT_METRICS.HeightMultiplier * baseline;\n    baseline = baseline * TEXT_METRICS.BaselineMultiplier | 0;\n    // @ts-ignore\n    canvas.width = width;\n    // @ts-ignore\n    canvas.height = height;\n    context.fillStyle = '#f00';\n    context.fillRect(0, 0, width, height);\n    context.font = font;\n    context.textBaseline = 'alphabetic';\n    context.fillStyle = '#000';\n    context.fillText(metricsString, 0, baseline);\n    var imagedata = context.getImageData(0, 0, width || 1, height || 1).data;\n    var pixels = imagedata.length;\n    var line = width * 4;\n    var i = 0;\n    var idx = 0;\n    var stop = false;\n    // ascent. scan from top to bottom until we find a non red pixel\n    for (i = 0; i < baseline; ++i) {\n      for (var j = 0; j < line; j += 4) {\n        if (imagedata[idx + j] !== 255) {\n          stop = true;\n          break;\n        }\n      }\n      if (!stop) {\n        idx += line;\n      } else {\n        break;\n      }\n    }\n    properties.ascent = baseline - i;\n    idx = pixels - line;\n    stop = false;\n    // descent. scan from bottom to top until we find a non red pixel\n    for (i = height; i > baseline; --i) {\n      for (var _j = 0; _j < line; _j += 4) {\n        if (imagedata[idx + _j] !== 255) {\n          stop = true;\n          break;\n        }\n      }\n      if (!stop) {\n        idx -= line;\n      } else {\n        break;\n      }\n    }\n    properties.descent = i - baseline;\n    properties.fontSize = properties.ascent + properties.descent;\n    this.fontMetricsCache[font] = properties;\n    return properties;\n  };\n  _proto.measureText = function measureText(text, parsedStyle, offscreenCanvas) {\n    var fontSize = parsedStyle.fontSize,\n      wordWrap = parsedStyle.wordWrap,\n      strokeHeight = parsedStyle.lineHeight,\n      lineWidth = parsedStyle.lineWidth,\n      textBaseline = parsedStyle.textBaseline,\n      textAlign = parsedStyle.textAlign,\n      letterSpacing = parsedStyle.letterSpacing,\n      textPath = parsedStyle.textPath,\n      textPathSide = parsedStyle.textPathSide,\n      textPathStartOffset = parsedStyle.textPathStartOffset,\n      _parsedStyle$leading = parsedStyle.leading,\n      leading = _parsedStyle$leading === void 0 ? 0 : _parsedStyle$leading;\n    var font = toFontString(parsedStyle);\n    var fontProperties = this.measureFont(font, offscreenCanvas);\n    // fallback in case UA disallow canvas data extraction\n    // (toDataURI, getImageData functions)\n    if (fontProperties.fontSize === 0) {\n      fontProperties.fontSize = fontSize;\n      fontProperties.ascent = fontSize;\n    }\n    var context = this.runtime.offscreenCanvas.getOrCreateContext(offscreenCanvas);\n    context.font = font;\n    // no overflowing by default\n    parsedStyle.isOverflowing = false;\n    var outputText = wordWrap ? this.wordWrap(text, parsedStyle, offscreenCanvas) : text;\n    var lines = outputText.split(/(?:\\r\\n|\\r|\\n)/);\n    var lineWidths = new Array(lines.length);\n    var maxLineWidth = 0;\n    // account for textPath\n    if (textPath) {\n      var totalPathLength = textPath.getTotalLength();\n      // const startingPoint = textPath.getPoint(0);\n      for (var i = 0; i < lines.length; i++) {\n        var width = context.measureText(lines[i]).width + (lines[i].length - 1) * letterSpacing;\n        // for (\n        //   let i = reverse ? lines[0].length - 1 : 0;\n        //   reverse ? i >= 0 : i < lines[0].length;\n        //   reverse ? i-- : i++\n        // ) {\n        //   graphemeInfo = lineBounds[i];\n        //   if (positionInPath > totalPathLength) {\n        //     positionInPath %= totalPathLength;\n        //   } else if (positionInPath < 0) {\n        //     positionInPath += totalPathLength;\n        //   }\n        //   // it would probably much faster to send all the grapheme position for a line\n        //   // and calculate path position/angle at once.\n        //   this.setGraphemeOnPath(\n        //     positionInPath,\n        //     graphemeInfo,\n        //     startingPoint\n        //   );\n        //   positionInPath += graphemeInfo.kernedWidth;\n        // }\n      }\n    } else {\n      for (var _i = 0; _i < lines.length; _i++) {\n        // char width + letterSpacing\n        var _lineWidth = context.measureText(lines[_i]).width + (lines[_i].length - 1) * letterSpacing;\n        lineWidths[_i] = _lineWidth;\n        maxLineWidth = Math.max(maxLineWidth, _lineWidth);\n      }\n      var _width = maxLineWidth + lineWidth;\n      // if (dropShadow) {\n      //   width += dropShadowDistance;\n      // }\n      var lineHeight = strokeHeight || fontProperties.fontSize + lineWidth;\n      var height = Math.max(lineHeight, fontProperties.fontSize + lineWidth) + (lines.length - 1) * (lineHeight + leading);\n      // if (dropShadow) {\n      //   height += dropShadowDistance;\n      // }\n      lineHeight += leading;\n      // handle vertical text baseline\n      var offsetY = 0;\n      if (textBaseline === 'middle') {\n        offsetY = -height / 2;\n      } else if (textBaseline === 'bottom' || textBaseline === 'alphabetic' || textBaseline === 'ideographic') {\n        offsetY = -height;\n      } else if (textBaseline === 'top' || textBaseline === 'hanging') {\n        offsetY = 0;\n      }\n      return {\n        font: font,\n        width: _width,\n        height: height,\n        lines: lines,\n        lineWidths: lineWidths,\n        lineHeight: lineHeight,\n        maxLineWidth: maxLineWidth,\n        fontProperties: fontProperties,\n        lineMetrics: lineWidths.map(function (width, i) {\n          var offsetX = 0;\n          // handle horizontal text align\n          if (textAlign === 'center' || textAlign === 'middle') {\n            offsetX -= width / 2;\n          } else if (textAlign === 'right' || textAlign === 'end') {\n            offsetX -= width;\n          }\n          return new Rectangle(offsetX - lineWidth / 2, offsetY + i * lineHeight, width + lineWidth, lineHeight);\n        })\n      };\n    }\n  };\n  _proto.setGraphemeOnPath = function setGraphemeOnPath() {};\n  _proto.wordWrap = function wordWrap(text, parsedStyle, offscreenCanvas) {\n    var _this2 = this;\n    var _parsedStyle$wordWrap = parsedStyle.wordWrapWidth,\n      wordWrapWidth = _parsedStyle$wordWrap === void 0 ? 0 : _parsedStyle$wordWrap,\n      letterSpacing = parsedStyle.letterSpacing,\n      _parsedStyle$maxLines = parsedStyle.maxLines,\n      maxLines = _parsedStyle$maxLines === void 0 ? Infinity : _parsedStyle$maxLines,\n      textOverflow = parsedStyle.textOverflow;\n    var context = this.runtime.offscreenCanvas.getOrCreateContext(offscreenCanvas);\n    var maxWidth = wordWrapWidth + letterSpacing;\n    var ellipsis = '';\n    if (textOverflow === 'ellipsis') {\n      ellipsis = '...';\n    } else if (textOverflow && textOverflow !== 'clip') {\n      ellipsis = textOverflow;\n    }\n    var lines = [];\n    var currentIndex = 0;\n    var currentWidth = 0;\n    var cache = {};\n    var calcWidth = function calcWidth(char) {\n      return _this2.getFromCache(char, letterSpacing, cache, context);\n    };\n    var ellipsisWidth = Array.from(ellipsis).reduce(function (prev, cur) {\n      return prev + calcWidth(cur);\n    }, 0);\n    var chars = Array.from(text);\n    for (var i = 0; i < chars.length; i++) {\n      var char = chars[i];\n      var prevChar = text[i - 1];\n      var nextChar = text[i + 1];\n      var charWidth = calcWidth(char);\n      if (this.isNewline(char)) {\n        currentIndex++;\n        // exceed maxLines, break immediately\n        if (currentIndex >= maxLines) {\n          parsedStyle.isOverflowing = true;\n          break;\n        }\n        currentWidth = 0;\n        lines[currentIndex] = '';\n        continue;\n      }\n      if (currentWidth > 0 && currentWidth + charWidth > maxWidth) {\n        if (currentIndex + 1 >= maxLines) {\n          parsedStyle.isOverflowing = true;\n          // If there is not enough space to display the string itself, it is clipped.\n          // @see https://developer.mozilla.org/en-US/docs/Web/CSS/text-overflow#values\n          if (ellipsisWidth > 0 && ellipsisWidth <= maxWidth) {\n            // Backspace from line's end.\n            var currentLineLength = lines[currentIndex].length;\n            var lastLineWidth = 0;\n            var lastLineIndex = currentLineLength;\n            for (var _i2 = 0; _i2 < currentLineLength; _i2++) {\n              var width = calcWidth(lines[currentIndex][_i2]);\n              if (lastLineWidth + width + ellipsisWidth > maxWidth) {\n                lastLineIndex = _i2;\n                break;\n              }\n              lastLineWidth += width;\n            }\n            lines[currentIndex] = (lines[currentIndex] || '').slice(0, lastLineIndex) + ellipsis;\n          }\n          break;\n        }\n        currentIndex++;\n        currentWidth = 0;\n        lines[currentIndex] = '';\n        if (this.isBreakingSpace(char)) {\n          continue;\n        }\n        if (!this.canBreakInLastChar(char)) {\n          lines = this.trimToBreakable(lines);\n          currentWidth = this.sumTextWidthByCache(lines[currentIndex] || '', cache);\n        }\n        if (this.shouldBreakByKinsokuShorui(char, nextChar)) {\n          lines = this.trimByKinsokuShorui(lines);\n          currentWidth += calcWidth(prevChar || '');\n        }\n      }\n      currentWidth += charWidth;\n      lines[currentIndex] = (lines[currentIndex] || '') + char;\n    }\n    return lines.join('\\n');\n  };\n  _proto.isBreakingSpace = function isBreakingSpace(char) {\n    if (typeof char !== 'string') {\n      return false;\n    }\n    return TEXT_METRICS.BreakingSpaces.indexOf(char.charCodeAt(0)) >= 0;\n  };\n  _proto.isNewline = function isNewline(char) {\n    if (typeof char !== 'string') {\n      return false;\n    }\n    return TEXT_METRICS.Newlines.indexOf(char.charCodeAt(0)) >= 0;\n  };\n  _proto.trimToBreakable = function trimToBreakable(prev) {\n    var next = [].concat(prev);\n    var prevLine = next[next.length - 2];\n    var index = this.findBreakableIndex(prevLine);\n    if (index === -1 || !prevLine) return next;\n    var trimmedChar = prevLine.slice(index, index + 1);\n    var isTrimmedWithSpace = this.isBreakingSpace(trimmedChar);\n    var trimFrom = index + 1;\n    var trimTo = index + (isTrimmedWithSpace ? 0 : 1);\n    next[next.length - 1] += prevLine.slice(trimFrom, prevLine.length);\n    next[next.length - 2] = prevLine.slice(0, trimTo);\n    return next;\n  };\n  _proto.canBreakInLastChar = function canBreakInLastChar(char) {\n    if (char && LATIN_REGEX.test(char)) return false;\n    return true;\n  };\n  _proto.sumTextWidthByCache = function sumTextWidthByCache(text, cache) {\n    return text.split('').reduce(function (sum, c) {\n      if (!cache[c]) throw Error('cannot count the word without cache');\n      return sum + cache[c];\n    }, 0);\n  };\n  _proto.findBreakableIndex = function findBreakableIndex(line) {\n    for (var i = line.length - 1; i >= 0; i--) {\n      if (!LATIN_REGEX.test(line[i])) return i;\n    }\n    return -1;\n  };\n  _proto.getFromCache = function getFromCache(key, letterSpacing, cache, context) {\n    var width = cache[key];\n    if (typeof width !== 'number') {\n      var spacing = key.length * letterSpacing;\n      width = context.measureText(key).width + spacing;\n      cache[key] = width;\n    }\n    return width;\n  };\n  return TextService;\n}();\n\nvar _this = undefined;\nvar runtime = {};\n/**\r\n * Replace with IoC container\r\n */\nvar geometryUpdaterFactory = function () {\n  var _ref;\n  var rectUpdater = new RectUpdater();\n  var polylineUpdater = new PolylineUpdater();\n  return _ref = {}, _ref[Shape.CIRCLE] = new CircleUpdater(), _ref[Shape.ELLIPSE] = new EllipseUpdater(), _ref[Shape.RECT] = rectUpdater, _ref[Shape.IMAGE] = rectUpdater, _ref[Shape.GROUP] = rectUpdater, _ref[Shape.LINE] = new LineUpdater(), _ref[Shape.TEXT] = new TextUpdater(runtime), _ref[Shape.POLYLINE] = polylineUpdater, _ref[Shape.POLYGON] = polylineUpdater, _ref[Shape.PATH] = new PathUpdater(), _ref[Shape.HTML] = null, _ref[Shape.MESH] = null, _ref;\n}();\nvar CSSPropertySyntaxFactory = function () {\n  var _ref2;\n  var color = new CSSPropertyColor();\n  var length = new CSSPropertyLengthOrPercentage();\n  return _ref2 = {}, _ref2[PropertySyntax.PERCENTAGE] = null, _ref2[PropertySyntax.NUMBER] = new CSSPropertyNumber(), _ref2[PropertySyntax.ANGLE] = new CSSPropertyAngle(), _ref2[PropertySyntax.DEFINED_PATH] = new CSSPropertyClipPath(), _ref2[PropertySyntax.PAINT] = color, _ref2[PropertySyntax.COLOR] = color, _ref2[PropertySyntax.FILTER] = new CSSPropertyFilter(), _ref2[PropertySyntax.LENGTH] = length, _ref2[PropertySyntax.LENGTH_PERCENTAGE] = length, _ref2[PropertySyntax.LENGTH_PERCENTAGE_12] = new CSSPropertyLengthOrPercentage12(), _ref2[PropertySyntax.LENGTH_PERCENTAGE_14] = new CSSPropertyLengthOrPercentage14(), _ref2[PropertySyntax.COORDINATE] = new CSSPropertyLocalPosition(), _ref2[PropertySyntax.OFFSET_DISTANCE] = new CSSPropertyOffsetDistance(), _ref2[PropertySyntax.OPACITY_VALUE] = new CSSPropertyOpacity(), _ref2[PropertySyntax.PATH] = new CSSPropertyPath(), _ref2[PropertySyntax.LIST_OF_POINTS] = new CSSPropertyPoints(), _ref2[PropertySyntax.SHADOW_BLUR] = new CSSPropertyShadowBlur(), _ref2[PropertySyntax.TEXT] = new CSSPropertyText(), _ref2[PropertySyntax.TEXT_TRANSFORM] = new CSSPropertyTextTransform(), _ref2[PropertySyntax.TRANSFORM] = new CSSPropertyTransform(), _ref2[PropertySyntax.TRANSFORM_ORIGIN] = new CSSPropertyTransformOrigin(), _ref2[PropertySyntax.Z_INDEX] = new CSSPropertyZIndex(), _ref2[PropertySyntax.MARKER] = new CSSPropertyMarker(), _ref2;\n}();\nvar getGlobalThis = function getGlobalThis() {\n  if (typeof globalThis !== 'undefined') return globalThis;\n  if (typeof self !== 'undefined') return self;\n  if (typeof window !== 'undefined') return window;\n  // @ts-ignore\n  if (typeof global !== 'undefined') return global;\n  if (typeof _this !== 'undefined') return _this;\n  throw new Error('Unable to locate global `this`');\n};\n/**\r\n * Camera\r\n * `g-camera-api` will provide an advanced implementation\r\n */\nruntime.CameraContribution = Camera;\n/**\r\n * `g-web-animations-api` will provide an AnimationTimeline\r\n */\nruntime.AnimationTimeline = null;\nruntime.EasingFunction = null;\nruntime.offscreenCanvas = new OffscreenCanvasCreator();\nruntime.displayObjectPool = new DisplayObjectPool();\nruntime.sceneGraphSelector = new DefaultSceneGraphSelector();\nruntime.sceneGraphService = new DefaultSceneGraphService(runtime);\nruntime.textService = new TextService(runtime);\nruntime.geometryUpdaterFactory = geometryUpdaterFactory;\nruntime.CSSPropertySyntaxFactory = CSSPropertySyntaxFactory;\nruntime.styleValueRegistry = new DefaultStyleValueRegistry();\nruntime.layoutRegistry = null;\nruntime.globalThis = getGlobalThis();\nruntime.enableCSSParsing = true;\n\nvar AbstractRendererPlugin = /*#__PURE__*/function () {\n  function AbstractRendererPlugin() {\n    this.context = void 0;\n    this.plugins = [];\n  }\n  var _proto = AbstractRendererPlugin.prototype;\n  _proto.addRenderingPlugin = function addRenderingPlugin(plugin) {\n    this.plugins.push(plugin);\n    this.context.renderingPlugins.push(plugin);\n  };\n  _proto.removeAllRenderingPlugins = function removeAllRenderingPlugins() {\n    var _this = this;\n    this.plugins.forEach(function (plugin) {\n      var index = _this.context.renderingPlugins.indexOf(plugin);\n      if (index >= 0) {\n        _this.context.renderingPlugins.splice(index, 1);\n      }\n    });\n  };\n  return AbstractRendererPlugin;\n}();\nvar AbstractRenderer = /*#__PURE__*/function () {\n  function AbstractRenderer(config) {\n    this.plugins = [];\n    this.config = void 0;\n    this.config = _extends({\n      /**\r\n       * only dirty object will cause re-render\r\n       */\n      enableDirtyCheck: true,\n      enableCulling: false,\n      /**\r\n       * enable auto rendering by default\r\n       */\n      enableAutoRendering: true,\n      /**\r\n       * enable dirty rectangle rendering by default\r\n       */\n      enableDirtyRectangleRendering: true,\n      enableDirtyRectangleRenderingDebug: false\n    }, config);\n  }\n  var _proto2 = AbstractRenderer.prototype;\n  _proto2.registerPlugin = function registerPlugin(plugin) {\n    var index = this.plugins.findIndex(function (p) {\n      return p === plugin;\n    });\n    if (index === -1) {\n      this.plugins.push(plugin);\n    }\n  };\n  _proto2.unregisterPlugin = function unregisterPlugin(plugin) {\n    var index = this.plugins.findIndex(function (p) {\n      return p === plugin;\n    });\n    if (index > -1) {\n      this.plugins.splice(index, 1);\n    }\n  };\n  _proto2.getPlugins = function getPlugins() {\n    return this.plugins;\n  };\n  _proto2.getPlugin = function getPlugin(name) {\n    return this.plugins.find(function (plugin) {\n      return plugin.name === name;\n    });\n  };\n  _proto2.getConfig = function getConfig() {\n    return this.config;\n  };\n  _proto2.setConfig = function setConfig(config) {\n    Object.assign(this.config, config);\n  };\n  return AbstractRenderer;\n}();\n\n/**\r\n * apply following rules:\r\n * 1. `visibility` in scenegraph node\r\n * 2. other custom culling strategies, eg. frustum culling\r\n */\nvar CullingPlugin = /*#__PURE__*/function () {\n  function CullingPlugin(strategies) {\n    this.strategies = void 0;\n    this.strategies = strategies;\n  }\n  var _proto = CullingPlugin.prototype;\n  _proto.apply = function apply(context) {\n    var camera = context.camera,\n      renderingService = context.renderingService,\n      renderingContext = context.renderingContext;\n    var strategies = this.strategies;\n    renderingService.hooks.cull.tap(CullingPlugin.tag, function (object) {\n      if (object) {\n        var cullable = object.cullable;\n        // cullable.visible = true;\n        // const renderBounds = object.getRenderBounds();\n        // if (AABB.isEmpty(renderBounds)) {\n        //   cullable.visible = false;\n        // } else {\n        //   const isShape2D = shape2D.indexOf(object.nodeName as Shape) > -1;\n        //   const [p0, p1, p2, p3] = camera.getFrustum().planes;\n        //   tmpAABB.setMinMax([-p1.distance, -p3.distance, 0], [p0.distance, p2.distance, 0]);\n        //   cullable.visible = isShape2D ? renderBounds.intersects(tmpAABB) : true;\n        // }\n        if (strategies.length === 0) {\n          cullable.visible = renderingContext.unculledEntities.indexOf(object.entity) > -1;\n        } else {\n          // eg. implemented by g-webgl(frustum culling)\n          cullable.visible = strategies.every(function (strategy) {\n            return strategy.isVisible(camera, object);\n          });\n        }\n        if (!object.isCulled() && object.isVisible()) {\n          return object;\n        } else {\n          // if (this.renderingContext.renderListLastFrame.indexOf(object) > -1) {\n          object.dispatchEvent(new CustomEvent(ElementEvent.CULLED));\n          // }\n        }\n\n        return null;\n      }\n      return object;\n    });\n    renderingService.hooks.afterRender.tap(CullingPlugin.tag, function (object) {\n      object.cullable.visibilityPlaneMask = -1;\n    });\n  };\n  return CullingPlugin;\n}();\nCullingPlugin.tag = 'Culling';\n\n/**\r\n * Filter dirty renderables and calculate the \"dirty rectangle\" which will be clear when frame began\r\n */\nvar DirtyCheckPlugin = /*#__PURE__*/function () {\n  function DirtyCheckPlugin() {}\n  var _proto = DirtyCheckPlugin.prototype;\n  _proto.apply = function apply(context) {\n    var renderingService = context.renderingService;\n    renderingService.hooks.dirtycheck.tap(DirtyCheckPlugin.tag, function (object) {\n      if (object) {\n        var renderable = object.renderable;\n        var isDirty = renderable.dirty || renderingService.disableDirtyRectangleRendering();\n        if (isDirty) {\n          return object;\n        } else {\n          return null;\n        }\n      }\n      return object;\n    });\n  };\n  return DirtyCheckPlugin;\n}();\nDirtyCheckPlugin.tag = 'DirtyCheck';\n\n/**\r\n * support mouse & touch events\r\n * @see https://github.com/pixijs/pixi.js/blob/dev/packages/interaction/README.md\r\n *\r\n * also provide some extra events such as `drag`\r\n */\nvar EventPlugin = /*#__PURE__*/function () {\n  function EventPlugin() {\n    var _this = this;\n    this.autoPreventDefault = false;\n    this.rootPointerEvent = new FederatedPointerEvent(null);\n    this.rootWheelEvent = new FederatedWheelEvent(null);\n    this.context = void 0;\n    this.onPointerMove = function (nativeEvent) {\n      var _this$context$renderi, _this$context$renderi2;\n      var canvas = (_this$context$renderi = _this.context.renderingContext.root) === null || _this$context$renderi === void 0 ? void 0 : (_this$context$renderi2 = _this$context$renderi.ownerDocument) === null || _this$context$renderi2 === void 0 ? void 0 : _this$context$renderi2.defaultView;\n      if (canvas.supportsTouchEvents && nativeEvent.pointerType === 'touch') return;\n      var normalizedEvents = _this.normalizeToPointerEvent(nativeEvent, canvas);\n      for (var _iterator = _createForOfIteratorHelperLoose(normalizedEvents), _step; !(_step = _iterator()).done;) {\n        var normalizedEvent = _step.value;\n        var event = _this.bootstrapEvent(_this.rootPointerEvent, normalizedEvent, canvas);\n        _this.context.eventService.mapEvent(event);\n      }\n      _this.setCursor(_this.context.eventService.cursor);\n    };\n  }\n  var _proto = EventPlugin.prototype;\n  _proto.apply = function apply(context) {\n    var _this2 = this;\n    this.context = context;\n    var renderingService = context.renderingService;\n    var canvas = this.context.renderingContext.root.ownerDocument.defaultView;\n    this.context.eventService.setPickHandler( /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(position) {\n        var _yield$_this2$context, picked;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return _this2.context.renderingService.hooks.pick.promise({\n                  position: position,\n                  picked: [],\n                  topmost: true // we only concern the topmost element\n                });\n              case 2:\n                _yield$_this2$context = _context.sent;\n                picked = _yield$_this2$context.picked;\n                return _context.abrupt(\"return\", picked[0] || null);\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n    renderingService.hooks.pointerWheel.tap(EventPlugin.tag, function (nativeEvent) {\n      var wheelEvent = _this2.normalizeWheelEvent(nativeEvent);\n      _this2.context.eventService.mapEvent(wheelEvent);\n    });\n    renderingService.hooks.pointerDown.tap(EventPlugin.tag, function (nativeEvent) {\n      if (canvas.supportsTouchEvents && nativeEvent.pointerType === 'touch') return;\n      var events = _this2.normalizeToPointerEvent(nativeEvent, canvas);\n      if (_this2.autoPreventDefault && events[0].isNormalized) {\n        var cancelable = nativeEvent.cancelable || !('cancelable' in nativeEvent);\n        if (cancelable) {\n          nativeEvent.preventDefault();\n        }\n      }\n      for (var _iterator2 = _createForOfIteratorHelperLoose(events), _step2; !(_step2 = _iterator2()).done;) {\n        var event = _step2.value;\n        var federatedEvent = _this2.bootstrapEvent(_this2.rootPointerEvent, event, canvas);\n        _this2.context.eventService.mapEvent(federatedEvent);\n      }\n      _this2.setCursor(_this2.context.eventService.cursor);\n    });\n    renderingService.hooks.pointerUp.tap(EventPlugin.tag, function (nativeEvent) {\n      if (canvas.supportsTouchEvents && nativeEvent.pointerType === 'touch') return;\n      // account for element in SVG\n      var $element = _this2.context.contextService.getDomElement();\n      var outside = 'outside';\n      try {\n        outside = $element && nativeEvent.target && nativeEvent.target !== $element && $element.contains && !$element.contains(nativeEvent.target) ? 'outside' : '';\n      } catch (e) {\n        // nativeEvent.target maybe not Node, such as Window\n        // @see https://github.com/antvis/G/issues/1235\n      }\n      var normalizedEvents = _this2.normalizeToPointerEvent(nativeEvent, canvas);\n      for (var _iterator3 = _createForOfIteratorHelperLoose(normalizedEvents), _step3; !(_step3 = _iterator3()).done;) {\n        var normalizedEvent = _step3.value;\n        var event = _this2.bootstrapEvent(_this2.rootPointerEvent, normalizedEvent, canvas);\n        event.type += outside;\n        _this2.context.eventService.mapEvent(event);\n      }\n      _this2.setCursor(_this2.context.eventService.cursor);\n    });\n    renderingService.hooks.pointerMove.tap(EventPlugin.tag, this.onPointerMove);\n    renderingService.hooks.pointerOver.tap(EventPlugin.tag, this.onPointerMove);\n    renderingService.hooks.pointerOut.tap(EventPlugin.tag, this.onPointerMove);\n  };\n  _proto.getViewportXY = function getViewportXY(nativeEvent) {\n    var x;\n    var y;\n    /**\r\n     * Should account for CSS Transform applied on container.\r\n     * @see https://github.com/antvis/G/issues/1161\r\n     * @see https://developer.mozilla.org/zh-CN/docs/Web/API/MouseEvent/offsetX\r\n     */\n    var offsetX = nativeEvent.offsetX,\n      offsetY = nativeEvent.offsetY,\n      clientX = nativeEvent.clientX,\n      clientY = nativeEvent.clientY;\n    if (this.context.config.supportsCSSTransform && !isNil(offsetX) && !isNil(offsetY)) {\n      x = offsetX;\n      y = offsetY;\n    } else {\n      var point = this.context.eventService.client2Viewport(new Point(clientX, clientY));\n      x = point.x;\n      y = point.y;\n    }\n    return {\n      x: x,\n      y: y\n    };\n  };\n  _proto.bootstrapEvent = function bootstrapEvent(event, nativeEvent, view) {\n    event.view = view;\n    event.originalEvent = null;\n    event.nativeEvent = nativeEvent;\n    event.pointerId = nativeEvent.pointerId;\n    event.width = nativeEvent.width;\n    event.height = nativeEvent.height;\n    event.isPrimary = nativeEvent.isPrimary;\n    event.pointerType = nativeEvent.pointerType;\n    event.pressure = nativeEvent.pressure;\n    event.tangentialPressure = nativeEvent.tangentialPressure;\n    event.tiltX = nativeEvent.tiltX;\n    event.tiltY = nativeEvent.tiltY;\n    event.twist = nativeEvent.twist;\n    this.transferMouseData(event, nativeEvent);\n    var _this$getViewportXY = this.getViewportXY(nativeEvent),\n      x = _this$getViewportXY.x,\n      y = _this$getViewportXY.y;\n    event.viewport.x = x;\n    event.viewport.y = y;\n    var _this$context$eventSe = this.context.eventService.viewport2Canvas(event.viewport),\n      canvasX = _this$context$eventSe.x,\n      canvasY = _this$context$eventSe.y;\n    event.canvas.x = canvasX;\n    event.canvas.y = canvasY;\n    event.global.copyFrom(event.canvas);\n    event.offset.copyFrom(event.canvas);\n    event.isTrusted = nativeEvent.isTrusted;\n    if (event.type === 'pointerleave') {\n      event.type = 'pointerout';\n    }\n    if (event.type.startsWith('mouse')) {\n      event.type = event.type.replace('mouse', 'pointer');\n    }\n    if (event.type.startsWith('touch')) {\n      event.type = TOUCH_TO_POINTER[event.type] || event.type;\n    }\n    return event;\n  };\n  _proto.normalizeWheelEvent = function normalizeWheelEvent(nativeEvent) {\n    var event = this.rootWheelEvent;\n    this.transferMouseData(event, nativeEvent);\n    event.deltaMode = nativeEvent.deltaMode;\n    event.deltaX = nativeEvent.deltaX;\n    event.deltaY = nativeEvent.deltaY;\n    event.deltaZ = nativeEvent.deltaZ;\n    var _this$getViewportXY2 = this.getViewportXY(nativeEvent),\n      x = _this$getViewportXY2.x,\n      y = _this$getViewportXY2.y;\n    event.viewport.x = x;\n    event.viewport.y = y;\n    var _this$context$eventSe2 = this.context.eventService.viewport2Canvas(event.viewport),\n      canvasX = _this$context$eventSe2.x,\n      canvasY = _this$context$eventSe2.y;\n    event.canvas.x = canvasX;\n    event.canvas.y = canvasY;\n    event.global.copyFrom(event.canvas);\n    event.offset.copyFrom(event.canvas);\n    event.nativeEvent = nativeEvent;\n    event.type = nativeEvent.type;\n    return event;\n  }\n  /**\r\n   * Transfers base & mouse event data from the nativeEvent to the federated event.\r\n   */;\n  _proto.transferMouseData = function transferMouseData(event, nativeEvent) {\n    event.isTrusted = nativeEvent.isTrusted;\n    event.srcElement = nativeEvent.srcElement;\n    event.timeStamp = performance.now();\n    event.type = nativeEvent.type;\n    event.altKey = nativeEvent.altKey;\n    event.metaKey = nativeEvent.metaKey;\n    event.shiftKey = nativeEvent.shiftKey;\n    event.ctrlKey = nativeEvent.ctrlKey;\n    event.button = nativeEvent.button;\n    event.buttons = nativeEvent.buttons;\n    event.client.x = nativeEvent.clientX;\n    event.client.y = nativeEvent.clientY;\n    event.movement.x = nativeEvent.movementX;\n    event.movement.y = nativeEvent.movementY;\n    event.page.x = nativeEvent.pageX;\n    event.page.y = nativeEvent.pageY;\n    event.screen.x = nativeEvent.screenX;\n    event.screen.y = nativeEvent.screenY;\n    event.relatedTarget = null;\n  };\n  _proto.setCursor = function setCursor(cursor) {\n    this.context.contextService.applyCursorStyle(cursor || this.context.config.cursor || 'default');\n  };\n  _proto.normalizeToPointerEvent = function normalizeToPointerEvent(event, canvas) {\n    var normalizedEvents = [];\n    if (canvas.isTouchEvent(event)) {\n      for (var i = 0; i < event.changedTouches.length; i++) {\n        var touch = event.changedTouches[i];\n        // use changedTouches instead of touches since touchend has no touches\n        // @see https://stackoverflow.com/a/10079076\n        if (isUndefined(touch.button)) touch.button = 0;\n        if (isUndefined(touch.buttons)) touch.buttons = 1;\n        if (isUndefined(touch.isPrimary)) {\n          touch.isPrimary = event.touches.length === 1 && event.type === 'touchstart';\n        }\n        if (isUndefined(touch.width)) touch.width = touch.radiusX || 1;\n        if (isUndefined(touch.height)) touch.height = touch.radiusY || 1;\n        if (isUndefined(touch.tiltX)) touch.tiltX = 0;\n        if (isUndefined(touch.tiltY)) touch.tiltY = 0;\n        if (isUndefined(touch.pointerType)) touch.pointerType = 'touch';\n        // @see https://developer.mozilla.org/zh-CN/docs/Web/API/Touch/identifier\n        if (isUndefined(touch.pointerId)) touch.pointerId = touch.identifier || 0;\n        if (isUndefined(touch.pressure)) touch.pressure = touch.force || 0.5;\n        if (isUndefined(touch.twist)) touch.twist = 0;\n        if (isUndefined(touch.tangentialPressure)) touch.tangentialPressure = 0;\n        touch.isNormalized = true;\n        touch.type = event.type;\n        normalizedEvents.push(touch);\n      }\n    } else if (canvas.isMouseEvent(event)) {\n      var tempEvent = event;\n      if (isUndefined(tempEvent.isPrimary)) tempEvent.isPrimary = true;\n      if (isUndefined(tempEvent.width)) tempEvent.width = 1;\n      if (isUndefined(tempEvent.height)) tempEvent.height = 1;\n      if (isUndefined(tempEvent.tiltX)) tempEvent.tiltX = 0;\n      if (isUndefined(tempEvent.tiltY)) tempEvent.tiltY = 0;\n      if (isUndefined(tempEvent.pointerType)) tempEvent.pointerType = 'mouse';\n      if (isUndefined(tempEvent.pointerId)) tempEvent.pointerId = MOUSE_POINTER_ID;\n      if (isUndefined(tempEvent.pressure)) tempEvent.pressure = 0.5;\n      if (isUndefined(tempEvent.twist)) tempEvent.twist = 0;\n      if (isUndefined(tempEvent.tangentialPressure)) tempEvent.tangentialPressure = 0;\n      tempEvent.isNormalized = true;\n      normalizedEvents.push(tempEvent);\n    } else {\n      normalizedEvents.push(event);\n    }\n    return normalizedEvents;\n  };\n  return EventPlugin;\n}();\nEventPlugin.tag = 'Event';\n\n// group is not a 2d shape\nvar shape2D = [Shape.CIRCLE, Shape.ELLIPSE, Shape.IMAGE, Shape.RECT, Shape.LINE, Shape.POLYLINE, Shape.POLYGON, Shape.TEXT, Shape.PATH, Shape.HTML];\nvar FrustumCullingStrategy = /*#__PURE__*/function () {\n  function FrustumCullingStrategy() {}\n  var _proto = FrustumCullingStrategy.prototype;\n  _proto.isVisible = function isVisible(camera, object) {\n    var _object$parentNode, _object$parentNode$cu;\n    // return true;\n    var cullable = object.cullable;\n    if (!cullable.enable) {\n      return true;\n    }\n    var renderBounds = object.getRenderBounds();\n    if (AABB.isEmpty(renderBounds)) {\n      return false;\n    }\n    // get VP matrix from camera\n    var frustum = camera.getFrustum();\n    var parentVisibilityPlaneMask = (_object$parentNode = object.parentNode) === null || _object$parentNode === void 0 ? void 0 : (_object$parentNode$cu = _object$parentNode.cullable) === null || _object$parentNode$cu === void 0 ? void 0 : _object$parentNode$cu.visibilityPlaneMask;\n    cullable.visibilityPlaneMask = this.computeVisibilityWithPlaneMask(object, renderBounds, parentVisibilityPlaneMask || Mask.INDETERMINATE, frustum.planes);\n    cullable.visible = cullable.visibilityPlaneMask !== Mask.OUTSIDE;\n    return cullable.visible;\n  }\n  /**\r\n   *\r\n   * @see「Optimized View Frustum Culling Algorithms for Bounding Boxes」\r\n   * @see https://github.com/antvis/GWebGPUEngine/issues/3\r\n   *\r\n   * * 基础相交测试 the basic intersection test\r\n   * * 标记 masking @see https://cesium.com/blog/2015/08/04/fast-hierarchical-culling/\r\n   * * TODO: 平面一致性测试 the plane-coherency test\r\n   * * TODO: 支持 mesh 指定自身的剔除策略，参考 Babylon.js @see https://doc.babylonjs.com/how_to/optimizing_your_scene#changing-mesh-culling-strategy\r\n   *\r\n   * @param aabb aabb\r\n   * @param parentPlaneMask mask of parent\r\n   * @param planes planes of frustum\r\n   */;\n  _proto.computeVisibilityWithPlaneMask = function computeVisibilityWithPlaneMask(object, aabb, parentPlaneMask, planes) {\n    if (parentPlaneMask === Mask.OUTSIDE || parentPlaneMask === Mask.INSIDE) {\n      // 父节点完全位于视锥内或者外部，直接返回\n      return parentPlaneMask;\n    }\n    // Start with MASK_INSIDE (all zeros) so that after the loop, the return value can be compared with MASK_INSIDE.\n    // (Because if there are fewer than 31 planes, the upper bits wont be changed.)\n    var mask = Mask.INSIDE;\n    var isShape2D = shape2D.indexOf(object.nodeName) > -1;\n    // Use viewport culling for 2D shapes\n    // @see https://github.com/antvis/g/issues/914\n    for (var k = 0, len = planes.length; k < len; ++k) {\n      // For k greater than 31 (since 31 is the maximum number of INSIDE/INTERSECTING bits we can store), skip the optimization.\n      var flag = 1 << k;\n      if ((parentPlaneMask & flag) === 0) {\n        // 父节点处于当前面内部，可以跳过\n        continue;\n      }\n      // skip near & far planes when testing 2D shapes\n      if (isShape2D && (k === 4 || k === 5)) {\n        continue;\n      }\n      // p-vertex n-vertex <-|plane p-vertex n-vertex\n      // 使用 p-vertex 和 n-vertex 加速，避免进行平面和 aabb 全部顶点的相交检测\n      var _planes$k = planes[k],\n        normal = _planes$k.normal,\n        distance = _planes$k.distance;\n      if (vec3.dot(normal, aabb.getPositiveFarPoint(planes[k])) + distance < 0) {\n        return Mask.OUTSIDE;\n      }\n      if (vec3.dot(normal, aabb.getNegativeFarPoint(planes[k])) + distance < 0) {\n        // 和当前面相交，对应位置为1，继续检测下一个面\n        mask |= flag;\n      }\n    }\n    return mask;\n  };\n  return FrustumCullingStrategy;\n}();\n\nvar PrepareRendererPlugin = /*#__PURE__*/function () {\n  function PrepareRendererPlugin() {\n    this.rBush = void 0;\n    this.toSync = new Set();\n  }\n  var _proto = PrepareRendererPlugin.prototype;\n  // private isFirstTimeRendering = true;\n  _proto.apply = function apply(context) {\n    var _this = this;\n    var renderingService = context.renderingService,\n      renderingContext = context.renderingContext,\n      rBushRoot = context.rBushRoot;\n    var canvas = renderingContext.root.ownerDocument.defaultView;\n    this.rBush = rBushRoot;\n    var handleAttributeChanged = function handleAttributeChanged(e) {\n      var object = e.target;\n      object.renderable.dirty = true;\n      renderingService.dirtify();\n    };\n    var handleBoundsChanged = function handleBoundsChanged(e) {\n      var affectChildren = e.detail.affectChildren;\n      var object = e.target;\n      if (affectChildren) {\n        object.forEach(function (node) {\n          _this.toSync.add(node);\n        });\n      }\n      var p = object;\n      while (p) {\n        if (p.renderable) {\n          _this.toSync.add(p);\n        }\n        p = p.parentElement;\n      }\n      // this.pushToSync(e.composedPath().slice(0, -2) as DisplayObject[]);\n      renderingService.dirtify();\n    };\n    var handleMounted = function handleMounted(e) {\n      var object = e.target;\n      if (runtime.enableCSSParsing) {\n        // recalc style values\n        runtime.styleValueRegistry.recalc(object);\n      }\n      runtime.sceneGraphService.dirtifyToRoot(object);\n      renderingService.dirtify();\n    };\n    var handleUnmounted = function handleUnmounted(e) {\n      var object = e.target;\n      var rBushNode = object.rBushNode;\n      if (rBushNode.aabb) {\n        _this.rBush.remove(rBushNode.aabb);\n      }\n      _this.toSync.delete(object);\n      runtime.sceneGraphService.dirtifyToRoot(object);\n      renderingService.dirtify();\n    };\n    renderingService.hooks.init.tapPromise(PrepareRendererPlugin.tag, /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              canvas.addEventListener(ElementEvent.MOUNTED, handleMounted);\n              canvas.addEventListener(ElementEvent.UNMOUNTED, handleUnmounted);\n              canvas.addEventListener(ElementEvent.ATTR_MODIFIED, handleAttributeChanged);\n              canvas.addEventListener(ElementEvent.BOUNDS_CHANGED, handleBoundsChanged);\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    })));\n    renderingService.hooks.destroy.tap(PrepareRendererPlugin.tag, function () {\n      canvas.removeEventListener(ElementEvent.MOUNTED, handleMounted);\n      canvas.removeEventListener(ElementEvent.UNMOUNTED, handleUnmounted);\n      canvas.removeEventListener(ElementEvent.ATTR_MODIFIED, handleAttributeChanged);\n      canvas.removeEventListener(ElementEvent.BOUNDS_CHANGED, handleBoundsChanged);\n      _this.toSync.clear();\n    });\n    renderingService.hooks.endFrame.tap(PrepareRendererPlugin.tag, function () {\n      // if (this.isFirstTimeRendering) {\n      //   // @see https://github.com/antvis/G/issues/1117\n      //   setTimeout(() => this.syncRTree());\n      //   this.isFirstTimeRendering = false;\n      // } else {\n      //   this.syncRTree();\n      // }\n      _this.syncRTree();\n    });\n  };\n  _proto.syncRTree = function syncRTree() {\n    var _this2 = this;\n    // bounds changed, need re-inserting its children\n    var bulk = [];\n    Array.from(this.toSync)\n    // some objects may be removed since last frame\n    .filter(function (object) {\n      return object.isConnected;\n    }).forEach(function (node) {\n      var rBushNode = node.rBushNode;\n      // clear dirty node\n      if (rBushNode && rBushNode.aabb) {\n        _this2.rBush.remove(rBushNode.aabb);\n      }\n      var renderBounds = node.getRenderBounds();\n      if (renderBounds) {\n        var _renderBounds$getMin = renderBounds.getMin(),\n          minX = _renderBounds$getMin[0],\n          minY = _renderBounds$getMin[1];\n        var _renderBounds$getMax = renderBounds.getMax(),\n          maxX = _renderBounds$getMax[0],\n          maxY = _renderBounds$getMax[1];\n        if (!rBushNode.aabb) {\n          // @ts-ignore\n          rBushNode.aabb = {};\n        }\n        rBushNode.aabb.id = node.entity;\n        rBushNode.aabb.minX = minX;\n        rBushNode.aabb.minY = minY;\n        rBushNode.aabb.maxX = maxX;\n        rBushNode.aabb.maxY = maxY;\n      }\n      if (rBushNode.aabb) {\n        // TODO: NaN occurs when width/height of Rect is 0\n        if (!isNaN(rBushNode.aabb.maxX) && !isNaN(rBushNode.aabb.maxX) && !isNaN(rBushNode.aabb.minX) && !isNaN(rBushNode.aabb.minY)) {\n          bulk.push(rBushNode.aabb);\n        }\n      }\n    });\n    // use bulk inserting, which is ~2-3 times faster\n    // @see https://github.com/mourner/rbush#bulk-inserting-data\n    this.rBush.load(bulk);\n    bulk.length = 0;\n    this.toSync.clear();\n  };\n  return PrepareRendererPlugin;\n}();\nPrepareRendererPlugin.tag = 'Prepare';\n\nfunction isCanvas(value) {\n  return !!value.document;\n}\nvar CanvasEvent;\n(function (CanvasEvent) {\n  CanvasEvent[\"READY\"] = \"ready\";\n  CanvasEvent[\"BEFORE_RENDER\"] = \"beforerender\";\n  CanvasEvent[\"RERENDER\"] = \"rerender\";\n  CanvasEvent[\"AFTER_RENDER\"] = \"afterrender\";\n  CanvasEvent[\"BEFORE_DESTROY\"] = \"beforedestroy\";\n  CanvasEvent[\"AFTER_DESTROY\"] = \"afterdestroy\";\n  CanvasEvent[\"RESIZE\"] = \"resize\";\n  CanvasEvent[\"DIRTY_RECTANGLE\"] = \"dirtyrectangle\";\n})(CanvasEvent || (CanvasEvent = {}));\nvar DEFAULT_CAMERA_Z = 500;\nvar DEFAULT_CAMERA_NEAR = 0.1;\nvar DEFAULT_CAMERA_FAR = 1000;\n/**\r\n * reuse custom event preventing from re-create them in every frame\r\n */\nvar mountedEvent = new CustomEvent(ElementEvent.MOUNTED);\nvar unmountedEvent = new CustomEvent(ElementEvent.UNMOUNTED);\nvar beforeRenderEvent = new CustomEvent(CanvasEvent.BEFORE_RENDER);\nvar rerenderEvent = new CustomEvent(CanvasEvent.RERENDER);\nvar afterRenderEvent = new CustomEvent(CanvasEvent.AFTER_RENDER);\n/**\r\n * can be treated like Window in DOM\r\n * provide some extra methods like `window`, such as:\r\n * * `window.requestAnimationFrame`\r\n * * `window.devicePixelRatio`\r\n *\r\n * prototype chains: Canvas(Window) -> EventTarget\r\n */\nvar Canvas = /*#__PURE__*/function (_EventTarget) {\n  _inheritsLoose(Canvas, _EventTarget);\n  /**\r\n   * window.document\r\n   */\n\n  /**\r\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/CustomElementRegistry\r\n   */\n\n  /**\r\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/window/requestAnimationFrame\r\n   */\n\n  /**\r\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Window/cancelAnimationFrame\r\n   */\n\n  /**\r\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Window/devicePixelRatio\r\n   */\n\n  /**\r\n   * whether the runtime supports PointerEvent?\r\n   * if not, the event system won't trigger pointer events like `pointerdown`\r\n   */\n\n  /**\r\n   * whether the runtime supports TouchEvent?\r\n   * if not, the event system won't trigger touch events like `touchstart`\r\n   */\n\n  /**\r\n   * is this native event a TouchEvent?\r\n   */\n\n  /**\r\n   * is this native event a MouseEvent?\r\n   */\n\n  /**\r\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Element\r\n   */\n\n  /**\r\n   * rAF in auto rendering\r\n   */\n\n  function Canvas(config) {\n    var _this;\n    _this = _EventTarget.call(this) || this;\n    // create document\n    _this.document = void 0;\n    _this.customElements = void 0;\n    _this.requestAnimationFrame = void 0;\n    _this.cancelAnimationFrame = void 0;\n    _this.devicePixelRatio = void 0;\n    _this.supportsPointerEvents = void 0;\n    _this.supportsTouchEvents = void 0;\n    _this.isTouchEvent = void 0;\n    _this.isMouseEvent = void 0;\n    _this.Element = DisplayObject;\n    _this.frameId = void 0;\n    _this.inited = false;\n    _this.readyPromise = void 0;\n    _this.resolveReadyPromise = void 0;\n    _this.context = {};\n    _this.document = new Document();\n    _this.document.defaultView = _assertThisInitialized(_this);\n    // create registry of custom elements\n    _this.customElements = new CustomElementRegistry();\n    var container = config.container,\n      canvas = config.canvas,\n      offscreenCanvas = config.offscreenCanvas,\n      width = config.width,\n      height = config.height,\n      devicePixelRatio = config.devicePixelRatio,\n      renderer = config.renderer,\n      background = config.background,\n      cursor = config.cursor,\n      document = config.document,\n      requestAnimationFrame = config.requestAnimationFrame,\n      cancelAnimationFrame = config.cancelAnimationFrame,\n      createImage = config.createImage,\n      supportsPointerEvents = config.supportsPointerEvents,\n      supportsTouchEvents = config.supportsTouchEvents,\n      supportsCSSTransform = config.supportsCSSTransform,\n      isTouchEvent = config.isTouchEvent,\n      isMouseEvent = config.isMouseEvent;\n    cleanExistedCanvas(container, _assertThisInitialized(_this));\n    var canvasWidth = width;\n    var canvasHeight = height;\n    var dpr = devicePixelRatio;\n    // use user-defined <canvas> or OffscreenCanvas\n    if (canvas) {\n      // infer width & height with dpr\n      dpr = devicePixelRatio || isBrowser && window.devicePixelRatio || 1;\n      dpr = dpr >= 1 ? Math.ceil(dpr) : 1;\n      canvasWidth = width || getWidth(canvas) || canvas.width / dpr;\n      canvasHeight = height || getHeight(canvas) || canvas.height / dpr;\n    }\n    /**\r\n     * implements `Window` interface\r\n     */\n    _this.devicePixelRatio = dpr;\n    _this.requestAnimationFrame = requestAnimationFrame !== null && requestAnimationFrame !== void 0 ? requestAnimationFrame : raf.bind(runtime.globalThis);\n    _this.cancelAnimationFrame = cancelAnimationFrame !== null && cancelAnimationFrame !== void 0 ? cancelAnimationFrame : caf.bind(runtime.globalThis);\n    /**\r\n     * limits query\r\n     */\n    // the following feature-detect from hammer.js\n    // @see https://github.com/hammerjs/hammer.js/blob/master/src/inputjs/input-consts.js#L5\n    _this.supportsTouchEvents = supportsTouchEvents !== null && supportsTouchEvents !== void 0 ? supportsTouchEvents : 'ontouchstart' in runtime.globalThis;\n    _this.supportsPointerEvents = supportsPointerEvents !== null && supportsPointerEvents !== void 0 ? supportsPointerEvents : !!runtime.globalThis.PointerEvent;\n    _this.isTouchEvent = isTouchEvent !== null && isTouchEvent !== void 0 ? isTouchEvent : function (event) {\n      return _this.supportsTouchEvents && event instanceof runtime.globalThis.TouchEvent;\n    };\n    _this.isMouseEvent = isMouseEvent !== null && isMouseEvent !== void 0 ? isMouseEvent : function (event) {\n      return !runtime.globalThis.MouseEvent || event instanceof runtime.globalThis.MouseEvent && (!_this.supportsPointerEvents || !(event instanceof runtime.globalThis.PointerEvent));\n    };\n    _this.initRenderingContext({\n      container: container,\n      canvas: canvas,\n      width: canvasWidth,\n      height: canvasHeight,\n      renderer: renderer,\n      offscreenCanvas: offscreenCanvas,\n      devicePixelRatio: dpr,\n      cursor: cursor || 'default',\n      background: background || 'transparent',\n      createImage: createImage,\n      document: document,\n      supportsCSSTransform: supportsCSSTransform\n    });\n    _this.initDefaultCamera(canvasWidth, canvasHeight);\n    _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _this.initRenderer(renderer);\n            case 2:\n              _this.dispatchEvent(new CustomEvent(CanvasEvent.READY));\n              if (_this.readyPromise) {\n                _this.resolveReadyPromise();\n              }\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }))();\n    return _this;\n  }\n  var _proto = Canvas.prototype;\n  _proto.initRenderingContext = function initRenderingContext(mergedConfig) {\n    this.context.config = mergedConfig;\n    // bind rendering context, shared by all renderers\n    this.context.renderingContext = {\n      /**\r\n       * the root node in scene graph\r\n       */\n      root: this.document.documentElement,\n      renderListCurrentFrame: [],\n      unculledEntities: [],\n      renderReasons: new Set(),\n      force: false,\n      dirty: false\n    };\n  };\n  _proto.initDefaultCamera = function initDefaultCamera(width, height) {\n    var _this2 = this;\n    // set a default ortho camera\n    var camera = new runtime.CameraContribution();\n    camera.setType(CameraType.EXPLORING, CameraTrackingMode.DEFAULT).setPosition(width / 2, height / 2, DEFAULT_CAMERA_Z).setFocalPoint(width / 2, height / 2, 0).setOrthographic(width / -2, width / 2, height / 2, height / -2, DEFAULT_CAMERA_NEAR, DEFAULT_CAMERA_FAR);\n    // keep ref since it will use raf in camera animation\n    camera.canvas = this;\n    // redraw when camera changed\n    camera.eventEmitter.on(CameraEvent.UPDATED, function () {\n      _this2.context.renderingContext.renderReasons.add(RenderReason.CAMERA_CHANGED);\n    });\n    // bind camera\n    this.context.camera = camera;\n  };\n  _proto.getConfig = function getConfig() {\n    return this.context.config;\n  }\n  /**\r\n   * get the root displayObject in scenegraph\r\n   * @alias this.document.documentElement\r\n   */;\n  _proto.getRoot = function getRoot() {\n    return this.document.documentElement;\n  }\n  /**\r\n   * get the camera of canvas\r\n   */;\n  _proto.getCamera = function getCamera() {\n    return this.context.camera;\n  };\n  _proto.getContextService = function getContextService() {\n    return this.context.contextService;\n  };\n  _proto.getEventService = function getEventService() {\n    return this.context.eventService;\n  };\n  _proto.getRenderingService = function getRenderingService() {\n    return this.context.renderingService;\n  };\n  _proto.getRenderingContext = function getRenderingContext() {\n    return this.context.renderingContext;\n  };\n  _proto.getStats = function getStats() {\n    return this.getRenderingService().getStats();\n  }\n  // /**\n  //  * @see https://developer.mozilla.org/zh-CN/docs/Web/API/Window/getComputedStyle\n  //  */\n  // getComputedStyle(node: DisplayObject) {\n  //   return node.computedStyle;\n  // }\n  ;\n  /**\r\n   * `cleanUp` means clean all the internal services of Canvas which happens when calling `canvas.destroy()`.\r\n   */\n  _proto.destroy = function destroy(cleanUp, skipTriggerEvent) {\n    if (cleanUp === void 0) {\n      cleanUp = true;\n    }\n    if (skipTriggerEvent === void 0) {\n      skipTriggerEvent = false;\n    }\n    if (!skipTriggerEvent) {\n      this.dispatchEvent(new CustomEvent(CanvasEvent.BEFORE_DESTROY));\n    }\n    if (this.frameId) {\n      var cancelRAF = this.getConfig().cancelAnimationFrame || cancelAnimationFrame;\n      cancelRAF(this.frameId);\n    }\n    // unmount all children\n    var root = this.getRoot();\n    this.unmountChildren(root);\n    if (cleanUp) {\n      // destroy Document\n      this.document.destroy();\n      this.getEventService().destroy();\n    }\n    // destroy services\n    this.getRenderingService().destroy();\n    this.getContextService().destroy();\n    // clear root after renderservice destroyed\n    if (cleanUp && this.context.rBushRoot) {\n      // clear rbush\n      this.context.rBushRoot.clear();\n      this.context.rBushRoot = null;\n      this.context.renderingContext.root = null;\n    }\n    if (!skipTriggerEvent) {\n      this.dispatchEvent(new CustomEvent(CanvasEvent.AFTER_DESTROY));\n    }\n  }\n  /**\r\n   * compatible with G 3.0\r\n   * @deprecated\r\n   * @alias resize\r\n   */;\n  _proto.changeSize = function changeSize(width, height) {\n    this.resize(width, height);\n  };\n  _proto.resize = function resize(width, height) {\n    // update canvas' config\n    var canvasConfig = this.context.config;\n    canvasConfig.width = width;\n    canvasConfig.height = height;\n    // resize context\n    this.getContextService().resize(width, height);\n    // resize camera\n    var camera = this.context.camera;\n    var projectionMode = camera.getProjectionMode();\n    camera.setPosition(width / 2, height / 2, DEFAULT_CAMERA_Z).setFocalPoint(width / 2, height / 2, 0);\n    if (projectionMode === CameraProjectionMode.ORTHOGRAPHIC) {\n      camera.setOrthographic(width / -2, width / 2, height / 2, height / -2, camera.getNear(), camera.getFar());\n    } else {\n      camera.setAspect(width / height);\n    }\n    this.dispatchEvent(new CustomEvent(CanvasEvent.RESIZE, {\n      width: width,\n      height: height\n    }));\n  }\n  // proxy to document.documentElement\n  ;\n  _proto.appendChild = function appendChild(child, index) {\n    return this.document.documentElement.appendChild(child, index);\n  };\n  _proto.insertBefore = function insertBefore(newChild, refChild) {\n    return this.document.documentElement.insertBefore(newChild, refChild);\n  };\n  _proto.removeChild = function removeChild(child) {\n    return this.document.documentElement.removeChild(child);\n  }\n  /**\r\n   * Remove all children which can be appended to its original parent later again.\r\n   */;\n  _proto.removeChildren = function removeChildren() {\n    this.document.documentElement.removeChildren();\n  }\n  /**\r\n   * Recursively destroy all children which can not be appended to its original parent later again.\r\n   * But the canvas remains running which means display objects can be appended later.\r\n   */;\n  _proto.destroyChildren = function destroyChildren() {\n    this.document.documentElement.destroyChildren();\n  };\n  _proto.render = function render() {\n    var _this3 = this;\n    this.dispatchEvent(beforeRenderEvent);\n    var renderingService = this.getRenderingService();\n    renderingService.render(this.getConfig(), function () {\n      // trigger actual rerender event\n      // @see https://github.com/antvis/G/issues/1268\n      _this3.dispatchEvent(rerenderEvent);\n    });\n    this.dispatchEvent(afterRenderEvent);\n  };\n  _proto.run = function run() {\n    var _this4 = this;\n    var tick = function tick() {\n      _this4.render();\n      _this4.frameId = requestAnimationFrame(tick);\n    };\n    tick();\n  };\n  _proto.initRenderer = /*#__PURE__*/function () {\n    var _initRenderer = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(renderer) {\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              if (renderer) {\n                _context2.next = 2;\n                break;\n              }\n              throw new Error('Renderer is required.');\n            case 2:\n              // reset\n              this.inited = false;\n              this.readyPromise = undefined;\n              // FIXME: should re-create here?\n              this.context.rBushRoot = new RBush();\n              // reset rendering plugins\n              this.context.renderingPlugins = [];\n              this.context.renderingPlugins.push(new EventPlugin(), new PrepareRendererPlugin(), new DirtyCheckPlugin(), new CullingPlugin([new FrustumCullingStrategy()]));\n              //\n              this.loadRendererContainerModule(renderer);\n              // init context service\n              this.context.contextService = new this.context.ContextService(_extends({}, runtime, this.context));\n              // init rendering service\n              this.context.renderingService = new RenderingService(runtime, this.context);\n              // init event service\n              this.context.eventService = new EventService(runtime, this.context);\n              this.context.eventService.init();\n              _context2.next = 14;\n              return this.context.contextService.init();\n            case 14:\n              _context2.next = 16;\n              return this.context.renderingService.init();\n            case 16:\n              this.inited = true;\n              this.getRoot().forEach(function (node) {\n                var renderable = node.renderable;\n                if (renderable) {\n                  renderable.renderBoundsDirty = true;\n                  renderable.boundsDirty = true;\n                  renderable.dirty = true;\n                }\n              });\n              // keep current scenegraph unchanged, just trigger mounted event\n              this.mountChildren(this.getRoot());\n              if (renderer.getConfig().enableAutoRendering) {\n                this.run();\n              }\n            case 20:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n    function initRenderer(_x) {\n      return _initRenderer.apply(this, arguments);\n    }\n    return initRenderer;\n  }();\n  _proto.loadRendererContainerModule = function loadRendererContainerModule(renderer) {\n    var _this5 = this;\n    // load other container modules provided by g-canvas/g-svg/g-webgl\n    var plugins = renderer.getPlugins();\n    plugins.forEach(function (plugin) {\n      plugin.context = _this5.context;\n      plugin.init(runtime);\n    });\n  };\n  _proto.setRenderer = /*#__PURE__*/function () {\n    var _setRenderer = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(renderer) {\n      var canvasConfig, oldRenderer;\n      return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              // update canvas' config\n              canvasConfig = this.getConfig();\n              if (!(canvasConfig.renderer === renderer)) {\n                _context3.next = 3;\n                break;\n              }\n              return _context3.abrupt(\"return\");\n            case 3:\n              oldRenderer = canvasConfig.renderer;\n              canvasConfig.renderer = renderer;\n              // keep all children undestroyed\n              this.destroy(false, true);\n              // destroy all plugins, reverse will mutate origin array\n              [].concat(oldRenderer === null || oldRenderer === void 0 ? void 0 : oldRenderer.getPlugins()).reverse().forEach(function (plugin) {\n                plugin.destroy(runtime);\n              });\n              _context3.next = 9;\n              return this.initRenderer(renderer);\n            case 9:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, this);\n    }));\n    function setRenderer(_x2) {\n      return _setRenderer.apply(this, arguments);\n    }\n    return setRenderer;\n  }();\n  _proto.setCursor = function setCursor(cursor) {\n    var canvasConfig = this.getConfig();\n    canvasConfig.cursor = cursor;\n    this.getContextService().applyCursorStyle(cursor);\n  };\n  _proto.unmountChildren = function unmountChildren(parent) {\n    var _this6 = this;\n    // unmountChildren recursively\n    parent.childNodes.forEach(function (child) {\n      _this6.unmountChildren(child);\n    });\n    if (this.inited) {\n      if (parent.isMutationObserved) {\n        parent.dispatchEvent(unmountedEvent);\n      } else {\n        unmountedEvent.target = parent;\n        this.dispatchEvent(unmountedEvent, true);\n      }\n      // skip document.documentElement\n      if (parent !== this.document.documentElement) {\n        parent.ownerDocument = null;\n      }\n      parent.isConnected = false;\n    }\n    // trigger after unmounted\n    if (parent.isCustomElement) {\n      if (parent.disconnectedCallback) {\n        parent.disconnectedCallback();\n      }\n    }\n  };\n  _proto.mountChildren = function mountChildren(parent) {\n    var _this7 = this;\n    if (this.inited) {\n      if (!parent.isConnected) {\n        parent.ownerDocument = this.document;\n        parent.isConnected = true;\n        if (parent.isMutationObserved) {\n          parent.dispatchEvent(mountedEvent);\n        } else {\n          mountedEvent.target = parent;\n          this.dispatchEvent(mountedEvent, true);\n        }\n      }\n    } else {\n      console.warn(\"[g]: You are trying to call `canvas.appendChild` before canvas' initialization finished. You can either await `canvas.ready` or listen to `CanvasEvent.READY` manually.\", 'appended child: ', parent.nodeName);\n    }\n    // recursively mount children\n    parent.childNodes.forEach(function (child) {\n      _this7.mountChildren(child);\n    });\n    // trigger after mounted\n    if (parent.isCustomElement) {\n      if (parent.connectedCallback) {\n        parent.connectedCallback();\n      }\n    }\n  };\n  _proto.client2Viewport = function client2Viewport(client) {\n    return this.getEventService().client2Viewport(client);\n  };\n  _proto.viewport2Client = function viewport2Client(canvas) {\n    return this.getEventService().viewport2Client(canvas);\n  };\n  _proto.viewport2Canvas = function viewport2Canvas(viewport) {\n    return this.getEventService().viewport2Canvas(viewport);\n  };\n  _proto.canvas2Viewport = function canvas2Viewport(canvas) {\n    return this.getEventService().canvas2Viewport(canvas);\n  }\n  /**\r\n   * @deprecated\r\n   * @alias client2Viewport\r\n   */;\n  _proto.getPointByClient = function getPointByClient(clientX, clientY) {\n    return this.client2Viewport({\n      x: clientX,\n      y: clientY\n    });\n  }\n  /**\r\n   * @deprecated\r\n   * @alias viewport2Client\r\n   */;\n  _proto.getClientByPoint = function getClientByPoint(x, y) {\n    return this.viewport2Client({\n      x: x,\n      y: y\n    });\n  };\n  _createClass(Canvas, [{\n    key: \"ready\",\n    get: function get() {\n      var _this8 = this;\n      if (!this.readyPromise) {\n        this.readyPromise = new Promise(function (resolve) {\n          _this8.resolveReadyPromise = function () {\n            resolve(_this8);\n          };\n        });\n        if (this.inited) {\n          this.resolveReadyPromise();\n        }\n      }\n      return this.readyPromise;\n    }\n  }]);\n  return Canvas;\n}(EventTarget);\n\nexport { AABB, AbstractRenderer, AbstractRendererPlugin, BUILT_IN_PROPERTIES, CSS, CSSGradientValue, CSSKeywordValue, CSSRGB, CSSStyleValue, CSSUnitValue, Camera, CameraEvent, CameraProjectionMode, CameraTrackingMode, CameraType, Canvas, CanvasEvent, Circle, CircleUpdater, CustomElement, CustomElementRegistry, CustomEvent, DefaultSceneGraphSelector, DefaultSceneGraphService, DisplayObject, DisplayObjectPool, Document, EMPTY_PARSED_PATH, ERROR_MSG_METHOD_NOT_IMPLEMENTED, Element, ElementEvent, Ellipse, EllipseUpdater, EventService, EventTarget, FederatedEvent, FederatedMouseEvent, FederatedPointerEvent, FederatedWheelEvent, Frustum, GradientType, Group, HTML, Image, Line, LineUpdater, Mask, MutationEvent, Node, OffscreenCanvasCreator, Path, PathUpdater, Plane, Point, Polygon, Polyline, PolylineUpdater, PropertySyntax, Rect, RectUpdater, Rectangle, RenderReason, RenderingService, Shape, Strategy, Text, TextService, TextUpdater, UnitType, computeLinearGradient, computeRadialGradient, convertToPath, createVec3, decompose, definedProps, deg2rad, deg2turn, findClosestClipPathTarget, fromRotationTranslationScale, getAngle, getEuler, getOrCalculatePathTotalLength, grad2deg, isBrowser, isCSSGradientValue, isCSSRGB, isCanvas, isDisplayObject, isFederatedEvent, isFillOrStrokeAffected, isPattern, mergeColors, parseColor, parseLength, parsePath, parseTransform, parsedTransformToMat4, propertyMetadataCache, rad2deg, resetEntityCounter, runtime, setDOMSize, translatePathToString, turn2deg };\n", "export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n", "import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy: function(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\n\nfunction rgb_formatRgb() {\n  var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n  return (a === 1 ? \"rgb(\" : \"rgba(\")\n      + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n      + (a === 1 ? \")\" : \", \" + a + \")\");\n}\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"hsl(\" : \"hsla(\")\n        + (this.h || 0) + \", \"\n        + (this.s || 0) * 100 + \"%, \"\n        + (this.l || 0) * 100 + \"%\"\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n", "export var deg2rad = Math.PI / 180;\nexport var rad2deg = 180 / Math.PI;\n", "import define, {extend} from \"./define.js\";\nimport {Color, rgbConvert, Rgb} from \"./color.js\";\nimport {deg2rad, rad2deg} from \"./math.js\";\n\n// https://observablehq.com/@mbostock/lab-and-rgb\nvar K = 18,\n    Xn = 0.96422,\n    Yn = 1,\n    Zn = 0.82521,\n    t0 = 4 / 29,\n    t1 = 6 / 29,\n    t2 = 3 * t1 * t1,\n    t3 = t1 * t1 * t1;\n\nfunction labConvert(o) {\n  if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\n  if (o instanceof Hcl) return hcl2lab(o);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = rgb2lrgb(o.r),\n      g = rgb2lrgb(o.g),\n      b = rgb2lrgb(o.b),\n      y = xyz2lab((0.2225045 * r + 0.7168786 * g + 0.0606169 * b) / Yn), x, z;\n  if (r === g && g === b) x = z = y; else {\n    x = xyz2lab((0.4360747 * r + 0.3850649 * g + 0.1430804 * b) / Xn);\n    z = xyz2lab((0.0139322 * r + 0.0971045 * g + 0.7141733 * b) / Zn);\n  }\n  return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);\n}\n\nexport function gray(l, opacity) {\n  return new Lab(l, 0, 0, opacity == null ? 1 : opacity);\n}\n\nexport default function lab(l, a, b, opacity) {\n  return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);\n}\n\nexport function Lab(l, a, b, opacity) {\n  this.l = +l;\n  this.a = +a;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Lab, lab, extend(Color, {\n  brighter: function(k) {\n    return new Lab(this.l + K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  darker: function(k) {\n    return new Lab(this.l - K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  rgb: function() {\n    var y = (this.l + 16) / 116,\n        x = isNaN(this.a) ? y : y + this.a / 500,\n        z = isNaN(this.b) ? y : y - this.b / 200;\n    x = Xn * lab2xyz(x);\n    y = Yn * lab2xyz(y);\n    z = Zn * lab2xyz(z);\n    return new Rgb(\n      lrgb2rgb( 3.1338561 * x - 1.6168667 * y - 0.4906146 * z),\n      lrgb2rgb(-0.9787684 * x + 1.9161415 * y + 0.0334540 * z),\n      lrgb2rgb( 0.0719453 * x - 0.2289914 * y + 1.4052427 * z),\n      this.opacity\n    );\n  }\n}));\n\nfunction xyz2lab(t) {\n  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n}\n\nfunction lab2xyz(t) {\n  return t > t1 ? t * t * t : t2 * (t - t0);\n}\n\nfunction lrgb2rgb(x) {\n  return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);\n}\n\nfunction rgb2lrgb(x) {\n  return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n}\n\nfunction hclConvert(o) {\n  if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\n  if (!(o instanceof Lab)) o = labConvert(o);\n  if (o.a === 0 && o.b === 0) return new Hcl(NaN, 0 < o.l && o.l < 100 ? 0 : NaN, o.l, o.opacity);\n  var h = Math.atan2(o.b, o.a) * rad2deg;\n  return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);\n}\n\nexport function lch(l, c, h, opacity) {\n  return arguments.length === 1 ? hclConvert(l) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function hcl(h, c, l, opacity) {\n  return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function Hcl(h, c, l, opacity) {\n  this.h = +h;\n  this.c = +c;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\nfunction hcl2lab(o) {\n  if (isNaN(o.h)) return new Lab(o.l, 0, 0, o.opacity);\n  var h = o.h * deg2rad;\n  return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\n}\n\ndefine(Hcl, hcl, extend(Color, {\n  brighter: function(k) {\n    return new Hcl(this.h, this.c, this.l + K * (k == null ? 1 : k), this.opacity);\n  },\n  darker: function(k) {\n    return new Hcl(this.h, this.c, this.l - K * (k == null ? 1 : k), this.opacity);\n  },\n  rgb: function() {\n    return hcl2lab(this).rgb();\n  }\n}));\n", "import define, {extend} from \"./define.js\";\nimport {Color, rgbConvert, Rgb, darker, brighter} from \"./color.js\";\nimport {deg2rad, rad2deg} from \"./math.js\";\n\nvar A = -0.14861,\n    B = +1.78277,\n    C = -0.29227,\n    D = -0.90649,\n    E = +1.97294,\n    ED = E * D,\n    EB = E * B,\n    BC_DA = B * C - D * A;\n\nfunction cubehelixConvert(o) {\n  if (o instanceof Cubehelix) return new Cubehelix(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB),\n      bl = b - l,\n      k = (E * (g - l) - C * bl) / D,\n      s = Math.sqrt(k * k + bl * bl) / (E * l * (1 - l)), // NaN if l=0 or l=1\n      h = s ? Math.atan2(k, bl) * rad2deg - 120 : NaN;\n  return new Cubehelix(h < 0 ? h + 360 : h, s, l, o.opacity);\n}\n\nexport default function cubehelix(h, s, l, opacity) {\n  return arguments.length === 1 ? cubehelixConvert(h) : new Cubehelix(h, s, l, opacity == null ? 1 : opacity);\n}\n\nexport function Cubehelix(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Cubehelix, cubehelix, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = isNaN(this.h) ? 0 : (this.h + 120) * deg2rad,\n        l = +this.l,\n        a = isNaN(this.s) ? 0 : this.s * l * (1 - l),\n        cosh = Math.cos(h),\n        sinh = Math.sin(h);\n    return new Rgb(\n      255 * (l + a * (A * cosh + B * sinh)),\n      255 * (l + a * (C * cosh + D * sinh)),\n      255 * (l + a * (E * cosh)),\n      this.opacity\n    );\n  }\n}));\n", "import { vec2 } from 'gl-matrix';\n\n/**\r\n * 两点之间的距离\r\n * @param {number} x1 起始点 x\r\n * @param {number} y1 起始点 y\r\n * @param {number} x2 结束点 x\r\n * @param {number} y2 结束点 y\r\n * @return {number} 距离\r\n */\nfunction distance(x1, y1, x2, y2) {\n  var dx = x1 - x2;\n  var dy = y1 - y2;\n  return Math.sqrt(dx * dx + dy * dy);\n}\nfunction isNumberEqual(v1, v2) {\n  return Math.abs(v1 - v2) < 0.001;\n}\nfunction getBBoxByArray(xArr, yArr) {\n  var minX = Math.min.apply(Math, xArr);\n  var minY = Math.min.apply(Math, yArr);\n  var maxX = Math.max.apply(Math, xArr);\n  var maxY = Math.max.apply(Math, yArr);\n  return {\n    x: minX,\n    y: minY,\n    width: maxX - minX,\n    height: maxY - minY\n  };\n}\nfunction getBBoxRange(x1, y1, x2, y2) {\n  return {\n    minX: Math.min(x1, x2),\n    maxX: Math.max(x1, x2),\n    minY: Math.min(y1, y2),\n    maxY: Math.max(y1, y2)\n  };\n}\nfunction piMod(angle) {\n  return (angle + Math.PI * 2) % (Math.PI * 2);\n}\n\nvar util = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  distance: distance,\n  isNumberEqual: isNumberEqual,\n  getBBoxByArray: getBBoxByArray,\n  getBBoxRange: getBBoxRange,\n  piMod: piMod\n});\n\nvar line = {\n  /**\r\n   * 计算线段的包围盒\r\n   * @param {number} x1 起始点 x\r\n   * @param {number} y1 起始点 y\r\n   * @param {number} x2 结束点 x\r\n   * @param {number} y2 结束点 y\r\n   * @return {object} 包围盒对象\r\n   */\n  box: function box(x1, y1, x2, y2) {\n    return getBBoxByArray([x1, x2], [y1, y2]);\n  },\n  /**\r\n   * 线段的长度\r\n   * @param {number} x1 起始点 x\r\n   * @param {number} y1 起始点 y\r\n   * @param {number} x2 结束点 x\r\n   * @param {number} y2 结束点 y\r\n   * @return {number} 距离\r\n   */\n  length: function length(x1, y1, x2, y2) {\n    return distance(x1, y1, x2, y2);\n  },\n  /**\r\n   * 根据比例获取点\r\n   * @param {number} x1 起始点 x\r\n   * @param {number} y1 起始点 y\r\n   * @param {number} x2 结束点 x\r\n   * @param {number} y2 结束点 y\r\n   * @param {number} t 指定比例\r\n   * @return {object} 包含 x, y 的点\r\n   */\n  pointAt: function pointAt(x1, y1, x2, y2, t) {\n    return {\n      x: (1 - t) * x1 + t * x2,\n      y: (1 - t) * y1 + t * y2\n    };\n  },\n  /**\r\n   * 点到线段的距离\r\n   * @param {number} x1 起始点 x\r\n   * @param {number} y1 起始点 y\r\n   * @param {number} x2 结束点 x\r\n   * @param {number} y2 结束点 y\r\n   * @param {number} x  测试点 x\r\n   * @param {number} y  测试点 y\r\n   * @return {number} 距离\r\n   */\n  pointDistance: function pointDistance(x1, y1, x2, y2, x, y) {\n    // 投影距离 x1, y1 的向量，假设 p, p1, p2 三个点，投影点为 a\n    // p1a = p1p.p1p2/|p1p2| * (p1p 的单位向量)\n    var cross = (x2 - x1) * (x - x1) + (y2 - y1) * (y - y1);\n    if (cross < 0) {\n      return distance(x1, y1, x, y);\n    }\n    var lengthSquare = (x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1);\n    if (cross > lengthSquare) {\n      return distance(x2, y2, x, y);\n    }\n    return this.pointToLine(x1, y1, x2, y2, x, y);\n  },\n  /**\r\n   * 点到直线的距离，而不是点到线段的距离\r\n   * @param {number} x1 起始点 x\r\n   * @param {number} y1 起始点 y\r\n   * @param {number} x2 结束点 x\r\n   * @param {number} y2 结束点 y\r\n   * @param {number} x  测试点 x\r\n   * @param {number} y  测试点 y\r\n   * @return {number} 距离\r\n   */\n  pointToLine: function pointToLine(x1, y1, x2, y2, x, y) {\n    var d = [x2 - x1, y2 - y1];\n    // 如果端点相等，则判定点到点的距离\n    if (vec2.exactEquals(d, [0, 0])) {\n      return Math.sqrt((x - x1) * (x - x1) + (y - y1) * (y - y1));\n    }\n    var u = [-d[1], d[0]];\n    vec2.normalize(u, u);\n    var a = [x - x1, y - y1];\n    return Math.abs(vec2.dot(a, u));\n  },\n  /**\r\n   * 线段的角度\r\n   * @param {number} x1 起始点 x\r\n   * @param {number} y1 起始点 y\r\n   * @param {number} x2 结束点 x\r\n   * @param {number} y2 结束点 y\r\n   * @return {number} 导数\r\n   */\n  tangentAngle: function tangentAngle(x1, y1, x2, y2) {\n    return Math.atan2(y2 - y1, x2 - x1);\n  }\n};\n\nvar EPSILON = 0.0001;\n/**\r\n * 使用牛顿切割法求最近的点\r\n * @param {number[]} xArr      点的 x 数组\r\n * @param {number[]} yArr      点的 y 数组\r\n * @param {number}   x         指定的点 x\r\n * @param {number}   y         指定的点 y\r\n * @param {Function} tCallback 差值函数\r\n */\nfunction nearestPoint(xArr, yArr, x, y, tCallback, length) {\n  var t = -1;\n  var d = Infinity;\n  var v0 = [x, y];\n  var segNum = 20;\n  if (length && length > 200) {\n    segNum = length / 10;\n  }\n  var increaseRate = 1 / segNum;\n  var interval = increaseRate / 10;\n  for (var i = 0; i <= segNum; i++) {\n    var _t = i * increaseRate;\n    var v1 = [tCallback.apply(void 0, xArr.concat([_t])), tCallback.apply(void 0, yArr.concat([_t]))];\n    var d1 = distance(v0[0], v0[1], v1[0], v1[1]);\n    if (d1 < d) {\n      t = _t;\n      d = d1;\n    }\n  }\n  // 提前终止\n  if (t === 0) {\n    return {\n      x: xArr[0],\n      y: yArr[0]\n    };\n  }\n  if (t === 1) {\n    var count = xArr.length;\n    return {\n      x: xArr[count - 1],\n      y: yArr[count - 1]\n    };\n  }\n  d = Infinity;\n  for (var _i = 0; _i < 32; _i++) {\n    if (interval < EPSILON) {\n      break;\n    }\n    var prev = t - interval;\n    var next = t + interval;\n    var _v = [tCallback.apply(void 0, xArr.concat([prev])), tCallback.apply(void 0, yArr.concat([prev]))];\n    var _d = distance(v0[0], v0[1], _v[0], _v[1]);\n    if (prev >= 0 && _d < d) {\n      t = prev;\n      d = _d;\n    } else {\n      var v2 = [tCallback.apply(void 0, xArr.concat([next])), tCallback.apply(void 0, yArr.concat([next]))];\n      var d2 = distance(v0[0], v0[1], v2[0], v2[1]);\n      if (next <= 1 && d2 < d) {\n        t = next;\n        d = d2;\n      } else {\n        interval *= 0.5;\n      }\n    }\n  }\n  return {\n    x: tCallback.apply(void 0, xArr.concat([t])),\n    y: tCallback.apply(void 0, yArr.concat([t]))\n  };\n}\n// 近似求解 https://community.khronos.org/t/3d-cubic-bezier-segment-length/62363/2\nfunction snapLength(xArr, yArr) {\n  var totalLength = 0;\n  var count = xArr.length;\n  for (var i = 0; i < count; i++) {\n    var x = xArr[i];\n    var y = yArr[i];\n    var nextX = xArr[(i + 1) % count];\n    var nextY = yArr[(i + 1) % count];\n    totalLength += distance(x, y, nextX, nextY);\n  }\n  return totalLength / 2;\n}\n\n// 差值公式\nfunction quadraticAt(p0, p1, p2, t) {\n  var onet = 1 - t;\n  return onet * onet * p0 + 2 * t * onet * p1 + t * t * p2;\n}\n// 求极值\nfunction extrema(p0, p1, p2) {\n  var a = p0 + p2 - 2 * p1;\n  if (isNumberEqual(a, 0)) {\n    return [0.5];\n  }\n  var rst = (p0 - p1) / a;\n  if (rst <= 1 && rst >= 0) {\n    return [rst];\n  }\n  return [];\n}\nfunction derivativeAt(p0, p1, p2, t) {\n  return 2 * (1 - t) * (p1 - p0) + 2 * t * (p2 - p1);\n}\n// 分割贝塞尔曲线\nfunction divideQuadratic(x1, y1, x2, y2, x3, y3, t) {\n  // 划分点\n  var xt = quadraticAt(x1, x2, x3, t);\n  var yt = quadraticAt(y1, y2, y3, t);\n  // 分割的第一条曲线的控制点\n  var controlPoint1 = line.pointAt(x1, y1, x2, y2, t);\n  // 分割的第二条曲线的控制点\n  var controlPoint2 = line.pointAt(x2, y2, x3, y3, t);\n  return [[x1, y1, controlPoint1.x, controlPoint1.y, xt, yt], [xt, yt, controlPoint2.x, controlPoint2.y, x3, y3]];\n}\n// 使用迭代法取贝塞尔曲线的长度\nfunction quadraticLength(x1, y1, x2, y2, x3, y3, iterationCount) {\n  if (iterationCount === 0) {\n    return (distance(x1, y1, x2, y2) + distance(x2, y2, x3, y3) + distance(x1, y1, x3, y3)) / 2;\n  }\n  var quadratics = divideQuadratic(x1, y1, x2, y2, x3, y3, 0.5);\n  var left = quadratics[0];\n  var right = quadratics[1];\n  left.push(iterationCount - 1);\n  right.push(iterationCount - 1);\n  return quadraticLength.apply(void 0, left) + quadraticLength.apply(void 0, right);\n}\nvar quadratic = {\n  box: function box(x1, y1, x2, y2, x3, y3) {\n    var xExtrema = extrema(x1, x2, x3)[0];\n    var yExtrema = extrema(y1, y2, y3)[0];\n    // 控制点不加入 box 的计算\n    var xArr = [x1, x3];\n    var yArr = [y1, y3];\n    if (xExtrema !== undefined) {\n      xArr.push(quadraticAt(x1, x2, x3, xExtrema));\n    }\n    if (yExtrema !== undefined) {\n      yArr.push(quadraticAt(y1, y2, y3, yExtrema));\n    }\n    return getBBoxByArray(xArr, yArr);\n  },\n  length: function length(x1, y1, x2, y2, x3, y3) {\n    return quadraticLength(x1, y1, x2, y2, x3, y3, 3);\n  },\n  nearestPoint: function nearestPoint$1(x1, y1, x2, y2, x3, y3, x0, y0) {\n    return nearestPoint([x1, x2, x3], [y1, y2, y3], x0, y0, quadraticAt);\n  },\n  pointDistance: function pointDistance(x1, y1, x2, y2, x3, y3, x0, y0) {\n    var point = this.nearestPoint(x1, y1, x2, y2, x3, y3, x0, y0);\n    return distance(point.x, point.y, x0, y0);\n  },\n  interpolationAt: quadraticAt,\n  pointAt: function pointAt(x1, y1, x2, y2, x3, y3, t) {\n    return {\n      x: quadraticAt(x1, x2, x3, t),\n      y: quadraticAt(y1, y2, y3, t)\n    };\n  },\n  divide: function divide(x1, y1, x2, y2, x3, y3, t) {\n    return divideQuadratic(x1, y1, x2, y2, x3, y3, t);\n  },\n  tangentAngle: function tangentAngle(x1, y1, x2, y2, x3, y3, t) {\n    var dx = derivativeAt(x1, x2, x3, t);\n    var dy = derivativeAt(y1, y2, y3, t);\n    var angle = Math.atan2(dy, dx);\n    return piMod(angle);\n  }\n};\n\nfunction cubicAt(p0, p1, p2, p3, t) {\n  var onet = 1 - t; // t * t * t 的性能大概是 Math.pow(t, 3) 的三倍\n  return onet * onet * onet * p0 + 3 * p1 * t * onet * onet + 3 * p2 * t * t * onet + p3 * t * t * t;\n}\nfunction derivativeAt$1(p0, p1, p2, p3, t) {\n  var onet = 1 - t;\n  return 3 * (onet * onet * (p1 - p0) + 2 * onet * t * (p2 - p1) + t * t * (p3 - p2));\n}\nfunction extrema$1(p0, p1, p2, p3) {\n  var a = -3 * p0 + 9 * p1 - 9 * p2 + 3 * p3;\n  var b = 6 * p0 - 12 * p1 + 6 * p2;\n  var c = 3 * p1 - 3 * p0;\n  var extremas = [];\n  var t1;\n  var t2;\n  var discSqrt;\n  if (isNumberEqual(a, 0)) {\n    if (!isNumberEqual(b, 0)) {\n      t1 = -c / b;\n      if (t1 >= 0 && t1 <= 1) {\n        extremas.push(t1);\n      }\n    }\n  } else {\n    var disc = b * b - 4 * a * c;\n    if (isNumberEqual(disc, 0)) {\n      extremas.push(-b / (2 * a));\n    } else if (disc > 0) {\n      discSqrt = Math.sqrt(disc);\n      t1 = (-b + discSqrt) / (2 * a);\n      t2 = (-b - discSqrt) / (2 * a);\n      if (t1 >= 0 && t1 <= 1) {\n        extremas.push(t1);\n      }\n      if (t2 >= 0 && t2 <= 1) {\n        extremas.push(t2);\n      }\n    }\n  }\n  return extremas;\n}\n// 分割贝塞尔曲线\nfunction divideCubic(x1, y1, x2, y2, x3, y3, x4, y4, t) {\n  // 划分点\n  var xt = cubicAt(x1, x2, x3, x4, t);\n  var yt = cubicAt(y1, y2, y3, y4, t);\n  // 计算两点之间的差值点\n  var c1 = line.pointAt(x1, y1, x2, y2, t);\n  var c2 = line.pointAt(x2, y2, x3, y3, t);\n  var c3 = line.pointAt(x3, y3, x4, y4, t);\n  var c12 = line.pointAt(c1.x, c1.y, c2.x, c2.y, t);\n  var c23 = line.pointAt(c2.x, c2.y, c3.x, c3.y, t);\n  return [[x1, y1, c1.x, c1.y, c12.x, c12.y, xt, yt], [xt, yt, c23.x, c23.y, c3.x, c3.y, x4, y4]];\n}\n// 使用迭代法取贝塞尔曲线的长度，二阶和三阶分开写，更清晰和便于调试\nfunction cubicLength(x1, y1, x2, y2, x3, y3, x4, y4, iterationCount) {\n  if (iterationCount === 0) {\n    return snapLength([x1, x2, x3, x4], [y1, y2, y3, y4]);\n  }\n  var cubics = divideCubic(x1, y1, x2, y2, x3, y3, x4, y4, 0.5);\n  var left = [].concat(cubics[0], [iterationCount - 1]);\n  var right = [].concat(cubics[1], [iterationCount - 1]);\n  return cubicLength.apply(void 0, left) + cubicLength.apply(void 0, right);\n}\nvar cubic = {\n  extrema: extrema$1,\n  box: function box(x1, y1, x2, y2, x3, y3, x4, y4) {\n    var xArr = [x1, x4];\n    var yArr = [y1, y4];\n    var xExtrema = extrema$1(x1, x2, x3, x4);\n    var yExtrema = extrema$1(y1, y2, y3, y4);\n    for (var i = 0; i < xExtrema.length; i++) {\n      xArr.push(cubicAt(x1, x2, x3, x4, xExtrema[i]));\n    }\n    for (var _i = 0; _i < yExtrema.length; _i++) {\n      yArr.push(cubicAt(y1, y2, y3, y4, yExtrema[_i]));\n    }\n    return getBBoxByArray(xArr, yArr);\n  },\n  length: function length(x1, y1, x2, y2, x3, y3, x4, y4) {\n    // 迭代三次，划分成 8 段求长度\n    return cubicLength(x1, y1, x2, y2, x3, y3, x4, y4, 3);\n  },\n  nearestPoint: function nearestPoint$1(x1, y1, x2, y2, x3, y3, x4, y4, x0, y0, length) {\n    return nearestPoint([x1, x2, x3, x4], [y1, y2, y3, y4], x0, y0, cubicAt, length);\n  },\n  pointDistance: function pointDistance(x1, y1, x2, y2, x3, y3, x4, y4, x0, y0, length) {\n    var point = this.nearestPoint(x1, y1, x2, y2, x3, y3, x4, y4, x0, y0, length);\n    return distance(point.x, point.y, x0, y0);\n  },\n  interpolationAt: cubicAt,\n  pointAt: function pointAt(x1, y1, x2, y2, x3, y3, x4, y4, t) {\n    return {\n      x: cubicAt(x1, x2, x3, x4, t),\n      y: cubicAt(y1, y2, y3, y4, t)\n    };\n  },\n  divide: function divide(x1, y1, x2, y2, x3, y3, x4, y4, t) {\n    return divideCubic(x1, y1, x2, y2, x3, y3, x4, y4, t);\n  },\n  tangentAngle: function tangentAngle(x1, y1, x2, y2, x3, y3, x4, y4, t) {\n    var dx = derivativeAt$1(x1, x2, x3, x4, t);\n    var dy = derivativeAt$1(y1, y2, y3, y4, t);\n    return piMod(Math.atan2(dy, dx));\n  }\n};\n\n/**\r\n * @fileoverview 椭圆的一些计算，\r\n *  - 周长计算参考：https://www.mathsisfun.com/geometry/ellipse-perimeter.html\r\n *  - 距离计算参考：https://wet-robots.ghost.io/simple-method-for-distance-to-ellipse/\r\n * @author dxq613@gmail.com\r\n */\nfunction copysign(v1, v2) {\n  var absv = Math.abs(v1);\n  return v2 > 0 ? absv : absv * -1;\n}\nvar ellipse = {\n  /**\r\n   * 包围盒计算\r\n   * @param {number} x  椭圆中心 x\r\n   * @param {number} y  椭圆中心 y\r\n   * @param {number} rx 椭圆 x 方向半径\r\n   * @param {number} ry 椭圆 y 方向半径\r\n   * @return {object} 包围盒\r\n   */\n  box: function box(x, y, rx, ry) {\n    return {\n      x: x - rx,\n      y: y - ry,\n      width: rx * 2,\n      height: ry * 2\n    };\n  },\n  /**\r\n   * 计算周长，使用近似法\r\n   * @param {number} x  椭圆中心 x\r\n   * @param {number} y  椭圆中心 y\r\n   * @param {number} rx 椭圆 x 方向半径\r\n   * @param {number} ry 椭圆 y 方向半径\r\n   * @return {number} 椭圆周长\r\n   */\n  length: function length(x, y, rx, ry) {\n    return Math.PI * (3 * (rx + ry) - Math.sqrt((3 * rx + ry) * (rx + 3 * ry)));\n  },\n  /**\r\n   * 距离椭圆最近的点\r\n   * @param {number} x  椭圆中心 x\r\n   * @param {number} y  椭圆中心 y\r\n   * @param {number} rx 椭圆 x 方向半径\r\n   * @param {number} ry 椭圆 y 方向半径\r\n   * @param {number} x0  指定的点 x\r\n   * @param {number} y0  指定的点 y\r\n   * @return {object} 椭圆上距离指定点最近的点\r\n   */\n  nearestPoint: function nearestPoint(x, y, rx, ry, x0, y0) {\n    var a = rx;\n    var b = ry;\n    // 假如椭圆半径为0则返回圆心\n    if (a === 0 || b === 0) {\n      return {\n        x: x,\n        y: y\n      };\n    }\n    // 转换成 0， 0 为中心的椭圆计算\n    var relativeX = x0 - x;\n    var relativeY = y0 - y;\n    var px = Math.abs(relativeX);\n    var py = Math.abs(relativeY);\n    var squareA = a * a;\n    var squareB = b * b;\n    // const angle0 = Math.atan2(relativeY, relativeX);\n    var t = Math.PI / 4;\n    var nearestX = 0; // 椭圆上的任一点\n    var nearestY = 0;\n    // 迭代 4 次\n    for (var i = 0; i < 4; i++) {\n      nearestX = a * Math.cos(t);\n      nearestY = b * Math.sin(t);\n      var ex = (squareA - squareB) * Math.pow(Math.cos(t), 3) / a;\n      var ey = (squareB - squareA) * Math.pow(Math.sin(t), 3) / b;\n      var rx1 = nearestX - ex;\n      var ry1 = nearestY - ey;\n      var qx = px - ex;\n      var qy = py - ey;\n      var r = Math.hypot(ry1, rx1);\n      var q = Math.hypot(qy, qx);\n      var delta_c = r * Math.asin((rx1 * qy - ry1 * qx) / (r * q));\n      var delta_t = delta_c / Math.sqrt(squareA + squareB - nearestX * nearestX - nearestY * nearestY);\n      t += delta_t;\n      t = Math.min(Math.PI / 2, Math.max(0, t));\n    }\n    return {\n      x: x + copysign(nearestX, relativeX),\n      y: y + copysign(nearestY, relativeY)\n    };\n  },\n  /**\r\n   * 点到椭圆最近的距离\r\n   * @param {number} x  椭圆中心 x\r\n   * @param {number} y  椭圆中心 y\r\n   * @param {number} rx 椭圆 x 方向半径\r\n   * @param {number} ry 椭圆 y 方向半径\r\n   * @param {number} x0  指定的点 x\r\n   * @param {number} y0  指定的点 y\r\n   * @return {number} 点到椭圆的距离\r\n   */\n  pointDistance: function pointDistance(x, y, rx, ry, x0, y0) {\n    var nearestPoint = this.nearestPoint(x, y, rx, ry, x0, y0);\n    return distance(nearestPoint.x, nearestPoint.y, x0, y0);\n  },\n  /**\r\n   * 根据比例获取点\r\n   * @param {number} x 椭圆中心 x\r\n   * @param {number} y 椭圆中心 y\r\n   * @param {number} rx 椭圆 x 方向半径\r\n   * @param {number} ry 椭圆 y 方向半径\r\n   * @param {number} t 指定比例，x轴方向为 0\r\n   * @return {object} 点\r\n   */\n  pointAt: function pointAt(x, y, rx, ry, t) {\n    var angle = 2 * Math.PI * t; // 按照角度进行计算，而不按照周长计算\n    return {\n      x: x + rx * Math.cos(angle),\n      y: y + ry * Math.sin(angle)\n    };\n  },\n  /**\r\n   * 根据比例计算切线角度\r\n   * @param {number} x 椭圆中心 x\r\n   * @param {number} y 椭圆中心 y\r\n   * @param {number} rx 椭圆 x 方向半径\r\n   * @param {number} ry 椭圆 y 方向半径\r\n   * @param {number} t 指定比例 0 - 1 之间，x轴方向为 0。在 0-1 范围之外是循环还是返回 null，还需要调整\r\n   * @return {number} 角度，在 0 - 2PI 之间\r\n   */\n  tangentAngle: function tangentAngle(x, y, rx, ry, t) {\n    var angle = 2 * Math.PI * t; // 按照角度进行计算，而不按照周长计算\n    // 直接使用 x,y 的导数计算， x' = -rx * sin(t); y' = ry * cos(t);\n    var tangentAngle = Math.atan2(ry * Math.cos(angle), -rx * Math.sin(angle));\n    // 也可以使用指定点的切线方程计算，成本有些高\n    // const point = this.pointAt(0, 0, rx, ry, t); // 椭圆的切线同椭圆的中心不相关\n    // let tangentAngle = -1 * Math.atan((ry * ry * point.x) / (rx * rx * point.y));\n    // if (angle >= 0 && angle <= Math.PI) {\n    //   tangentAngle += Math.PI;\n    // }\n    return piMod(tangentAngle);\n  }\n};\n\n// 偏导数 x\nfunction derivativeXAt(cx, cy, rx, ry, xRotation, startAngle, endAngle, angle) {\n  return -1 * rx * Math.cos(xRotation) * Math.sin(angle) - ry * Math.sin(xRotation) * Math.cos(angle);\n}\n// 偏导数 y\nfunction derivativeYAt(cx, cy, rx, ry, xRotation, startAngle, endAngle, angle) {\n  return -1 * rx * Math.sin(xRotation) * Math.sin(angle) + ry * Math.cos(xRotation) * Math.cos(angle);\n}\n// x 的极值\nfunction xExtrema(rx, ry, xRotation) {\n  return Math.atan(-ry / rx * Math.tan(xRotation));\n}\n// y 的极值\nfunction yExtrema(rx, ry, xRotation) {\n  return Math.atan(ry / (rx * Math.tan(xRotation)));\n}\n// 根据角度求 x 坐标\nfunction xAt(cx, cy, rx, ry, xRotation, angle) {\n  return rx * Math.cos(xRotation) * Math.cos(angle) - ry * Math.sin(xRotation) * Math.sin(angle) + cx;\n}\n// 根据角度求 y 坐标\nfunction yAt(cx, cy, rx, ry, xRotation, angle) {\n  return rx * Math.sin(xRotation) * Math.cos(angle) + ry * Math.cos(xRotation) * Math.sin(angle) + cy;\n}\n// 获取点在椭圆上的角度\nfunction getAngle(rx, ry, x0, y0) {\n  var angle = Math.atan2(y0 * rx, x0 * ry);\n  // 转换到 0 - 2PI 内\n  return (angle + Math.PI * 2) % (Math.PI * 2);\n}\n// 根据角度获取，x,y\nfunction getPoint(rx, ry, angle) {\n  return {\n    x: rx * Math.cos(angle),\n    y: ry * Math.sin(angle)\n  };\n}\n// 旋转\nfunction rotate(x, y, angle) {\n  var cos = Math.cos(angle);\n  var sin = Math.sin(angle);\n  return [x * cos - y * sin, x * sin + y * cos];\n}\nvar arc = {\n  /**\r\n   * 计算包围盒\r\n   * @param {number} cx         圆心 x\r\n   * @param {number} cy         圆心 y\r\n   * @param {number} rx         x 轴方向的半径\r\n   * @param {number} ry         y 轴方向的半径\r\n   * @param {number} xRotation  旋转角度\r\n   * @param {number} startAngle 起始角度\r\n   * @param {number} endAngle   结束角度\r\n   * @return {object} 包围盒对象\r\n   */\n  box: function box(cx, cy, rx, ry, xRotation, startAngle, endAngle) {\n    var xDim = xExtrema(rx, ry, xRotation);\n    var minX = Infinity;\n    var maxX = -Infinity;\n    var xs = [startAngle, endAngle];\n    for (var i = -Math.PI * 2; i <= Math.PI * 2; i += Math.PI) {\n      var xAngle = xDim + i;\n      if (startAngle < endAngle) {\n        if (startAngle < xAngle && xAngle < endAngle) {\n          xs.push(xAngle);\n        }\n      } else {\n        if (endAngle < xAngle && xAngle < startAngle) {\n          xs.push(xAngle);\n        }\n      }\n    }\n    for (var _i = 0; _i < xs.length; _i++) {\n      var x = xAt(cx, cy, rx, ry, xRotation, xs[_i]);\n      if (x < minX) {\n        minX = x;\n      }\n      if (x > maxX) {\n        maxX = x;\n      }\n    }\n    var yDim = yExtrema(rx, ry, xRotation);\n    var minY = Infinity;\n    var maxY = -Infinity;\n    var ys = [startAngle, endAngle];\n    for (var _i2 = -Math.PI * 2; _i2 <= Math.PI * 2; _i2 += Math.PI) {\n      var yAngle = yDim + _i2;\n      if (startAngle < endAngle) {\n        if (startAngle < yAngle && yAngle < endAngle) {\n          ys.push(yAngle);\n        }\n      } else {\n        if (endAngle < yAngle && yAngle < startAngle) {\n          ys.push(yAngle);\n        }\n      }\n    }\n    for (var _i3 = 0; _i3 < ys.length; _i3++) {\n      var y = yAt(cx, cy, rx, ry, xRotation, ys[_i3]);\n      if (y < minY) {\n        minY = y;\n      }\n      if (y > maxY) {\n        maxY = y;\n      }\n    }\n    return {\n      x: minX,\n      y: minY,\n      width: maxX - minX,\n      height: maxY - minY\n    };\n  },\n  /**\r\n   * 获取圆弧的长度，计算圆弧长度时不考虑旋转角度，\r\n   * 仅跟 rx, ry, startAngle, endAngle 相关\r\n   * @param {number} cx         圆心 x\r\n   * @param {number} cy         圆心 y\r\n   * @param {number} rx         x 轴方向的半径\r\n   * @param {number} ry         y 轴方向的半径\r\n   * @param {number} xRotation  旋转角度\r\n   * @param {number} startAngle 起始角度\r\n   * @param {number} endAngle   结束角度\r\n   */\n  length: function length(cx, cy, rx, ry, xRotation, startAngle, endAngle) {},\n  /**\r\n   * 获取指定点到圆弧的最近距离的点\r\n   * @param {number} cx         圆心 x\r\n   * @param {number} cy         圆心 y\r\n   * @param {number} rx         x 轴方向的半径\r\n   * @param {number} ry         y 轴方向的半径\r\n   * @param {number} xRotation  旋转角度\r\n   * @param {number} startAngle 起始角度\r\n   * @param {number} endAngle   结束角度\r\n   * @param {number} x0         指定点的 x\r\n   * @param {number} y0         指定点的 y\r\n   * @return {object} 到指定点最近距离的点\r\n   */\n  nearestPoint: function nearestPoint(cx, cy, rx, ry, xRotation, startAngle, endAngle, x0, y0) {\n    // 将最近距离问题转换成到椭圆中心 0,0 没有旋转的椭圆问题\n    var relativeVector = rotate(x0 - cx, y0 - cy, -xRotation);\n    var x1 = relativeVector[0],\n      y1 = relativeVector[1];\n    // 计算点到椭圆的最近的点\n    var relativePoint = ellipse.nearestPoint(0, 0, rx, ry, x1, y1);\n    // 获取点在椭圆上的角度\n    var angle = getAngle(rx, ry, relativePoint.x, relativePoint.y);\n    // 点没有在圆弧上\n    if (angle < startAngle) {\n      // 小于起始圆弧\n      relativePoint = getPoint(rx, ry, startAngle);\n    } else if (angle > endAngle) {\n      // 大于结束圆弧\n      relativePoint = getPoint(rx, ry, endAngle);\n    }\n    // 旋转到 xRotation 的角度\n    var vector = rotate(relativePoint.x, relativePoint.y, xRotation);\n    return {\n      x: vector[0] + cx,\n      y: vector[1] + cy\n    };\n  },\n  pointDistance: function pointDistance(cx, cy, rx, ry, xRotation, startAngle, endAngle, x0, y0) {\n    var nearestPoint = this.nearestPoint(cx, cy, rx, ry, xRotation, startAngle, endAngle, x0, y0);\n    return distance(nearestPoint.x, nearestPoint.y, x0, y0);\n  },\n  pointAt: function pointAt(cx, cy, rx, ry, xRotation, startAngle, endAngle, t) {\n    var angle = (endAngle - startAngle) * t + startAngle;\n    return {\n      x: xAt(cx, cy, rx, ry, xRotation, angle),\n      y: yAt(cx, cy, rx, ry, xRotation, angle)\n    };\n  },\n  tangentAngle: function tangentAngle(cx, cy, rx, ry, xRotation, startAngle, endAngle, t) {\n    var angle = (endAngle - startAngle) * t + startAngle;\n    var dx = derivativeXAt(cx, cy, rx, ry, xRotation, startAngle, endAngle, angle);\n    var dy = derivativeYAt(cx, cy, rx, ry, xRotation, startAngle, endAngle, angle);\n    return piMod(Math.atan2(dy, dx));\n  }\n};\n\nfunction analyzePoints(points) {\n  // 计算每段的长度和总的长度\n  var totalLength = 0;\n  var segments = [];\n  for (var i = 0; i < points.length - 1; i++) {\n    var from = points[i];\n    var to = points[i + 1];\n    var length = distance(from[0], from[1], to[0], to[1]);\n    var seg = {\n      from: from,\n      to: to,\n      length: length\n    };\n    segments.push(seg);\n    totalLength += length;\n  }\n  return {\n    segments: segments,\n    totalLength: totalLength\n  };\n}\nfunction lengthOfSegment(points) {\n  if (points.length < 2) {\n    return 0;\n  }\n  var totalLength = 0;\n  for (var i = 0; i < points.length - 1; i++) {\n    var from = points[i];\n    var to = points[i + 1];\n    totalLength += distance(from[0], from[1], to[0], to[1]);\n  }\n  return totalLength;\n}\n/**\r\n * 按照比例在数据片段中获取点\r\n * @param {array} points 点的集合\r\n * @param {number} t 百分比 0-1\r\n * @return {object} 点的坐标\r\n */\nfunction pointAtSegments(points, t) {\n  // 边界判断\n  if (t > 1 || t < 0 || points.length < 2) {\n    return null;\n  }\n  var _analyzePoints = analyzePoints(points),\n    segments = _analyzePoints.segments,\n    totalLength = _analyzePoints.totalLength;\n  // 多个点有可能重合\n  if (totalLength === 0) {\n    return {\n      x: points[0][0],\n      y: points[0][1]\n    };\n  }\n  // 计算比例\n  var startRatio = 0;\n  var point = null;\n  for (var i = 0; i < segments.length; i++) {\n    var seg = segments[i];\n    var from = seg.from,\n      to = seg.to;\n    var currentRatio = seg.length / totalLength;\n    if (t >= startRatio && t <= startRatio + currentRatio) {\n      var localRatio = (t - startRatio) / currentRatio;\n      point = line.pointAt(from[0], from[1], to[0], to[1], localRatio);\n      break;\n    }\n    startRatio += currentRatio;\n  }\n  return point;\n}\n/**\r\n * 按照比例在数据片段中获取切线的角度\r\n * @param {array} points 点的集合\r\n * @param {number} t 百分比 0-1\r\n */\nfunction angleAtSegments(points, t) {\n  // 边界判断\n  if (t > 1 || t < 0 || points.length < 2) {\n    return 0;\n  }\n  var _analyzePoints2 = analyzePoints(points),\n    segments = _analyzePoints2.segments,\n    totalLength = _analyzePoints2.totalLength;\n  // 计算比例\n  var startRatio = 0;\n  var angle = 0;\n  for (var i = 0; i < segments.length; i++) {\n    var seg = segments[i];\n    var from = seg.from,\n      to = seg.to;\n    var currentRatio = seg.length / totalLength;\n    if (t >= startRatio && t <= startRatio + currentRatio) {\n      angle = Math.atan2(to[1] - from[1], to[0] - from[0]);\n      break;\n    }\n    startRatio += currentRatio;\n  }\n  return angle;\n}\nfunction distanceAtSegment(points, x, y) {\n  var minDistance = Infinity;\n  for (var i = 0; i < points.length - 1; i++) {\n    var point = points[i];\n    var nextPoint = points[i + 1];\n    var _distance = line.pointDistance(point[0], point[1], nextPoint[0], nextPoint[1], x, y);\n    if (_distance < minDistance) {\n      minDistance = _distance;\n    }\n  }\n  return minDistance;\n}\n\nvar polyline = {\n  /**\r\n   * 计算多折线的包围盒\r\n   * @param {array} points 点的集合 [x,y] 的形式\r\n   * @return {object} 包围盒\r\n   */\n  box: function box(points) {\n    var xArr = [];\n    var yArr = [];\n    for (var i = 0; i < points.length; i++) {\n      var point = points[i];\n      xArr.push(point[0]);\n      yArr.push(point[1]);\n    }\n    return getBBoxByArray(xArr, yArr);\n  },\n  /**\r\n   * 计算多折线的长度\r\n   * @param {array} points 点的集合 [x,y] 的形式\r\n   * @return {object} 多条边的长度\r\n   */\n  length: function length(points) {\n    return lengthOfSegment(points);\n  },\n  /**\r\n   * 根据比例获取多折线的点\r\n   * @param {array} points 点的集合 [x,y] 的形式\r\n   * @param {number} t 在多折线的长度上的比例\r\n   * @return {object} 根据比例值计算出来的点\r\n   */\n  pointAt: function pointAt(points, t) {\n    return pointAtSegments(points, t);\n  },\n  /**\r\n   * 指定点到多折线的距离\r\n   * @param {array} points 点的集合 [x,y] 的形式\r\n   * @param {number} x 指定点的 x\r\n   * @param {number} y 指定点的 y\r\n   * @return {number} 点到多折线的距离\r\n   */\n  pointDistance: function pointDistance(points, x, y) {\n    return distanceAtSegment(points, x, y);\n  },\n  /**\r\n   * 根据比例获取多折线的切线角度\r\n   * @param {array} points 点的集合 [x,y] 的形式\r\n   * @param {number} t 在多折线的长度上的比例\r\n   * @return {object} 根据比例值计算出来的角度\r\n   */\n  tangentAngle: function tangentAngle(points, t) {\n    return angleAtSegments(points, t);\n  }\n};\n\nfunction getAllPoints(points) {\n  var tmp = points.slice(0);\n  if (points.length) {\n    tmp.push(points[0]);\n  }\n  return tmp;\n}\nvar polygon = {\n  /**\r\n   * 计算多边形的包围盒\r\n   * @param {array} points 点的集合 [x,y] 的形式\r\n   * @return {object} 包围盒\r\n   */\n  box: function box(points) {\n    return polyline.box(points);\n  },\n  /**\r\n   * 计算多边形的长度\r\n   * @param {array} points 点的集合 [x,y] 的形式\r\n   * @return {object} 多边形边的长度\r\n   */\n  length: function length(points) {\n    return lengthOfSegment(getAllPoints(points));\n  },\n  /**\r\n   * 根据比例获取多边形的点\r\n   * @param {array} points 点的集合 [x,y] 的形式\r\n   * @param {number} t 在多边形的长度上的比例\r\n   * @return {object} 根据比例值计算出来的点\r\n   */\n  pointAt: function pointAt(points, t) {\n    return pointAtSegments(getAllPoints(points), t);\n  },\n  /**\r\n   * 指定点到多边形的距离\r\n   * @param {array} points 点的集合 [x,y] 的形式\r\n   * @param {number} x 指定点的 x\r\n   * @param {number} y 指定点的 y\r\n   * @return {number} 点到多边形的距离\r\n   */\n  pointDistance: function pointDistance(points, x, y) {\n    return distanceAtSegment(getAllPoints(points), x, y);\n  },\n  /**\r\n   * 根据比例获取多边形的切线角度\r\n   * @param {array} points 点的集合 [x,y] 的形式\r\n   * @param {number} t 在多边形的长度上的比例\r\n   * @return {object} 根据比例值计算出来的角度\r\n   */\n  tangentAngle: function tangentAngle(points, t) {\n    return angleAtSegments(getAllPoints(points), t);\n  }\n};\n\nexport { arc as Arc, cubic as Cubic, line as Line, polygon as Polygon, polyline as Polyline, quadratic as Quad, util as Util };\n", "var polarToCartesian = function polarToCartesian(centerX, centerY, radius, angleInRadian) {\n  return {\n    x: centerX + radius * Math.cos(angleInRadian),\n    y: centerY + radius * Math.sin(angleInRadian)\n  };\n};\nexport { polarToCartesian };", "import { __extends } from \"tslib\";\nimport { Path, deg2rad } from '@antv/g-lite';\nimport { isNumberEqual, isNil } from '@antv/util';\nimport { polarToCartesian } from './util/util';\nfunction computeArcSweep(startAngle, endAngle, anticlockwise) {\n  // 顺时针方向\n  if (!anticlockwise) {\n    if (endAngle >= startAngle) {\n      return endAngle - startAngle <= Math.PI ? 0 : 1;\n    }\n    return endAngle - startAngle <= -Math.PI ? 0 : 1;\n  }\n  // 逆时针方向\n  if (endAngle >= startAngle) {\n    return endAngle - startAngle <= Math.PI ? 1 : 0;\n  }\n  return endAngle - startAngle <= -Math.PI ? 1 : 0;\n}\nvar Arc = /** @class */function (_super) {\n  __extends(Arc, _super);\n  function Arc(config) {\n    var _this = _super.call(this, config) || this;\n    _this.updatePath();\n    return _this;\n  }\n  Arc.prototype.setAttribute = function (name, value, force) {\n    _super.prototype.setAttribute.call(this, name, value, force);\n    if (['cx', 'cy', 'startAngle', 'endAngle', 'r', 'anticlockwise'].indexOf(name) > -1) {\n      this.updatePath();\n    }\n  };\n  Arc.prototype.updatePath = function () {\n    var _a = this.parsedStyle,\n      _b = _a.cx,\n      cx = _b === void 0 ? 0 : _b,\n      _c = _a.cy,\n      cy = _c === void 0 ? 0 : _c,\n      startAngle = _a.startAngle,\n      endAngle = _a.endAngle,\n      r = _a.r,\n      anticlockwise = _a.anticlockwise;\n    if (isNil(startAngle) || isNil(endAngle) || startAngle === endAngle || isNil(r) || r <= 0) {\n      return;\n    }\n    var path = this.createPath(cx, cy, deg2rad(startAngle), deg2rad(endAngle), r, anticlockwise);\n    _super.prototype.setAttribute.call(this, 'path', path);\n  };\n  Arc.prototype.createPath = function (x, y, startAngle, endAngle, r, anticlockwise) {\n    var start = polarToCartesian(x, y, r, startAngle);\n    var end = polarToCartesian(x, y, r, endAngle);\n    var angle = Math.abs(endAngle - startAngle);\n    if (angle >= Math.PI * 2 || isNumberEqual(angle, Math.PI * 2)) {\n      var middlePoint = polarToCartesian(x, y, r, startAngle + Math.PI);\n      return [['M', start.x, start.y], ['A', r, r, 0, 1, anticlockwise ? 0 : 1, middlePoint.x, middlePoint.y], ['A', r, r, 0, 1, anticlockwise ? 0 : 1, start.x, start.y], ['Z']];\n    }\n    var arcSweep = computeArcSweep(startAngle, endAngle, anticlockwise);\n    return [['M', start.x, start.y], ['A', r, r, 0, arcSweep, anticlockwise ? 0 : 1, end.x, end.y]];\n  };\n  return Arc;\n}(Path);\nexport { Arc };", "import { __extends } from \"tslib\";\nimport { Path } from '@antv/g-lite';\nvar SYMBOLS = {\n  circle: function circle(x, y, r) {\n    return [['M', x - r, y], ['A', r, r, 0, 1, 0, x + r, y], ['A', r, r, 0, 1, 0, x - r, y]];\n  },\n  square: function square(x, y, r) {\n    return [['M', x - r, y - r], ['L', x + r, y - r], ['L', x + r, y + r], ['L', x - r, y + r], ['Z']];\n  },\n  arrow: function arrow(x, y, r) {\n    return [['M', x - r, y + 2 * r / Math.sqrt(3)], ['L', x + r, y + 2 * r / Math.sqrt(3)], ['L', x, y - 2 * r / Math.sqrt(3)], ['Z']];\n  }\n};\nvar Marker = /** @class */function (_super) {\n  __extends(Marker, _super);\n  function Marker(config) {\n    var _this = _super.call(this, config) || this;\n    _this.updatePath();\n    return _this;\n  }\n  Marker.prototype.setAttribute = function (name, value, force) {\n    _super.prototype.setAttribute.call(this, name, value, force);\n    if (['x', 'y', 'symbol', 'radius'].indexOf(name) > -1) {\n      this.updatePath();\n    }\n  };\n  Marker.prototype.updatePath = function () {\n    var _a = this.parsedStyle,\n      _b = _a.x,\n      x = _b === void 0 ? 0 : _b,\n      _c = _a.y,\n      y = _c === void 0 ? 0 : _c;\n    var _d = this.attributes,\n      radius = _d.radius,\n      symbol = _d.symbol;\n    if (!symbol) return;\n    var method = SYMBOLS[symbol];\n    if (!method) return;\n    var path = method(x, y, radius);\n    _super.prototype.setAttribute.call(this, 'path', path);\n  };\n  return Marker;\n}(Path);\nexport { Marker };", "import { __extends } from \"tslib\";\nimport { Path, deg2rad } from '@antv/g-lite';\nimport { polarToCartesian } from './util/util';\nimport { isNumberEqual, isNil } from '@antv/util';\nvar PI = Math.PI;\nvar PI2 = PI * 2;\nvar mathSin = Math.sin;\nvar mathCos = Math.cos;\nvar mathACos = Math.acos;\nvar mathATan2 = Math.atan2;\n// const mathAbs = Math.abs;\nvar mathSqrt = Math.sqrt;\nvar mathMax = Math.max;\nvar mathMin = Math.min;\nvar e = 1e-4;\nfunction intersect(x0, y0, x1, y1, x2, y2, x3, y3) {\n  var dx10 = x1 - x0;\n  var dy10 = y1 - y0;\n  var dx32 = x3 - x2;\n  var dy32 = y3 - y2;\n  var t = dy32 * dx10 - dx32 * dy10;\n  if (t * t < e) {\n    return;\n  }\n  t = (dx32 * (y0 - y2) - dy32 * (x0 - x2)) / t;\n  return [x0 + t * dx10, y0 + t * dy10];\n}\n// Compute perpendicular offset line of length rc.\nfunction computeCornerTangents(x0, y0, x1, y1, radius, cr, clockwise) {\n  var x01 = x0 - x1;\n  var y01 = y0 - y1;\n  var lo = (clockwise ? cr : -cr) / mathSqrt(x01 * x01 + y01 * y01);\n  var ox = lo * y01;\n  var oy = -lo * x01;\n  var x11 = x0 + ox;\n  var y11 = y0 + oy;\n  var x10 = x1 + ox;\n  var y10 = y1 + oy;\n  var x00 = (x11 + x10) / 2;\n  var y00 = (y11 + y10) / 2;\n  var dx = x10 - x11;\n  var dy = y10 - y11;\n  var d2 = dx * dx + dy * dy;\n  var r = radius - cr;\n  var s = x11 * y10 - x10 * y11;\n  var d = (dy < 0 ? -1 : 1) * mathSqrt(mathMax(0, r * r * d2 - s * s));\n  var cx0 = (s * dy - dx * d) / d2;\n  var cy0 = (-s * dx - dy * d) / d2;\n  var cx1 = (s * dy + dx * d) / d2;\n  var cy1 = (-s * dx + dy * d) / d2;\n  var dx0 = cx0 - x00;\n  var dy0 = cy0 - y00;\n  var dx1 = cx1 - x00;\n  var dy1 = cy1 - y00;\n  // Pick the closer of the two intersection points\n  // TODO: Is there a faster way to determine which intersection to use?\n  if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) {\n    cx0 = cx1;\n    cy0 = cy1;\n  }\n  return {\n    cx: cx0,\n    cy: cy0,\n    x0: -ox,\n    y0: -oy,\n    x1: cx0 * (radius / r - 1),\n    y1: cy0 * (radius / r - 1)\n  };\n}\nfunction computeArcSweep(startAngle, endAngle, clockwise) {\n  if (clockwise === void 0) {\n    clockwise = true;\n  }\n  if (!clockwise) {\n    var replaceAngle = endAngle;\n    endAngle = startAngle;\n    startAngle = replaceAngle;\n  }\n  endAngle = endAngle - startAngle < 0 ? endAngle + PI2 : endAngle;\n  return Math.abs(endAngle - startAngle) % PI2 <= PI ? 0 : 1;\n}\nvar Sector = /** @class */function (_super) {\n  __extends(Sector, _super);\n  function Sector(config) {\n    var _this = _super.call(this, config) || this;\n    _this.updatePath();\n    return _this;\n  }\n  Sector.prototype.setAttribute = function (name, value, force) {\n    _super.prototype.setAttribute.call(this, name, value, force);\n    if (['startAngle', 'endAngle', 'r', 'r0', 'radius', 'cx', 'cy'].indexOf(name) > -1) {\n      this.updatePath();\n    }\n  };\n  Sector.prototype.updatePath = function () {\n    var _a = this.parsedStyle,\n      cx = _a.cx,\n      cy = _a.cy,\n      startAngle = _a.startAngle,\n      endAngle = _a.endAngle,\n      r = _a.r,\n      r0 = _a.r0,\n      radius = _a.radius,\n      _b = _a.anticlockwise,\n      anticlockwise = _b === void 0 ? false : _b;\n    if (isNil(startAngle) || isNil(endAngle) || startAngle === endAngle || isNil(r) || r <= 0) {\n      return;\n    }\n    var path = this.createPath(cx, cy, deg2rad(startAngle), deg2rad(endAngle), r, r0 ? r0 : 0, radius ? radius : [0, 0, 0, 0], anticlockwise);\n    _super.prototype.setAttribute.call(this, 'path', path);\n  };\n  Sector.prototype.createPath = function (x, y, startAngle, endAngle, r, r0, borderRadius, anticlockwise) {\n    var start = polarToCartesian(x, y, r, startAngle);\n    var end = polarToCartesian(x, y, r, endAngle);\n    var innerStart = polarToCartesian(x, y, r0, startAngle);\n    var innerEnd = polarToCartesian(x, y, r0, endAngle);\n    var clockwise = !anticlockwise;\n    var angle = clockwise ? endAngle - startAngle : startAngle - endAngle;\n    // 整圆\n    if (Math.abs(angle) >= PI2 || isNumberEqual(Math.abs(angle), PI2)) {\n      // 整个圆是分割成两个圆\n      var middlePoint = polarToCartesian(x, y, r, startAngle + Math.PI);\n      var innerMiddlePoint = polarToCartesian(x, y, r0, startAngle + Math.PI);\n      var circlePathCommands = [['M', start.x, start.y], ['A', r, r, 0, 1, clockwise ? 1 : 0, middlePoint.x, middlePoint.y], ['A', r, r, 0, 1, clockwise ? 1 : 0, end.x, end.y]];\n      if (r0 > 0) {\n        circlePathCommands.push(['M', innerStart.x, innerStart.y]);\n        circlePathCommands.push(['A', r0, r0, 0, 1, clockwise ? 0 : 1, innerMiddlePoint.x, innerMiddlePoint.y]);\n        circlePathCommands.push(['A', r0, r0, 0, 1, clockwise ? 0 : 1, innerEnd.x, innerEnd.y]);\n      }\n      circlePathCommands.push(['M', start.x, start.y]);\n      circlePathCommands.push(['Z']);\n      return circlePathCommands;\n    }\n    var xrs = r * mathCos(startAngle);\n    var yrs = r * mathSin(startAngle);\n    var xire = r0 * mathCos(endAngle);\n    var yire = r0 * mathSin(endAngle);\n    var xre = r * mathCos(endAngle);\n    var yre = r * mathSin(endAngle);\n    var xirs = r0 * mathCos(startAngle);\n    var yirs = r0 * mathSin(startAngle);\n    // 顺时针反向，同 radius\n    var outStartRadius = borderRadius[0],\n      outEndRadius = borderRadius[1],\n      innerEndRadius = borderRadius[2],\n      innerStartRadius = borderRadius[3];\n    var halfRadius = (r - r0) / 2;\n    var outStartBorderRadius = mathMin(halfRadius, outStartRadius);\n    var outEndBorderRadius = mathMin(halfRadius, outEndRadius);\n    var innerEndBorderRadius = mathMin(halfRadius, innerEndRadius);\n    var innerStartBorderRadius = mathMin(halfRadius, innerStartRadius);\n    var outBorderRadiusMax = mathMax(outStartBorderRadius, outEndBorderRadius);\n    var innerBorderRadiusMax = mathMax(innerEndBorderRadius, innerStartBorderRadius);\n    var limitedOutBorderRadiusMax = outBorderRadiusMax;\n    var limitedInnerBorderRadiusMax = innerBorderRadiusMax;\n    // draw corner radius\n    if (outBorderRadiusMax > e || innerBorderRadiusMax > e) {\n      // restrict the max value of corner radius\n      if (angle < PI) {\n        var it_1 = intersect(xrs, yrs, xirs, yirs, xre, yre, xire, yire);\n        if (it_1) {\n          var x0 = xrs - it_1[0];\n          var y0 = yrs - it_1[1];\n          var x1 = xre - it_1[0];\n          var y1 = yre - it_1[1];\n          var a = 1 / mathSin(mathACos((x0 * x1 + y0 * y1) / (mathSqrt(x0 * x0 + y0 * y0) * mathSqrt(x1 * x1 + y1 * y1))) / 2);\n          var b = mathSqrt(it_1[0] * it_1[0] + it_1[1] * it_1[1]);\n          limitedOutBorderRadiusMax = mathMin(outBorderRadiusMax, (r - b) / (a + 1));\n          limitedInnerBorderRadiusMax = mathMin(innerBorderRadiusMax, (r0 - b) / (a - 1));\n        }\n      }\n    }\n    var arcSweep = computeArcSweep(startAngle, endAngle, clockwise);\n    var sectorPathCommands = [];\n    if (limitedOutBorderRadiusMax > e) {\n      var crStart = mathMin(outStartRadius, limitedOutBorderRadiusMax);\n      var crEnd = mathMin(outEndRadius, limitedOutBorderRadiusMax);\n      var ct0 = computeCornerTangents(xirs, yirs, xrs, yrs, r, crStart, clockwise);\n      var ct1 = computeCornerTangents(xre, yre, xire, yire, r, crEnd, clockwise);\n      sectorPathCommands.push(['M', x + ct0.cx + ct0.x0, y + ct0.cy + ct0.y0]);\n      // Have the corners merged?\n      if (limitedOutBorderRadiusMax < outBorderRadiusMax && crStart === crEnd) {\n        var outStartBorderRadiusStartAngle = mathATan2(ct0.cy + ct0.y0, ct0.cx + ct0.x0);\n        var outStartBorderRadiusEndAngle = mathATan2(ct1.cy + ct1.y0, ct1.cx + ct1.x0);\n        sectorPathCommands.push(['A', limitedOutBorderRadiusMax, limitedOutBorderRadiusMax, 0, computeArcSweep(outStartBorderRadiusStartAngle, outStartBorderRadiusEndAngle, !clockwise), clockwise ? 1 : 0, x + ct1.cx + ct1.x0, y + ct1.cy + ct1.y0]);\n      } else {\n        // draw the two corners and the ring\n        if (crStart > 0) {\n          var outStartBorderRadiusStartAngle = mathATan2(ct0.y0, ct0.x0);\n          var outStartBorderRadiusEndAngle = mathATan2(ct0.y1, ct0.x1);\n          var outStartBorderRadiusEndPoint = polarToCartesian(x, y, r, outStartBorderRadiusEndAngle);\n          sectorPathCommands.push(['A', crStart, crStart, 0, computeArcSweep(outStartBorderRadiusStartAngle, outStartBorderRadiusEndAngle, clockwise), clockwise ? 1 : 0, outStartBorderRadiusEndPoint.x, outStartBorderRadiusEndPoint.y]);\n        }\n        var outRadiusStartAngle = mathATan2(ct0.cy + ct0.y1, ct0.cx + ct0.x1);\n        var outRadiusEndAngle = mathATan2(ct1.cy + ct1.y1, ct1.cx + ct1.x1);\n        var outRadiusEndPoint = polarToCartesian(x, y, r, outRadiusEndAngle);\n        sectorPathCommands.push(['A', r, r, 1, computeArcSweep(outRadiusStartAngle, outRadiusEndAngle, clockwise), clockwise ? 1 : 0, outRadiusEndPoint.x, outRadiusEndPoint.y]);\n        if (crEnd > 0) {\n          var outEndBorderRadiusStartAngle = mathATan2(ct1.y1, ct1.x1);\n          var outEndBorderRadiusEndAngle = mathATan2(ct1.y0, ct1.x0);\n          sectorPathCommands.push(['A', crEnd, crEnd, 0, computeArcSweep(outEndBorderRadiusStartAngle, outEndBorderRadiusEndAngle, clockwise), clockwise ? 1 : 0, x + ct1.cx + ct1.x0, y + ct1.cy + ct1.y0]);\n        }\n      }\n    } else {\n      sectorPathCommands.push(['M', start.x, start.y]);\n      sectorPathCommands.push(['A', r, r, 0, arcSweep, clockwise ? 1 : 0, end.x, end.y]);\n    }\n    // no inner ring, is a circular sector\n    if (r0 < e) {\n      sectorPathCommands.push(['L', innerEnd.x, innerEnd.y]);\n    } else if (limitedInnerBorderRadiusMax > e) {\n      var crStart = mathMin(innerStartRadius, limitedInnerBorderRadiusMax);\n      var crEnd = mathMin(innerEndRadius, limitedInnerBorderRadiusMax);\n      var ct0 = computeCornerTangents(0, 0, xire, yire, r0, -crEnd, clockwise);\n      var ct1 = computeCornerTangents(xirs, yirs, 0, 0, r0, -crStart, clockwise);\n      sectorPathCommands.push(['L', x + ct0.cx + ct0.x0, y + ct0.cy + ct0.y0]);\n      // Have the corners merged?\n      if (limitedInnerBorderRadiusMax < innerBorderRadiusMax && crStart === crEnd) {\n        var innerStartBorderRadiusStartAngle = mathATan2(ct0.y0, ct0.x0);\n        var innerStartBorderRadiusEndAngle = mathATan2(ct1.y0, ct1.x0);\n        sectorPathCommands.push(['A', limitedInnerBorderRadiusMax, limitedInnerBorderRadiusMax, 0, computeArcSweep(innerStartBorderRadiusStartAngle, innerStartBorderRadiusEndAngle), 1, x + ct1.cx + ct1.x0, y + ct1.cy + ct1.y0]);\n      } else {\n        // draw the two corners and the ring\n        if (crEnd > 0) {\n          var innerStartBorderRadiusStartAngle = mathATan2(ct0.y0, ct0.x0);\n          var innerStartBorderRadiusEndAngle = mathATan2(ct0.y1, ct0.x1);\n          sectorPathCommands.push(['A', crEnd, crEnd, 0, computeArcSweep(innerStartBorderRadiusStartAngle, innerStartBorderRadiusEndAngle, clockwise), clockwise ? 1 : 0, x + ct0.cx + ct0.x1, y + ct0.cy + ct0.y1]);\n        }\n        var innerRadiusStartAngle = mathATan2(ct0.cy + ct0.y1, ct0.cx + ct0.x1);\n        var innerRadiusEndAngle = mathATan2(ct1.cy + ct1.y1, ct1.cx + ct1.x1);\n        var innerRadiusEndPoint = polarToCartesian(x, y, r0, innerRadiusEndAngle);\n        sectorPathCommands.push(['A', r0, r0, 0, computeArcSweep(innerRadiusEndAngle, innerRadiusStartAngle, clockwise), clockwise ? 0 : 1, innerRadiusEndPoint.x, innerRadiusEndPoint.y]);\n        if (crStart > 0) {\n          var innerEndBorderRadiusStartAngle = mathATan2(ct1.y1, ct1.x1);\n          var innerEndBorderRadiusEndAngle = mathATan2(ct1.y0, ct1.x0);\n          sectorPathCommands.push(['A', crStart, crStart, 0, computeArcSweep(innerEndBorderRadiusStartAngle, innerEndBorderRadiusEndAngle, clockwise), clockwise ? 1 : 0, x + ct1.cx + ct1.x0, y + ct1.cy + ct1.y0]);\n        }\n      }\n    }\n    // the inner ring is just a circular arc\n    else {\n      sectorPathCommands.push(['L', innerEnd.x, innerEnd.y]);\n      sectorPathCommands.push(['A', r0, r0, 0, arcSweep, clockwise ? 0 : 1, innerStart.x, innerStart.y]);\n    }\n    sectorPathCommands.push(['Z']);\n    return sectorPathCommands;\n  };\n  return Sector;\n}(Path);\nexport { Sector };", "/**\n * @fileOverview convert the line to curve\n * @author dxq613@gmail.com\n */\nimport { vec2 } from 'gl-matrix';\nfunction getPoint(v) {\n  return [v.x, v.y];\n}\nfunction smoothBezier(points, smooth, isLoop, constraint) {\n  var cps = [];\n  var prevPoint;\n  var nextPoint;\n  var hasConstraint = !!constraint;\n  var min;\n  var max;\n  var point;\n  var len;\n  var l;\n  var i;\n  if (hasConstraint) {\n    min = [Infinity, Infinity];\n    max = [-Infinity, -Infinity];\n    for (i = 0, l = points.length; i < l; i++) {\n      point = getPoint(points[i]);\n      vec2.min(min, min, point);\n      vec2.max(max, max, point);\n    }\n    vec2.min(min, min, constraint[0]);\n    vec2.max(max, max, constraint[1]);\n  }\n  for (i = 0, len = points.length; i < len; i++) {\n    point = getPoint(points[i]);\n    if (isLoop) {\n      prevPoint = getPoint(points[i ? i - 1 : len - 1]);\n      nextPoint = getPoint(points[(i + 1) % len]);\n    } else {\n      if (i === 0 || i === len - 1) {\n        cps.push([point[0], point[1]]);\n        continue;\n      } else {\n        prevPoint = getPoint(points[i - 1]);\n        nextPoint = getPoint(points[i + 1]);\n      }\n    }\n    var v = vec2.sub([], nextPoint, prevPoint);\n    vec2.scale(v, v, smooth);\n    var d0 = vec2.distance(point, prevPoint);\n    var d1 = vec2.distance(point, nextPoint);\n    var sum = d0 + d1;\n    if (sum !== 0) {\n      d0 /= sum;\n      d1 /= sum;\n    }\n    var v1 = vec2.scale([], v, -d0);\n    var v2 = vec2.scale([], v, d1);\n    var cp0 = vec2.add([], point, v1);\n    var cp1 = vec2.add([], point, v2);\n    if (hasConstraint) {\n      vec2.max(cp0, cp0, min);\n      vec2.min(cp0, cp0, max);\n      vec2.max(cp1, cp1, min);\n      vec2.min(cp1, cp1, max);\n    }\n    cps.push([cp0[0], cp0[1]]);\n    cps.push([cp1[0], cp1[1]]);\n  }\n  if (isLoop) {\n    cps.push(cps.shift());\n  }\n  return cps;\n}\nfunction catmullRom2bezier(pointList, z, constraint) {\n  var isLoop = !!z;\n  var controlPointList = smoothBezier(pointList, 0.4, isLoop, constraint);\n  var len = pointList.length;\n  var d1 = [];\n  var cp1;\n  var cp2;\n  var p;\n  for (var i = 0; i < len - 1; i++) {\n    cp1 = controlPointList[i * 2];\n    cp2 = controlPointList[i * 2 + 1];\n    p = pointList[i + 1];\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p.x, p.y]);\n  }\n  if (isLoop) {\n    cp1 = controlPointList[len];\n    cp2 = controlPointList[len + 1];\n    p = pointList[0];\n    d1.push(['C', cp1[0], cp1[1], cp2[0], cp2[1], p.x, p.y]);\n  }\n  return d1;\n}\nexport { catmullRom2bezier as smooth };", "import { __extends } from \"tslib\";\nimport { Path } from '@antv/g-lite';\nimport * as Smooth from './util/smooth';\nvar SmoothPolyline = /** @class */function (_super) {\n  __extends(SmoothPolyline, _super);\n  function SmoothPolyline(config) {\n    var _this = _super.call(this, config) || this;\n    _this.updatePath();\n    return _this;\n  }\n  SmoothPolyline.prototype.setAttribute = function (name, value, force) {\n    _super.prototype.setAttribute.call(this, name, value, force);\n    if (['smooth', 'points'].indexOf(name) > -1) {\n      this.updatePath();\n    }\n  };\n  SmoothPolyline.prototype.updatePath = function () {\n    var _a = this.parsedStyle,\n      smooth = _a.smooth,\n      points = _a.points;\n    var pos = points.points;\n    var d = [['M', pos[0][0], pos[0][1]]];\n    if (smooth) {\n      var constaint = [[0, 0], [1, 1]];\n      var sps = Smooth.smooth(pos.map(function (d) {\n        return {\n          x: d[0],\n          y: d[1]\n        };\n      }), false, constaint);\n      for (var i = 0, n = sps.length; i < n; i++) {\n        var sp = sps[i];\n        d.push(['C', sp[1], sp[2], sp[3], sp[4], sp[5], sp[6]]);\n      }\n    } else {\n      var i = void 0;\n      var l = void 0;\n      for (i = 1, l = pos.length - 1; i < l; i++) {\n        d.push(['L', pos[i][0], pos[i][1]]);\n      }\n      d.push(['L', pos[l][0], pos[l][1]]);\n    }\n    _super.prototype.setAttribute.call(this, 'path', d);\n  };\n  SmoothPolyline.tag = 'smooth-polyline';\n  return SmoothPolyline;\n}(Path);\nexport { SmoothPolyline };", "import EE from 'eventemitter3';\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  _setPrototypeOf(subClass, superClass);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\n\nvar clock = typeof performance === 'object' && performance.now ? performance : Date;\nvar PRESS_DELAY = 250;\n// 计算滑动的方向\nvar calcDirection = function calcDirection(start, end) {\n  var xDistance = end.x - start.x;\n  var yDistance = end.y - start.y;\n  // x 的距离大于y 说明是横向，否则就是纵向\n  if (Math.abs(xDistance) > Math.abs(yDistance)) {\n    return xDistance > 0 ? 'right' : 'left';\n  }\n  return yDistance > 0 ? 'down' : 'up';\n};\n// 计算2点之间的距离\nvar calcDistance = function calcDistance(point1, point2) {\n  var xDistance = Math.abs(point2.x - point1.x);\n  var yDistance = Math.abs(point2.y - point1.y);\n  return Math.sqrt(xDistance * xDistance + yDistance * yDistance);\n};\nvar getCenter = function getCenter(point1, point2) {\n  var x = point1.x + (point2.x - point1.x) / 2;\n  var y = point1.y + (point2.y - point1.y) / 2;\n  return {\n    x: x,\n    y: y\n  };\n};\nvar Gesture = /*#__PURE__*/function (_EE) {\n  _inheritsLoose(Gesture, _EE);\n  // 用来记录当前触发的事件\n\n  function Gesture(el) {\n    var _this;\n    _this = _EE.call(this) || this;\n    _this.el = void 0;\n    _this.evCache = [];\n    _this.startTime = void 0;\n    _this.pressTimeout = void 0;\n    _this.startPoints = [];\n    _this.processEvent = {};\n    _this.startDistance = void 0;\n    _this.center = void 0;\n    _this.eventType = void 0;\n    _this.direction = void 0;\n    _this.lastMoveTime = void 0;\n    _this.prevMovePoint = void 0;\n    _this.prevMoveTime = void 0;\n    _this.lastMovePoint = void 0;\n    _this.throttleTimer = 0;\n    _this.emitThrottles = [];\n    _this._start = function (ev) {\n      // 每次触点开始都重置事件\n      _this.reset();\n      // 记录touch start 的时间\n      _this.startTime = clock.now();\n      var _assertThisInitialize = _assertThisInitialized(_this),\n        evCache = _assertThisInitialize.evCache,\n        startPoints = _assertThisInitialize.startPoints;\n      if (ev) {\n        var pointerId = ev.pointerId,\n          x = ev.x,\n          y = ev.y;\n        evCache.push({\n          pointerId: pointerId,\n          x: x,\n          y: y,\n          ev: ev\n        });\n      }\n      // 重置 startPoints\n      startPoints.length = evCache.length;\n      for (var i = 0; i < evCache.length; i++) {\n        var _evCache$i = evCache[i],\n          _x = _evCache$i.x,\n          _y = _evCache$i.y;\n        var point = {\n          x: _x,\n          y: _y\n        };\n        startPoints[i] = point;\n      }\n      // 单指事件\n      if (startPoints.length === 1) {\n        var event = evCache[0].ev;\n        // 如果touchstart后停顿250ms, 则也触发press事件\n        _this.pressTimeout = setTimeout(function () {\n          // 这里固定触发press事件\n          var eventType = 'press';\n          var direction = 'none';\n          event.direction = direction;\n          event.deltaX = 0;\n          event.deltaY = 0;\n          event.points = startPoints;\n          _this.emitStart(eventType, event);\n          _this._emit(eventType, event);\n          _this.eventType = eventType;\n          _this.direction = direction;\n        }, PRESS_DELAY);\n        return;\n      }\n      // 目前只处理双指\n      _this.startDistance = calcDistance(startPoints[0], startPoints[1]);\n      _this.center = getCenter(startPoints[0], startPoints[1]);\n    };\n    _this._move = function (ev) {\n      _this.clearPressTimeout();\n      var _assertThisInitialize2 = _assertThisInitialized(_this),\n        startPoints = _assertThisInitialize2.startPoints,\n        evCache = _assertThisInitialize2.evCache;\n      if (!startPoints.length) return;\n      var x = ev.x,\n        y = ev.y,\n        pointerId = ev.pointerId;\n      var isTriggerStart = false;\n      // Find this event in the cache and update its record with this event\n      for (var i = 0, len = evCache.length; i < len; i++) {\n        if (pointerId === evCache[i].pointerId) {\n          evCache[i] = {\n            pointerId: pointerId,\n            x: x,\n            y: y,\n            ev: ev\n          };\n          isTriggerStart = true;\n          break;\n        }\n      }\n      // 无触发start事件 需保留startPoints重新触发start\n      if (!isTriggerStart) {\n        var _point = {\n          x: x,\n          y: y\n        };\n        startPoints.push(_point);\n        evCache.push({\n          pointerId: pointerId,\n          x: x,\n          y: y,\n          ev: ev\n        });\n        // 目前只处理双指\n        _this.startDistance = calcDistance(startPoints[0], startPoints[1]);\n        _this.center = getCenter(startPoints[0], startPoints[1]);\n      }\n      var point = {\n        x: x,\n        y: y\n      };\n      var points = evCache.map(function (ev) {\n        return {\n          x: ev.x,\n          y: ev.y\n        };\n      });\n      // 记录最后2次move的时间和坐标，为了给swipe事件用\n      var now = clock.now();\n      _this.prevMoveTime = _this.lastMoveTime;\n      _this.prevMovePoint = _this.lastMovePoint;\n      _this.lastMoveTime = now;\n      _this.lastMovePoint = point;\n      if (startPoints.length === 1) {\n        var startPoint = startPoints[0];\n        var deltaX = x - startPoint.x;\n        var deltaY = y - startPoint.y;\n        var direction = _this.direction || calcDirection(startPoint, point);\n        _this.direction = direction;\n        // 获取press或者pan的事件类型\n        // press 按住滑动, pan表示平移\n        // 如果start后立刻move，则触发pan, 如果有停顿，则触发press\n        var eventType = _this.getEventType(point);\n        ev.direction = direction;\n        ev.deltaX = deltaX;\n        ev.deltaY = deltaY;\n        ev.points = points;\n        _this.emitStart(eventType, ev);\n        _this._emit(eventType, ev);\n        return;\n      }\n      // 多指触控\n      var _assertThisInitialize3 = _assertThisInitialized(_this),\n        startDistance = _assertThisInitialize3.startDistance;\n      var currentDistance = calcDistance(points[0], points[1]);\n      // 缩放比例\n      ev.zoom = currentDistance / startDistance;\n      ev.center = _this.center;\n      ev.points = points;\n      // 触发缩放事件\n      _this.emitStart('pinch', ev);\n      _this._emit('pinch', ev);\n    };\n    _this._end = function (ev) {\n      var _assertThisInitialize4 = _assertThisInitialized(_this),\n        evCache = _assertThisInitialize4.evCache,\n        startPoints = _assertThisInitialize4.startPoints;\n      var points = evCache.map(function (ev) {\n        return {\n          x: ev.x,\n          y: ev.y\n        };\n      });\n      ev.points = points;\n      _this.emitEnd(ev);\n      // 单指\n      if (evCache.length === 1) {\n        // swipe事件处理, 在end之后触发\n        var now = clock.now();\n        var lastMoveTime = _this.lastMoveTime;\n        // 做这个判断是为了最后一次touchmove后到end前，是否还有一个停顿的过程\n        // 100 是拍的一个值，理论这个值会很短，一般不卡顿的话在10ms以内\n        if (now - lastMoveTime < 100) {\n          var prevMoveTime = _this.prevMoveTime || _this.startTime;\n          var intervalTime = lastMoveTime - prevMoveTime;\n          // 时间间隔一定要大于0, 否则计算没意义\n          if (intervalTime > 0) {\n            var prevMovePoint = _this.prevMovePoint || startPoints[0];\n            var lastMovePoint = _this.lastMovePoint || startPoints[0];\n            // move速率\n            var velocity = calcDistance(prevMovePoint, lastMovePoint) / intervalTime;\n            // 0.3 是参考hammerjs的设置\n            if (velocity > 0.3) {\n              ev.velocity = velocity;\n              ev.direction = calcDirection(prevMovePoint, lastMovePoint);\n              _this._emit('swipe', ev);\n            }\n          }\n        }\n      }\n      // remove event from cache\n      for (var i = 0, len = evCache.length; i < len; i++) {\n        if (evCache[i].pointerId === ev.pointerId) {\n          evCache.splice(i, 1);\n          startPoints.splice(i, 1);\n          break;\n        }\n      }\n      _this.reset();\n      // 多指离开 1 指后，重新触发一次start\n      if (evCache.length > 0) {\n        _this._start();\n      }\n    };\n    _this.el = el;\n    _this._initEvent();\n    return _this;\n  }\n  var _proto = Gesture.prototype;\n  _proto._initEvent = function _initEvent() {\n    var el = this.el;\n    el.addEventListener('pointerdown', this._start);\n    el.addEventListener('pointermove', this._move);\n    el.addEventListener('pointerup', this._end);\n    el.addEventListener('pointerupoutside', this._end);\n  };\n  _proto.getEventType = function getEventType(point) {\n    var eventType = this.eventType,\n      startTime = this.startTime,\n      startPoints = this.startPoints;\n    if (eventType) {\n      return eventType;\n    }\n    var type;\n    // @ts-ignore\n    var panEventListeners = this._events.pan;\n    // 如果没有pan事件的监听，默认都是press\n    if (!panEventListeners) {\n      type = 'press';\n    } else {\n      // 如果有pan事件的处理，press则需要停顿250ms, 且移动距离小于10\n      var now = clock.now();\n      if (now - startTime > PRESS_DELAY && calcDistance(startPoints[0], point) < 10) {\n        type = 'press';\n      } else {\n        type = 'pan';\n      }\n    }\n    this.eventType = type;\n    return type;\n  };\n  _proto.enable = function enable(eventType) {\n    this.processEvent[eventType] = true;\n  }\n  // 是否进行中的事件\n  ;\n  _proto.isProcess = function isProcess(eventType) {\n    return this.processEvent[eventType];\n  }\n  // 触发start事件\n  ;\n  _proto.emitStart = function emitStart(type, ev) {\n    if (this.isProcess(type)) {\n      return;\n    }\n    this.enable(type);\n    this._emit(type + \"start\", ev);\n  }\n  // 触发事件\n  ;\n  _proto._emit = function _emit(type, ev) {\n    var _el$ownerDocument,\n      _el$document,\n      _this2 = this;\n    // 主要是节流处理\n    this.pushEvent(type, ev);\n    var el = this.el,\n      throttleTimer = this.throttleTimer,\n      emitThrottles = this.emitThrottles;\n    if (throttleTimer) {\n      return;\n    }\n    // @ts-ignore\n    var global = ((_el$ownerDocument = el.ownerDocument) === null || _el$ownerDocument === void 0 ? void 0 : _el$ownerDocument.defaultView) || ((_el$document = el.document) === null || _el$document === void 0 ? void 0 : _el$document.defaultView);\n    this.throttleTimer = global.requestAnimationFrame(function () {\n      for (var i = 0, len = emitThrottles.length; i < len; i++) {\n        var _emitThrottles$i = emitThrottles[i],\n          _type = _emitThrottles$i.type,\n          _ev = _emitThrottles$i.ev;\n        _this2.emit(_type, _ev);\n      }\n      // 清空\n      _this2.throttleTimer = 0;\n      _this2.emitThrottles.length = 0;\n    });\n  }\n  // 触发end事件\n  ;\n  _proto.emitEnd = function emitEnd(ev) {\n    var _this3 = this;\n    var processEvent = this.processEvent;\n    Object.keys(processEvent).forEach(function (type) {\n      _this3._emit(type + \"end\", ev);\n      delete processEvent[type];\n    });\n  };\n  _proto.pushEvent = function pushEvent(type, ev) {\n    var emitThrottles = this.emitThrottles;\n    var newEvent = {\n      type: type,\n      ev: ev\n    };\n    for (var i = 0, len = emitThrottles.length; i < len; i++) {\n      if (emitThrottles[i].type === type) {\n        emitThrottles.splice(i, 1, newEvent);\n        return;\n      }\n    }\n    emitThrottles.push(newEvent);\n  };\n  _proto.clearPressTimeout = function clearPressTimeout() {\n    if (this.pressTimeout) {\n      clearTimeout(this.pressTimeout);\n      this.pressTimeout = null;\n    }\n  };\n  _proto.reset = function reset() {\n    this.clearPressTimeout();\n    this.startTime = 0;\n    this.startDistance = 0;\n    this.direction = null;\n    this.eventType = null;\n    this.prevMoveTime = 0;\n    this.prevMovePoint = null;\n    this.lastMoveTime = 0;\n    this.lastMovePoint = null;\n  };\n  return Gesture;\n}(EE);\n\nexport default Gesture;\n", "import GGesture from '@antv/g-gesture';\nvar G_SHAPE_EVENT = {\n  click: true,\n  touchstart: true,\n  touchmove: true,\n  touchend: true,\n  touchendoutside: true,\n  dragenter: true,\n  dragleave: true,\n  dragover: true,\n  drop: true,\n  dragstart: true,\n  drag: true,\n  dragend: true\n};\nvar GESTURE_EVENT = {\n  panstart: true,\n  pan: true,\n  panend: true,\n  pressstart: true,\n  press: true,\n  pressend: true,\n  swipe: true,\n  pinchstart: true,\n  pinch: true,\n  pinchend: true\n};\nvar Gesture = /** @class */function () {\n  function Gesture(element) {\n    this.el = element;\n    this.gesture = new GGesture(element);\n  }\n  Gesture.prototype.on = function (eventName, listener) {\n    var _a = this,\n      el = _a.el,\n      gesture = _a.gesture;\n    if (G_SHAPE_EVENT[eventName]) {\n      el.addEventListener(eventName, listener);\n      return;\n    }\n    if (GESTURE_EVENT[eventName]) {\n      gesture.on(eventName, listener);\n    }\n  };\n  Gesture.prototype.off = function (eventName, listener) {\n    var _a = this,\n      el = _a.el,\n      gesture = _a.gesture;\n    if (G_SHAPE_EVENT[eventName]) {\n      el.removeEventListener(eventName, listener);\n      return;\n    }\n    if (GESTURE_EVENT[eventName]) {\n      gesture.off(eventName, listener);\n    }\n  };\n  return Gesture;\n}();\nexport default Gesture;", "var SHAPE_TAG = {};\n/**\n * 注册新的标签\n */\nvar registerTag = function registerTag(name, ShapeConstructor) {\n  SHAPE_TAG[name] = ShapeConstructor;\n};\nvar getTag = function getTag(type) {\n  return SHAPE_TAG[type];\n};\nexport { registerTag, getTag };", "import { Text, Circle, Ellipse, Rect, Path, Image, Line, Polygon, CSS, PropertySyntax } from '@antv/g-lite';\nimport { Arc, Marker, Sector, SmoothPolyline } from '../../shape';\nimport Gesture from '../../gesture';\nimport { getTag, registerTag } from '../../jsx/tag';\nvar EVENT_LIST = [['click', 'onClick'], ['touchstart', 'onTouchStart'], ['touchmove', 'onTouchMove'], ['touchend', 'onTouchEnd'], ['touchendoutside', 'onTouchEndOutside'],\n// drage 相关\n['dragenter', 'onDragEnter'], ['dragleave', 'onDragLeave'], ['dragover', 'onDragOver'], ['drop', 'onDrop'], ['dragstart', 'onDragStart'], ['drag', 'onDrag'], ['dragend', 'onDragEnd'],\n// pan\n['panstart', 'onPanStart'], ['pan', 'onPan'], ['panend', 'onPanEnd'],\n// press\n['pressstart', 'onPressStart'], ['press', 'onPress'], ['pressend', 'onPressEnd'],\n// swipe\n['swipe', 'onSwipe'],\n// pinch\n['pinchstart', 'onPinchStart'], ['pinch', 'onPinch'], ['pinchend', 'onPinchEnd']];\n// 默认标签\nvar TagElements = [['group', Rect], ['text', Text], ['circle', Circle], ['path', Path], ['ellipse', Ellipse], ['rect', Rect], ['image', Image], ['line', Line], ['polyline', SmoothPolyline], ['polygon', Polygon], ['arc', Arc], ['marker', Marker], ['sector', Sector]];\nTagElements.map(function (_a) {\n  var type = _a[0],\n    ShapeClass = _a[1];\n  registerTag(type, ShapeClass);\n});\n// 注册 css 属性，不能注册已有属性，比如 r width等\nvar SECTOR_CSS_PROPERTY = [{\n  name: 'r0',\n  inherits: false,\n  interpolable: true,\n  syntax: PropertySyntax.LENGTH_PERCENTAGE\n}, {\n  name: 'startAngle',\n  inherits: false,\n  interpolable: true,\n  syntax: PropertySyntax.ANGLE\n}, {\n  name: 'endAngle',\n  inherits: false,\n  interpolable: true,\n  syntax: PropertySyntax.ANGLE\n}];\nSECTOR_CSS_PROPERTY.forEach(function (property) {\n  CSS.registerProperty(property);\n});\nfunction createShape(type, props) {\n  if (!type) return null;\n  var ShapeClass = getTag(type);\n  if (!ShapeClass) return null;\n  // const result = checkCSSRule(type, originStyle);\n  var shape = new ShapeClass(props);\n  addEvent(shape, props);\n  return shape;\n}\nfunction addEvent(shape, props) {\n  var gesture = new Gesture(shape);\n  EVENT_LIST.forEach(function (_a) {\n    var eventName = _a[0],\n      handlerName = _a[1];\n    if (!props[handlerName]) return;\n    gesture.on(eventName, props[handlerName]);\n  });\n}\nexport { createShape, addEvent };", "import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport { isArray, isFunction, isPlainObject } from '@antv/util';\nfunction objToString(obj) {\n  return Object.prototype.toString.call(obj);\n}\nfunction objectKeys(obj) {\n  return Object.keys(obj);\n}\nfunction equal(a, b) {\n  if (a === b) return true;\n  if (_typeof(a) !== _typeof(b)) {\n    return false;\n  }\n  // null 和 undefined\n  if (a == null || b == null) {\n    return false;\n  }\n  // 特殊处理NaN\n  if (Number.isNaN(a) && Number.isNaN(b)) {\n    return true;\n  }\n  if (objToString(a) !== objToString(b)) {\n    return false;\n  }\n  // 如果是function， 则认为是相对\n  if (isFunction(a)) {\n    return true;\n  }\n  // 值类型，Number String Boolean\n  if (_typeof(a) !== 'object') {\n    return false;\n  }\n  if (isArray(a)) {\n    if (a.length !== b.length) {\n      return false;\n    }\n    for (var i = a.length - 1; i >= 0; i--) {\n      if (!equal(a[i], b[i])) {\n        return false;\n      }\n    }\n    return true;\n  }\n  if (!isPlainObject(a)) {\n    return false;\n  }\n  var ka = objectKeys(a);\n  var kb = objectKeys(b);\n  // having the same number of owned properties (keys incorporates hasOwnProperty)\n  if (ka.length !== kb.length) {\n    return false;\n  }\n  // the same set of keys (although not necessarily the same order),\n  ka.sort();\n  kb.sort();\n  // ~~~cheap key test\n  for (var i = ka.length - 1; i >= 0; i--) {\n    if (ka[i] != kb[i]) {\n      return false;\n    }\n  }\n  // equivalent values for every corresponding key, and ~~~possibly expensive deep test\n  for (var i = ka.length - 1; i >= 0; i--) {\n    var key = ka[i];\n    if (!equal(a[key], b[key])) {\n      return false;\n    }\n  }\n  return true;\n}\nexport default equal;", "import { isString } from '@antv/util';\nexport var FunctionComponent = 0;\nexport var ClassComponent = 1;\nexport var Shape = 2;\nexport function getWorkTag(type) {\n  if (isString(type)) {\n    return Shape;\n  }\n  if (type.prototype && type.prototype.isF2Component) {\n    return ClassComponent;\n  }\n  return FunctionComponent;\n}", "import Children from '../../children';\nimport { Shape } from '../workTags';\n// 查找 transform 最近的 shape 元素\nfunction findClosestShapeNode(vNode) {\n  var tag = vNode.tag,\n    children = vNode.children;\n  if (tag === Shape) {\n    return vNode;\n  }\n  var shapeNode;\n  Children.map(children, function (child) {\n    if (shapeNode) return;\n    shapeNode = findClosestShapeNode(child);\n  });\n  return shapeNode;\n}\nexport default findClosestShapeNode;", "import { __assign, __extends } from \"tslib\";\nimport { omit, pick, isFunction } from '@antv/util';\nimport EE from 'eventemitter3';\nimport { createShape } from './createShape';\nimport applyStyle from './applyStyle';\nvar Animator = /** @class */function (_super) {\n  __extends(Animator, _super);\n  function Animator() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  Animator.prototype.animate = function (shape, start, end, effect) {\n    this.shape = shape;\n    this.start = start;\n    this.end = end;\n    this.effect = effect;\n  };\n  // 首次播放\n  Animator.prototype.loadPlay = function () {\n    var _a = this,\n      shape = _a.shape,\n      start = _a.start,\n      end = _a.end,\n      effect = _a.effect,\n      children = _a.children;\n    var animations = [];\n    if (effect) {\n      var _b = effect.property,\n        property = _b === void 0 ? [] : _b,\n        easing = effect.easing,\n        duration = effect.duration,\n        delay = effect.delay,\n        iterations = effect.iterations,\n        clip = effect.clip,\n        _c = effect.onFrame,\n        onFrame = _c === void 0 ? function () {} : _c,\n        _d = effect.onEnd,\n        onEnd = _d === void 0 ? function () {} : _d;\n      // shape 动画\n      if (property.length && duration > 0) {\n        // 应用样式\n        var style = __assign(__assign({}, omit(end, property)), omit(start, property));\n        applyStyle(shape, style);\n        // 开始帧\n        var keyframeStart = property.reduce(function (prev, cur) {\n          prev[cur] = start[cur];\n          return prev;\n        }, {});\n        // 结束帧\n        var keyframeEnd = pick(end, property);\n        var animation = shape.animate([keyframeStart, keyframeEnd], {\n          fill: 'both',\n          easing: easing,\n          duration: duration,\n          delay: delay,\n          iterations: iterations\n        });\n        if (animation) {\n          animation.onframe = onFrame;\n          animation.onfinish = onEnd;\n          // 过滤无限循环的动画\n          if (iterations !== Infinity) {\n            animations.push(animation);\n          }\n          this.animation = animation;\n        } else {\n          // 如果没有执行动画，直接应用结束样式\n          applyStyle(shape, end);\n        }\n      } else {\n        // 直接应用结束样式\n        applyStyle(shape, end);\n      }\n      // clip 动画\n      if (clip) {\n        var clipConfig = isFunction(clip) ? clip(end) : clip;\n        if (clipConfig) {\n          var clipType = clipConfig.type,\n            clipStyle = clipConfig.style,\n            _e = clipConfig.property,\n            clipProperty = _e === void 0 ? [] : _e,\n            clipEasing = clipConfig.easing,\n            clipDuration = clipConfig.duration,\n            clipDelay = clipConfig.delay,\n            clipIterations = clipConfig.iterations,\n            clipStart = clipConfig.start,\n            clipEnd = clipConfig.end;\n          if (clipProperty.length && (clipDuration || duration) > 0) {\n            var clipStartStyle_1 = __assign(__assign({}, clipStyle), clipStart);\n            var clipEndStyle = __assign(__assign({}, clipStyle), clipEnd);\n            // 开始帧\n            var clipKeyframeStart = clipProperty.reduce(function (prev, cur) {\n              prev[cur] = clipStartStyle_1[cur];\n              return prev;\n            }, {});\n            // 结束帧\n            var clipKeyframeEnd = pick(clipEndStyle, clipProperty);\n            var clipShape_1 = createShape(clipType, {\n              style: clipStartStyle_1\n            });\n            shape.setAttribute('clipPath', clipShape_1);\n            // g 中 clip 为全局，且如果要在 clip上加动画，需要手动加到canvas上\n            shape.ownerDocument.documentElement.appendChild(clipShape_1);\n            var clipAnimation = clipShape_1.animate([clipKeyframeStart, clipKeyframeEnd], {\n              fill: 'both',\n              easing: clipEasing || easing,\n              duration: clipDuration || duration,\n              delay: clipDelay || delay,\n              iterations: clipIterations || iterations\n            });\n            // 过滤无限循环的动画\n            if (clipAnimation) {\n              var clipFinished = clipAnimation.finished;\n              this.animation = clipAnimation;\n              clipFinished.then(function () {\n                // 删掉 clip\n                shape.setAttribute('clipPath', null);\n                clipShape_1.destroy();\n              });\n              if ((clipIterations || iterations) !== Infinity) {\n                animations.push(clipAnimation);\n              }\n            } else {\n              // 没有动画，直接删掉 clip\n              shape.setAttribute('clipPath', null);\n              clipShape_1.destroy();\n            }\n          }\n        }\n      }\n    }\n    if (children && children.length) {\n      children.forEach(function (child) {\n        if (!child) return;\n        var childAnimator = child.loadPlay();\n        if (childAnimator) {\n          animations.push.apply(animations, childAnimator);\n        }\n      });\n    }\n    this.endEmit(animations);\n    return animations;\n  };\n  Animator.prototype.pause = function () {\n    var _a = this,\n      children = _a.children,\n      animation = _a.animation;\n    if (animation) {\n      animation.pause();\n    }\n    if (children && children.length) {\n      children.forEach(function (child) {\n        if (!child) return;\n        child.pause();\n      });\n    }\n  };\n  Animator.prototype.endEmit = function (animations) {\n    var _this = this;\n    if (!animations.length) {\n      this.emit('end');\n      return null;\n    }\n    var finished = Promise.all(animations.map(function (d) {\n      return d.finished;\n    }));\n    finished.then(function () {\n      _this.emit('end');\n    });\n  };\n  Animator.prototype.play = function () {\n    var _a = this,\n      children = _a.children,\n      animation = _a.animation;\n    if (animation) {\n      animation.play();\n    }\n    if (children && children.length) {\n      children.forEach(function (child) {\n        if (!child) return;\n        child.play();\n      });\n    }\n  };\n  Animator.prototype.reset = function (shape) {\n    this.shape = shape;\n    this.start = null;\n    this.end = null;\n    this.effect = null;\n    this.children = null;\n  };\n  return Animator;\n}(EE);\nexport default Animator;", "import { isDisplayObject } from '@antv/g-lite';\nimport { isFunction } from '@antv/util';\nimport { createShape } from './createShape';\nfunction applyStyle(shape, style) {\n  if (!style) return;\n  Object.keys(style).forEach(function (key) {\n    // 特殊处理 clip 和 offset\n    if (key === 'clip' || key === 'offset') {\n      var effect = style[key];\n      // value 为 ref\n      if (isDisplayObject(effect === null || effect === void 0 ? void 0 : effect.current)) {\n        shape.setAttribute(\"\".concat(key, \"Path\"), effect.current);\n        return;\n      }\n      var effectConfig = isFunction(effect) ? effect(style) : effect;\n      if (effectConfig) {\n        var type = effectConfig.type,\n          style_1 = effectConfig.style;\n        var effectShape = createShape(type, {\n          style: style_1\n        });\n        shape.setAttribute(\"\".concat(key, \"Path\"), effectShape);\n      }\n    } else {\n      shape.setAttribute(key, style[key]);\n    }\n  });\n}\nexport default applyStyle;", "import { __assign } from \"tslib\";\nimport Children from '../../children';\nimport { convertToPath } from '@antv/g-lite';\nimport { createShape } from './createShape';\nimport { Shape } from '../workTags';\nimport findClosestShapeNode from './findClosestShapeNode';\nimport Animator from './animator';\nimport applyStyle from './applyStyle';\nfunction findAllShapeNode(vNode) {\n  var shapeNodes = [];\n  Children.map(vNode, function (node) {\n    if (!node) return;\n    var tag = node.tag,\n      type = node.type,\n      children = node.children;\n    if (tag === Shape && type !== 'group') {\n      shapeNodes.push(node);\n    }\n    if (children) {\n      shapeNodes.push.apply(shapeNodes, findAllShapeNode(children));\n    }\n  });\n  return shapeNodes;\n}\nfunction morphShape(lastNode, nextNode, animator) {\n  var nextProps = nextNode.props,\n    nextShape = nextNode.shape,\n    nextStyle = nextNode.style;\n  var lastShape = lastNode.shape,\n    lastStyle = lastNode.style;\n  // 形变动画之前先把原 shape 销毁\n  lastShape.destroy();\n  var animate = nextProps.animate,\n    animation = nextProps.animation;\n  var animationEffect = animation ? animation.update : null;\n  if (animate === false || !animationEffect) {\n    return animator;\n  }\n  animator = animator || new Animator();\n  // shape 形变\n  var start = animationEffect.start,\n    end = animationEffect.end,\n    _a = animationEffect.property,\n    property = _a === void 0 ? [] : _a;\n  var nextParsedStyle = nextShape.parsedStyle;\n  var lastParsedStyle = lastShape.parsedStyle;\n  var lastPath = convertToPath(lastShape);\n  var nextPath = convertToPath(nextShape);\n  var startStyle = __assign(__assign(__assign({}, lastStyle), start), {\n    path: lastPath\n  });\n  var endStyle = __assign(__assign(__assign({}, nextStyle), end), {\n    path: nextPath\n  });\n  var pathShape = createShape('path', {\n    style: __assign(__assign({}, startStyle), {\n      path: ''\n    })\n  });\n  // 形变双方都有的属性才能动画\n  var animateProperty = property.filter(function (key) {\n    return nextParsedStyle.hasOwnProperty(key) && lastParsedStyle.hasOwnProperty(key);\n  }).concat('path');\n  animator.animate(pathShape, startStyle, endStyle, __assign(__assign({}, animationEffect), {\n    property: animateProperty\n  }));\n  animator.once('end', function () {\n    applyStyle(nextShape, endStyle);\n    pathShape.replaceWith(nextShape);\n  });\n  return animator;\n}\nfunction appearAnimation(vNode) {\n  return Children.map(vNode, function (node) {\n    if (!node) return;\n    var tag = node.tag,\n      shape = node.shape,\n      style = node.style,\n      children = node.children,\n      animate = node.animate,\n      props = node.props,\n      animator = node.animator;\n    animator.reset(shape);\n    // 有叶子节点，先执行叶子节点\n    animator.children = children ? createAnimation(node, children, null) : null;\n    // 不需要执行动画\n    if (animate === false || tag !== Shape) {\n      applyStyle(shape, style);\n      return animator;\n    }\n    var animation = props.animation;\n    var animationEffect = animation ? animation.appear : null;\n    if (!animationEffect) {\n      // 没有动画直接应用样式\n      applyStyle(shape, style);\n      return animator;\n    }\n    var _a = animationEffect.start,\n      start = _a === void 0 ? {} : _a,\n      end = animationEffect.end;\n    var endStyle = __assign(__assign({}, style), end);\n    animator.animate(shape, start, endStyle, animationEffect);\n    return animator;\n  });\n}\nfunction updateAnimation(nextNode, lastNode) {\n  var nextTag = nextNode.tag,\n    nextType = nextNode.type,\n    nextStyle = nextNode.style,\n    nextChildren = nextNode.children,\n    nextProps = nextNode.props,\n    nextShape = nextNode.shape,\n    animator = nextNode.animator,\n    animate = nextNode.animate;\n  var lastTag = lastNode.tag,\n    lastType = lastNode.type,\n    lastStyle = lastNode.style,\n    lastChildren = lastNode.children,\n    lastShape = lastNode.shape;\n  animator.reset(nextShape);\n  // 先处理叶子节点\n  animator.children = createAnimation(nextNode, nextChildren, lastChildren);\n  var animation = nextProps.animation;\n  var animationEffect = animation ? animation.update : null;\n  // 类型相同\n  if (nextType === lastType) {\n    // 清除之前的样式\n    var resetStyle = lastStyle ? Object.keys(lastStyle).reduce(function (prev, cur) {\n      prev[cur] = '';\n      return prev;\n    }, {}) : null;\n    // 需要更新的样式\n    var style = __assign(__assign({}, resetStyle), nextStyle);\n    // 组件，直接更新\n    if (nextTag !== Shape) {\n      applyStyle(nextShape, style);\n      return animator;\n    }\n    // 没有动画直接应用样式\n    if (animate === false || !animationEffect) {\n      applyStyle(nextShape, style);\n      return animator;\n    }\n    var start = animationEffect.start,\n      end = animationEffect.end;\n    var startStyle = __assign(__assign({}, lastStyle), start);\n    var endStyle = __assign(__assign({}, style), end);\n    animator.animate(nextShape, startStyle, endStyle, animationEffect);\n    return animator;\n  }\n  // 无法处理形变\n  if (nextTag !== Shape || lastTag !== Shape) {\n    lastShape.destroy();\n    return animator;\n  }\n  // 从 shape 到 group\n  if (nextType === 'group') {\n    var shapeNodes = findAllShapeNode(nextNode.children);\n    return shapeNodes.map(function (node) {\n      return morphShape(lastNode, node);\n    });\n  }\n  // 从 group 到 shape\n  if (lastType === 'group') {\n    var shapeNodes = findAllShapeNode(lastNode.children);\n    return shapeNodes.map(function (node) {\n      return morphShape(node, nextNode);\n    });\n  }\n  // 没有动画直接应用样式\n  if (animate === false || !animationEffect) {\n    applyStyle(nextShape, nextStyle);\n    return animator;\n  }\n  return morphShape(lastNode, nextNode, animator);\n}\nfunction destroyAnimation(node) {\n  return Children.map(node, function (vNode) {\n    if (!vNode) return null;\n    var tag = vNode.tag,\n      shape = vNode.shape,\n      children = vNode.children,\n      animate = vNode.animate,\n      style = vNode.style,\n      props = vNode.props,\n      animator = vNode.animator;\n    if (shape.destroyed) {\n      return null;\n    }\n    // 重置\n    animator.reset(shape);\n    // 先处理叶子节点\n    var childrenAnimation = children ? Children.toArray(children).map(function (child) {\n      return destroyAnimation(child);\n    }).filter(Boolean) : null;\n    // 不需要动画直接删除\n    if (animate === false) {\n      shape.destroy();\n      return animator;\n    }\n    var animation = props.animation;\n    var animationEffect = animation ? animation.leave : null;\n    // 没有叶子节点的动画， 直接删除\n    if (!(childrenAnimation && childrenAnimation.length) && !animationEffect) {\n      shape.destroy();\n      return animator;\n    }\n    animator.children = childrenAnimation;\n    // 图形有动画\n    if (animationEffect && tag === Shape) {\n      var start = animationEffect.start,\n        _a = animationEffect.end,\n        end = _a === void 0 ? {} : _a;\n      var startStyle = __assign(__assign({}, style), start);\n      var endStyle = end;\n      animator.animate(shape, startStyle, endStyle, animationEffect);\n    }\n    // 动画结束后，删除图形（包括子元素动画）\n    animator.once('end', function () {\n      shape.destroy();\n    });\n    return animator;\n  });\n}\nfunction createAnimator(nextNode, lastNode) {\n  if (!nextNode && !lastNode) {\n    return null;\n  }\n  // delete 动画\n  if (!nextNode && lastNode) {\n    return destroyAnimation(lastNode);\n  }\n  // 如果有 transform 则从 transform 比\n  var transform = nextNode.transform;\n  if (transform) {\n    var closestShapeNode = findClosestShapeNode(nextNode);\n    nextNode.transform = null;\n    closestShapeNode.transform = transform;\n  }\n  if (nextNode.transform) {\n    if (!lastNode) {\n      return updateAnimation(nextNode, nextNode.transform);\n    }\n    return [updateAnimation(nextNode, nextNode.transform), destroyAnimation(lastNode)];\n  }\n  // appear 动画\n  if (nextNode && !lastNode) {\n    return appearAnimation(nextNode);\n  }\n  // update 动画\n  return updateAnimation(nextNode, lastNode);\n}\nfunction insertShape(parent, shape, nextSibling) {\n  if (nextSibling) {\n    parent.insertBefore(shape, nextSibling);\n  } else {\n    parent.appendChild(shape);\n  }\n}\nfunction createAnimation(parent, nextChildren, lastChildren) {\n  if (!nextChildren && !lastChildren) {\n    return;\n  }\n  var parentShape = parent.shape;\n  // 上一个处理的元素\n  var prevSibling;\n  var childrenAnimator = [];\n  Children.compare(nextChildren, lastChildren, function (nextNode, lastNode) {\n    // shape 层才执行动画\n    var animator = createAnimator(nextNode, lastNode);\n    Children.map(animator, function (item) {\n      if (!item) return;\n      childrenAnimator.push(item);\n      var shape = item.shape;\n      if (!shape || shape.destroyed) return;\n      var nextSibling;\n      // 更新文档流\n      if (!prevSibling) {\n        nextSibling = parentShape.firstChild;\n      } else {\n        nextSibling = prevSibling.nextSibling;\n      }\n      if (nextSibling !== shape) {\n        insertShape(parentShape, shape, nextSibling);\n      }\n      prevSibling = shape;\n    });\n  });\n  return childrenAnimator;\n}\nexport { createAnimation };", "export default (function (layout) {\n  var left = layout.left,\n    top = layout.top,\n    width = layout.width,\n    height = layout.height;\n  return {\n    x: left,\n    y: top,\n    width: width,\n    height: height\n  };\n});", "export default (function (layout) {\n  var left = layout.left,\n    top = layout.top,\n    width = layout.width,\n    height = layout.height;\n  return {\n    x1: left,\n    y1: top,\n    x2: left + width,\n    y2: top + height\n  };\n});", "export default (function (layout) {\n  var height = layout.height,\n    left = layout.left,\n    top = layout.top;\n  return {\n    x: left,\n    y: top + height / 2,\n    // 通过middle + top 才能比较好的实现文本对齐\n    textBaseline: 'middle'\n  };\n});", "export default (function (layout) {\n  var left = layout.left,\n    top = layout.top,\n    width = layout.width;\n  var r = width / 2;\n  return {\n    cx: left + r,\n    cy: top + r,\n    r: r\n  };\n});", "export default (function (layout) {\n  var left = layout.left,\n    top = layout.top,\n    width = layout.width;\n  var r = width / 2;\n  return {\n    x: left + r,\n    y: top,\n    radius: r\n  };\n});", "import rect from './rect';\nimport line from './line';\nimport text from './text';\nimport circle from './circle';\nimport marker from './marker';\nvar map = {\n  rect: rect,\n  line: line,\n  text: text,\n  circle: circle,\n  marker: marker,\n  group: rect\n};\nexport default (function (type, layout) {\n  if (!layout) return null;\n  var fn = map[type] || rect;\n  return fn(layout);\n});", "/* eslint-disable */\n// @ts-nocheck\n// from css-layout\nvar CSS_UNDEFINED;\nvar CSS_DIRECTION_INHERIT = 'inherit';\nvar CSS_DIRECTION_LTR = 'ltr';\nvar CSS_DIRECTION_RTL = 'rtl';\nvar CSS_FLEX_DIRECTION_ROW = 'row';\nvar CSS_FLEX_DIRECTION_ROW_REVERSE = 'row-reverse';\nvar CSS_FLEX_DIRECTION_COLUMN = 'column';\nvar CSS_FLEX_DIRECTION_COLUMN_REVERSE = 'column-reverse';\nvar CSS_JUSTIFY_FLEX_START = 'flex-start';\nvar CSS_JUSTIFY_CENTER = 'center';\nvar CSS_JUSTIFY_FLEX_END = 'flex-end';\nvar CSS_JUSTIFY_SPACE_BETWEEN = 'space-between';\nvar CSS_JUSTIFY_SPACE_AROUND = 'space-around';\nvar CSS_ALIGN_FLEX_START = 'flex-start';\nvar CSS_ALIGN_CENTER = 'center';\nvar CSS_ALIGN_FLEX_END = 'flex-end';\nvar CSS_ALIGN_STRETCH = 'stretch';\nvar CSS_POSITION_RELATIVE = 'relative';\nvar CSS_POSITION_ABSOLUTE = 'absolute';\nvar leading = {\n  row: 'left',\n  'row-reverse': 'right',\n  column: 'top',\n  'column-reverse': 'bottom'\n};\nvar trailing = {\n  row: 'right',\n  'row-reverse': 'left',\n  column: 'bottom',\n  'column-reverse': 'top'\n};\nvar pos = {\n  row: 'left',\n  'row-reverse': 'right',\n  column: 'top',\n  'column-reverse': 'bottom'\n};\nvar dim = {\n  row: 'width',\n  'row-reverse': 'width',\n  column: 'height',\n  'column-reverse': 'height'\n};\n// When transpiled to Java / C the node type has layout, children and style\n// properties. For the JavaScript version this function adds these properties\n// if they don't already exist.\nfunction fillNodes(node) {\n  if (!node.layout || node.isDirty) {\n    node.layout = {\n      width: undefined,\n      height: undefined,\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0\n    };\n  }\n  if (!node.style) {\n    node.style = {};\n  }\n  if (!node.children) {\n    node.children = [];\n  }\n  node.children.forEach(fillNodes);\n  return node;\n}\nfunction isUndefined(value) {\n  return value === undefined;\n}\nfunction isRowDirection(flexDirection) {\n  return flexDirection === CSS_FLEX_DIRECTION_ROW || flexDirection === CSS_FLEX_DIRECTION_ROW_REVERSE;\n}\nfunction isColumnDirection(flexDirection) {\n  return flexDirection === CSS_FLEX_DIRECTION_COLUMN || flexDirection === CSS_FLEX_DIRECTION_COLUMN_REVERSE;\n}\nfunction getLeadingMargin(node, axis) {\n  if (node.style.marginStart !== undefined && isRowDirection(axis)) {\n    return node.style.marginStart;\n  }\n  var value = null;\n  switch (axis) {\n    case 'row':\n      value = node.style.marginLeft;\n      break;\n    case 'row-reverse':\n      value = node.style.marginRight;\n      break;\n    case 'column':\n      value = node.style.marginTop;\n      break;\n    case 'column-reverse':\n      value = node.style.marginBottom;\n      break;\n  }\n  if (value !== undefined) {\n    return value;\n  }\n  if (node.style.margin !== undefined) {\n    return node.style.margin;\n  }\n  return 0;\n}\nfunction getTrailingMargin(node, axis) {\n  if (node.style.marginEnd !== undefined && isRowDirection(axis)) {\n    return node.style.marginEnd;\n  }\n  var value = null;\n  switch (axis) {\n    case 'row':\n      value = node.style.marginRight;\n      break;\n    case 'row-reverse':\n      value = node.style.marginLeft;\n      break;\n    case 'column':\n      value = node.style.marginBottom;\n      break;\n    case 'column-reverse':\n      value = node.style.marginTop;\n      break;\n  }\n  if (value != null) {\n    return value;\n  }\n  if (node.style.margin !== undefined) {\n    return node.style.margin;\n  }\n  return 0;\n}\nfunction getLeadingPadding(node, axis) {\n  if (node.style.paddingStart !== undefined && node.style.paddingStart >= 0 && isRowDirection(axis)) {\n    return node.style.paddingStart;\n  }\n  var value = null;\n  switch (axis) {\n    case 'row':\n      value = node.style.paddingLeft;\n      break;\n    case 'row-reverse':\n      value = node.style.paddingRight;\n      break;\n    case 'column':\n      value = node.style.paddingTop;\n      break;\n    case 'column-reverse':\n      value = node.style.paddingBottom;\n      break;\n  }\n  if (value != null && value >= 0) {\n    return value;\n  }\n  if (node.style.padding !== undefined && node.style.padding >= 0) {\n    return node.style.padding;\n  }\n  return 0;\n}\nfunction getTrailingPadding(node, axis) {\n  if (node.style.paddingEnd !== undefined && node.style.paddingEnd >= 0 && isRowDirection(axis)) {\n    return node.style.paddingEnd;\n  }\n  var value = null;\n  switch (axis) {\n    case 'row':\n      value = node.style.paddingRight;\n      break;\n    case 'row-reverse':\n      value = node.style.paddingLeft;\n      break;\n    case 'column':\n      value = node.style.paddingBottom;\n      break;\n    case 'column-reverse':\n      value = node.style.paddingTop;\n      break;\n  }\n  if (value != null && value >= 0) {\n    return value;\n  }\n  if (node.style.padding !== undefined && node.style.padding >= 0) {\n    return node.style.padding;\n  }\n  return 0;\n}\nfunction getLeadingBorder(node, axis) {\n  if (node.style.borderStartWidth !== undefined && node.style.borderStartWidth >= 0 && isRowDirection(axis)) {\n    return node.style.borderStartWidth;\n  }\n  var value = null;\n  switch (axis) {\n    case 'row':\n      value = node.style.borderLeftWidth;\n      break;\n    case 'row-reverse':\n      value = node.style.borderRightWidth;\n      break;\n    case 'column':\n      value = node.style.borderTopWidth;\n      break;\n    case 'column-reverse':\n      value = node.style.borderBottomWidth;\n      break;\n  }\n  if (value != null && value >= 0) {\n    return value;\n  }\n  if (node.style.borderWidth !== undefined && node.style.borderWidth >= 0) {\n    return node.style.borderWidth;\n  }\n  return 0;\n}\nfunction getTrailingBorder(node, axis) {\n  if (node.style.borderEndWidth !== undefined && node.style.borderEndWidth >= 0 && isRowDirection(axis)) {\n    return node.style.borderEndWidth;\n  }\n  var value = null;\n  switch (axis) {\n    case 'row':\n      value = node.style.borderRightWidth;\n      break;\n    case 'row-reverse':\n      value = node.style.borderLeftWidth;\n      break;\n    case 'column':\n      value = node.style.borderBottomWidth;\n      break;\n    case 'column-reverse':\n      value = node.style.borderTopWidth;\n      break;\n  }\n  if (value != null && value >= 0) {\n    return value;\n  }\n  if (node.style.borderWidth !== undefined && node.style.borderWidth >= 0) {\n    return node.style.borderWidth;\n  }\n  return 0;\n}\nfunction getLeadingPaddingAndBorder(node, axis) {\n  return getLeadingPadding(node, axis) + getLeadingBorder(node, axis);\n}\nfunction getTrailingPaddingAndBorder(node, axis) {\n  return getTrailingPadding(node, axis) + getTrailingBorder(node, axis);\n}\nfunction getBorderAxis(node, axis) {\n  return getLeadingBorder(node, axis) + getTrailingBorder(node, axis);\n}\nfunction getMarginAxis(node, axis) {\n  return getLeadingMargin(node, axis) + getTrailingMargin(node, axis);\n}\nfunction getPaddingAndBorderAxis(node, axis) {\n  return getLeadingPaddingAndBorder(node, axis) + getTrailingPaddingAndBorder(node, axis);\n}\nfunction getJustifyContent(node) {\n  if (node.style.justifyContent) {\n    return node.style.justifyContent;\n  }\n  return 'flex-start';\n}\nfunction getAlignContent(node) {\n  if (node.style.alignContent) {\n    return node.style.alignContent;\n  }\n  return 'flex-start';\n}\nfunction getAlignItem(node, child) {\n  if (child.style.alignSelf) {\n    return child.style.alignSelf;\n  }\n  if (node.style.alignItems) {\n    return node.style.alignItems;\n  }\n  return 'stretch';\n}\nfunction resolveAxis(axis, direction) {\n  if (direction === CSS_DIRECTION_RTL) {\n    if (axis === CSS_FLEX_DIRECTION_ROW) {\n      return CSS_FLEX_DIRECTION_ROW_REVERSE;\n    } else if (axis === CSS_FLEX_DIRECTION_ROW_REVERSE) {\n      return CSS_FLEX_DIRECTION_ROW;\n    }\n  }\n  return axis;\n}\nfunction resolveDirection(node, parentDirection) {\n  var direction;\n  if (node.style.direction) {\n    direction = node.style.direction;\n  } else {\n    direction = CSS_DIRECTION_INHERIT;\n  }\n  if (direction === CSS_DIRECTION_INHERIT) {\n    direction = parentDirection === undefined ? CSS_DIRECTION_LTR : parentDirection;\n  }\n  return direction;\n}\nfunction getFlexDirection(node) {\n  if (node.style.flexDirection) {\n    return node.style.flexDirection;\n  }\n  return CSS_FLEX_DIRECTION_COLUMN;\n}\nfunction getCrossFlexDirection(flexDirection, direction) {\n  if (isColumnDirection(flexDirection)) {\n    return resolveAxis(CSS_FLEX_DIRECTION_ROW, direction);\n  } else {\n    return CSS_FLEX_DIRECTION_COLUMN;\n  }\n}\nfunction getPositionType(node) {\n  if (node.style.position) {\n    return node.style.position;\n  }\n  return 'relative';\n}\nfunction isFlex(node) {\n  return getPositionType(node) === CSS_POSITION_RELATIVE && node.style.flex > 0;\n}\nfunction isFlexWrap(node) {\n  return node.style.flexWrap === 'wrap';\n}\nfunction getDimWithMargin(node, axis) {\n  return node.layout[dim[axis]] + getMarginAxis(node, axis);\n}\nfunction isDimDefined(node, axis) {\n  return node.style[dim[axis]] !== undefined && node.style[dim[axis]] >= 0;\n}\nfunction isPosDefined(node, pos) {\n  return node.style[pos] !== undefined;\n}\nfunction isMeasureDefined(node) {\n  return node.style.measure !== undefined;\n}\nfunction getPosition(node, pos) {\n  if (node.style[pos] !== undefined) {\n    return node.style[pos];\n  }\n  return 0;\n}\nfunction boundAxis(node, axis, value) {\n  var min = {\n    row: node.style.minWidth,\n    'row-reverse': node.style.minWidth,\n    column: node.style.minHeight,\n    'column-reverse': node.style.minHeight\n  }[axis];\n  var max = {\n    row: node.style.maxWidth,\n    'row-reverse': node.style.maxWidth,\n    column: node.style.maxHeight,\n    'column-reverse': node.style.maxHeight\n  }[axis];\n  var boundValue = value;\n  if (max !== undefined && max >= 0 && boundValue > max) {\n    boundValue = max;\n  }\n  if (min !== undefined && min >= 0 && boundValue < min) {\n    boundValue = min;\n  }\n  return boundValue;\n}\nfunction fmaxf(a, b) {\n  if (a > b) {\n    return a;\n  }\n  return b;\n}\n// When the user specifically sets a value for width or height\nfunction setDimensionFromStyle(node, axis) {\n  // The parent already computed us a width or height. We just skip it\n  if (node.layout[dim[axis]] !== undefined) {\n    return;\n  }\n  // We only run if there's a width or height defined\n  if (!isDimDefined(node, axis)) {\n    return;\n  }\n  // The dimensions can never be smaller than the padding and border\n  node.layout[dim[axis]] = fmaxf(boundAxis(node, axis, node.style[dim[axis]]), getPaddingAndBorderAxis(node, axis));\n}\nfunction setTrailingPosition(node, child, axis) {\n  child.layout[trailing[axis]] = node.layout[dim[axis]] - child.layout[dim[axis]] - child.layout[pos[axis]];\n}\n// If both left and right are defined, then use left. Otherwise return\n// +left or -right depending on which is defined.\nfunction getRelativePosition(node, axis) {\n  if (node.style[leading[axis]] !== undefined) {\n    return getPosition(node, leading[axis]);\n  }\n  return -getPosition(node, trailing[axis]);\n}\nfunction layoutNodeImpl(node, parentMaxWidth, /*css_direction_t*/parentDirection) {\n  var /*css_direction_t*/direction = resolveDirection(node, parentDirection);\n  var /*(c)!css_flex_direction_t*/ /*(java)!int*/mainAxis = resolveAxis(getFlexDirection(node), direction);\n  var /*(c)!css_flex_direction_t*/ /*(java)!int*/crossAxis = getCrossFlexDirection(mainAxis, direction);\n  var /*(c)!css_flex_direction_t*/ /*(java)!int*/resolvedRowAxis = resolveAxis(CSS_FLEX_DIRECTION_ROW, direction);\n  // Handle width and height style attributes\n  setDimensionFromStyle(node, mainAxis);\n  setDimensionFromStyle(node, crossAxis);\n  // Set the resolved resolution in the node's layout\n  node.layout.direction = direction;\n  // The position is set by the parent, but we need to complete it with a\n  // delta composed of the margin and left/top/right/bottom\n  node.layout[leading[mainAxis]] += getLeadingMargin(node, mainAxis) + getRelativePosition(node, mainAxis);\n  node.layout[trailing[mainAxis]] += getTrailingMargin(node, mainAxis) + getRelativePosition(node, mainAxis);\n  node.layout[leading[crossAxis]] += getLeadingMargin(node, crossAxis) + getRelativePosition(node, crossAxis);\n  node.layout[trailing[crossAxis]] += getTrailingMargin(node, crossAxis) + getRelativePosition(node, crossAxis);\n  // Inline immutable values from the target node to avoid excessive method\n  // invocations during the layout calculation.\n  var /*int*/childCount = node.children.length;\n  var /*float*/paddingAndBorderAxisResolvedRow = getPaddingAndBorderAxis(node, resolvedRowAxis);\n  if (isMeasureDefined(node)) {\n    var /*bool*/isResolvedRowDimDefined = !isUndefined(node.layout[dim[resolvedRowAxis]]);\n    var /*float*/width = CSS_UNDEFINED;\n    if (isDimDefined(node, resolvedRowAxis)) {\n      width = node.style.width;\n    } else if (isResolvedRowDimDefined) {\n      width = node.layout[dim[resolvedRowAxis]];\n    } else {\n      width = parentMaxWidth - getMarginAxis(node, resolvedRowAxis);\n    }\n    width -= paddingAndBorderAxisResolvedRow;\n    // We only need to give a dimension for the text if we haven't got any\n    // for it computed yet. It can either be from the style attribute or because\n    // the element is flexible.\n    var /*bool*/isRowUndefined = !isDimDefined(node, resolvedRowAxis) && !isResolvedRowDimDefined;\n    var /*bool*/isColumnUndefined = !isDimDefined(node, CSS_FLEX_DIRECTION_COLUMN) && isUndefined(node.layout[dim[CSS_FLEX_DIRECTION_COLUMN]]);\n    // Let's not measure the text if we already know both dimensions\n    if (isRowUndefined || isColumnUndefined) {\n      var /*css_dim_t*/measureDim = node.style.measure( /*(c)!node->context,*/\n      /*(java)!layoutContext.measureOutput,*/\n      width);\n      if (isRowUndefined) {\n        node.layout.width = measureDim.width + paddingAndBorderAxisResolvedRow;\n      }\n      if (isColumnUndefined) {\n        node.layout.height = measureDim.height + getPaddingAndBorderAxis(node, CSS_FLEX_DIRECTION_COLUMN);\n      }\n    }\n    if (childCount === 0) {\n      return;\n    }\n  }\n  var /*bool*/isNodeFlexWrap = isFlexWrap(node);\n  var /*css_justify_t*/justifyContent = getJustifyContent(node);\n  var /*float*/leadingPaddingAndBorderMain = getLeadingPaddingAndBorder(node, mainAxis);\n  var /*float*/leadingPaddingAndBorderCross = getLeadingPaddingAndBorder(node, crossAxis);\n  var /*float*/paddingAndBorderAxisMain = getPaddingAndBorderAxis(node, mainAxis);\n  var /*float*/paddingAndBorderAxisCross = getPaddingAndBorderAxis(node, crossAxis);\n  var /*bool*/isMainDimDefined = !isUndefined(node.layout[dim[mainAxis]]);\n  var /*bool*/isCrossDimDefined = !isUndefined(node.layout[dim[crossAxis]]);\n  var /*bool*/isMainRowDirection = isRowDirection(mainAxis);\n  var /*int*/i;\n  var /*int*/ii;\n  var /*css_node_t**/child;\n  var /*(c)!css_flex_direction_t*/ /*(java)!int*/axis;\n  var /*css_node_t**/firstAbsoluteChild = null;\n  var /*css_node_t**/currentAbsoluteChild = null;\n  var /*float*/definedMainDim = CSS_UNDEFINED;\n  if (isMainDimDefined) {\n    definedMainDim = node.layout[dim[mainAxis]] - paddingAndBorderAxisMain;\n  }\n  // We want to execute the next two loops one per line with flex-wrap\n  var /*int*/startLine = 0;\n  var /*int*/endLine = 0;\n  // var/*int*/ nextOffset = 0;\n  var /*int*/alreadyComputedNextLayout = 0;\n  // We aggregate the total dimensions of the container in those two variables\n  var /*float*/linesCrossDim = 0;\n  var /*float*/linesMainDim = 0;\n  var /*int*/linesCount = 0;\n  while (endLine < childCount) {\n    // <Loop A> Layout non flexible children and count children by type\n    // mainContentDim is accumulation of the dimensions and margin of all the\n    // non flexible children. This will be used in order to either set the\n    // dimensions of the node if none already exist, or to compute the\n    // remaining space left for the flexible children.\n    var /*float*/mainContentDim = 0;\n    // There are three kind of children, non flexible, flexible and absolute.\n    // We need to know how many there are in order to distribute the space.\n    var /*int*/flexibleChildrenCount = 0;\n    var /*float*/totalFlexible = 0;\n    var /*int*/nonFlexibleChildrenCount = 0;\n    // Use the line loop to position children in the main axis for as long\n    // as they are using a simple stacking behaviour. Children that are\n    // immediately stacked in the initial loop will not be touched again\n    // in <Loop C>.\n    var /*bool*/isSimpleStackMain = isMainDimDefined && justifyContent === CSS_JUSTIFY_FLEX_START || !isMainDimDefined && justifyContent !== CSS_JUSTIFY_CENTER;\n    var /*int*/firstComplexMain = isSimpleStackMain ? childCount : startLine;\n    // Use the initial line loop to position children in the cross axis for\n    // as long as they are relatively positioned with alignment STRETCH or\n    // FLEX_START. Children that are immediately stacked in the initial loop\n    // will not be touched again in <Loop D>.\n    var /*bool*/isSimpleStackCross = true;\n    var /*int*/firstComplexCross = childCount;\n    var /*css_node_t**/firstFlexChild = null;\n    var /*css_node_t**/currentFlexChild = null;\n    var /*float*/mainDim = leadingPaddingAndBorderMain;\n    var /*float*/crossDim = 0;\n    var /*float*/maxWidth;\n    for (i = startLine; i < childCount; ++i) {\n      child = node.children[i];\n      child.lineIndex = linesCount;\n      child.nextAbsoluteChild = null;\n      child.nextFlexChild = null;\n      var /*css_align_t*/alignItem = getAlignItem(node, child);\n      // Pre-fill cross axis dimensions when the child is using stretch before\n      // we call the recursive layout pass\n      if (alignItem === CSS_ALIGN_STRETCH && getPositionType(child) === CSS_POSITION_RELATIVE && isCrossDimDefined && !isDimDefined(child, crossAxis)) {\n        child.layout[dim[crossAxis]] = fmaxf(boundAxis(child, crossAxis, node.layout[dim[crossAxis]] - paddingAndBorderAxisCross - getMarginAxis(child, crossAxis)),\n        // You never want to go smaller than padding\n        getPaddingAndBorderAxis(child, crossAxis));\n      } else if (getPositionType(child) === CSS_POSITION_ABSOLUTE) {\n        // Store a private linked list of absolutely positioned children\n        // so that we can efficiently traverse them later.\n        if (firstAbsoluteChild === null) {\n          firstAbsoluteChild = child;\n        }\n        if (currentAbsoluteChild !== null) {\n          currentAbsoluteChild.nextAbsoluteChild = child;\n        }\n        currentAbsoluteChild = child;\n        // Pre-fill dimensions when using absolute position and both offsets for the axis are defined (either both\n        // left and right or top and bottom).\n        for (ii = 0; ii < 2; ii++) {\n          axis = ii !== 0 ? CSS_FLEX_DIRECTION_ROW : CSS_FLEX_DIRECTION_COLUMN;\n          if (!isUndefined(node.layout[dim[axis]]) && !isDimDefined(child, axis) && isPosDefined(child, leading[axis]) && isPosDefined(child, trailing[axis])) {\n            child.layout[dim[axis]] = fmaxf(boundAxis(child, axis, node.layout[dim[axis]] - getPaddingAndBorderAxis(node, axis) - getMarginAxis(child, axis) - getPosition(child, leading[axis]) - getPosition(child, trailing[axis])),\n            // You never want to go smaller than padding\n            getPaddingAndBorderAxis(child, axis));\n          }\n        }\n      }\n      var /*float*/nextContentDim = 0;\n      // It only makes sense to consider a child flexible if we have a computed\n      // dimension for the node.\n      if (isMainDimDefined && isFlex(child)) {\n        flexibleChildrenCount++;\n        totalFlexible += child.style.flex;\n        // Store a private linked list of flexible children so that we can\n        // efficiently traverse them later.\n        if (firstFlexChild === null) {\n          firstFlexChild = child;\n        }\n        if (currentFlexChild !== null) {\n          currentFlexChild.nextFlexChild = child;\n        }\n        currentFlexChild = child;\n        // Even if we don't know its exact size yet, we already know the padding,\n        // border and margin. We'll use this partial information, which represents\n        // the smallest possible size for the child, to compute the remaining\n        // available space.\n        nextContentDim = getPaddingAndBorderAxis(child, mainAxis) + getMarginAxis(child, mainAxis);\n      } else {\n        maxWidth = CSS_UNDEFINED;\n        if (!isMainRowDirection) {\n          if (isDimDefined(node, resolvedRowAxis)) {\n            maxWidth = node.layout[dim[resolvedRowAxis]] - paddingAndBorderAxisResolvedRow;\n          } else {\n            maxWidth = parentMaxWidth - getMarginAxis(node, resolvedRowAxis) - paddingAndBorderAxisResolvedRow;\n          }\n        }\n        // This is the main recursive call. We layout non flexible children.\n        if (alreadyComputedNextLayout === 0) {\n          layoutNode( /*(java)!layoutContext, */child, maxWidth, direction);\n        }\n        // Absolute positioned elements do not take part of the layout, so we\n        // don't use them to compute mainContentDim\n        if (getPositionType(child) === CSS_POSITION_RELATIVE) {\n          nonFlexibleChildrenCount++;\n          // At this point we know the final size and margin of the element.\n          nextContentDim = getDimWithMargin(child, mainAxis);\n        }\n      }\n      // The element we are about to add would make us go to the next line\n      if (isNodeFlexWrap && isMainDimDefined && mainContentDim + nextContentDim > definedMainDim &&\n      // If there's only one element, then it's bigger than the content\n      // and needs its own line\n      i !== startLine) {\n        nonFlexibleChildrenCount--;\n        alreadyComputedNextLayout = 1;\n        break;\n      }\n      // Disable simple stacking in the main axis for the current line as\n      // we found a non-trivial child. The remaining children will be laid out\n      // in <Loop C>.\n      if (isSimpleStackMain && (getPositionType(child) !== CSS_POSITION_RELATIVE || isFlex(child))) {\n        isSimpleStackMain = false;\n        firstComplexMain = i;\n      }\n      // Disable simple stacking in the cross axis for the current line as\n      // we found a non-trivial child. The remaining children will be laid out\n      // in <Loop D>.\n      if (isSimpleStackCross && (getPositionType(child) !== CSS_POSITION_RELATIVE || alignItem !== CSS_ALIGN_STRETCH && alignItem !== CSS_ALIGN_FLEX_START || isUndefined(child.layout[dim[crossAxis]]))) {\n        isSimpleStackCross = false;\n        firstComplexCross = i;\n      }\n      if (isSimpleStackMain) {\n        child.layout[pos[mainAxis]] += mainDim;\n        if (isMainDimDefined) {\n          setTrailingPosition(node, child, mainAxis);\n        }\n        mainDim += getDimWithMargin(child, mainAxis);\n        crossDim = fmaxf(crossDim, boundAxis(child, crossAxis, getDimWithMargin(child, crossAxis)));\n      }\n      if (isSimpleStackCross) {\n        child.layout[pos[crossAxis]] += linesCrossDim + leadingPaddingAndBorderCross;\n        if (isCrossDimDefined) {\n          setTrailingPosition(node, child, crossAxis);\n        }\n      }\n      alreadyComputedNextLayout = 0;\n      mainContentDim += nextContentDim;\n      endLine = i + 1;\n    }\n    // <Loop B> Layout flexible children and allocate empty space\n    // In order to position the elements in the main axis, we have two\n    // controls. The space between the beginning and the first element\n    // and the space between each two elements.\n    var /*float*/leadingMainDim = 0;\n    var /*float*/betweenMainDim = 0;\n    // The remaining available space that needs to be allocated\n    var /*float*/remainingMainDim = 0;\n    if (isMainDimDefined) {\n      remainingMainDim = definedMainDim - mainContentDim;\n    } else {\n      remainingMainDim = fmaxf(mainContentDim, 0) - mainContentDim;\n    }\n    // If there are flexible children in the mix, they are going to fill the\n    // remaining space\n    if (flexibleChildrenCount !== 0) {\n      var /*float*/flexibleMainDim = remainingMainDim / totalFlexible;\n      var /*float*/baseMainDim;\n      var /*float*/boundMainDim;\n      // If the flex share of remaining space doesn't meet min/max bounds,\n      // remove this child from flex calculations.\n      currentFlexChild = firstFlexChild;\n      while (currentFlexChild !== null) {\n        baseMainDim = flexibleMainDim * currentFlexChild.style.flex + getPaddingAndBorderAxis(currentFlexChild, mainAxis);\n        boundMainDim = boundAxis(currentFlexChild, mainAxis, baseMainDim);\n        if (baseMainDim !== boundMainDim) {\n          remainingMainDim -= boundMainDim;\n          totalFlexible -= currentFlexChild.style.flex;\n        }\n        currentFlexChild = currentFlexChild.nextFlexChild;\n      }\n      flexibleMainDim = remainingMainDim / totalFlexible;\n      // The non flexible children can overflow the container, in this case\n      // we should just assume that there is no space available.\n      if (flexibleMainDim < 0) {\n        flexibleMainDim = 0;\n      }\n      currentFlexChild = firstFlexChild;\n      while (currentFlexChild !== null) {\n        // At this point we know the final size of the element in the main\n        // dimension\n        currentFlexChild.layout[dim[mainAxis]] = boundAxis(currentFlexChild, mainAxis, flexibleMainDim * currentFlexChild.style.flex + getPaddingAndBorderAxis(currentFlexChild, mainAxis));\n        maxWidth = CSS_UNDEFINED;\n        if (isDimDefined(node, resolvedRowAxis)) {\n          maxWidth = node.layout[dim[resolvedRowAxis]] - paddingAndBorderAxisResolvedRow;\n        } else if (!isMainRowDirection) {\n          maxWidth = parentMaxWidth - getMarginAxis(node, resolvedRowAxis) - paddingAndBorderAxisResolvedRow;\n        }\n        // And we recursively call the layout algorithm for this child\n        layoutNode( /*(java)!layoutContext, */currentFlexChild, maxWidth, direction);\n        child = currentFlexChild;\n        currentFlexChild = currentFlexChild.nextFlexChild;\n        child.nextFlexChild = null;\n      }\n      // We use justifyContent to figure out how to allocate the remaining\n      // space available\n    } else if (justifyContent !== CSS_JUSTIFY_FLEX_START) {\n      if (justifyContent === CSS_JUSTIFY_CENTER) {\n        leadingMainDim = remainingMainDim / 2;\n      } else if (justifyContent === CSS_JUSTIFY_FLEX_END) {\n        leadingMainDim = remainingMainDim;\n      } else if (justifyContent === CSS_JUSTIFY_SPACE_BETWEEN) {\n        remainingMainDim = fmaxf(remainingMainDim, 0);\n        if (flexibleChildrenCount + nonFlexibleChildrenCount - 1 !== 0) {\n          betweenMainDim = remainingMainDim / (flexibleChildrenCount + nonFlexibleChildrenCount - 1);\n        } else {\n          betweenMainDim = 0;\n        }\n      } else if (justifyContent === CSS_JUSTIFY_SPACE_AROUND) {\n        // Space on the edges is half of the space between elements\n        betweenMainDim = remainingMainDim / (flexibleChildrenCount + nonFlexibleChildrenCount);\n        leadingMainDim = betweenMainDim / 2;\n      }\n    }\n    // <Loop C> Position elements in the main axis and compute dimensions\n    // At this point, all the children have their dimensions set. We need to\n    // find their position. In order to do that, we accumulate data in\n    // variables that are also useful to compute the total dimensions of the\n    // container!\n    mainDim += leadingMainDim;\n    for (i = firstComplexMain; i < endLine; ++i) {\n      child = node.children[i];\n      if (getPositionType(child) === CSS_POSITION_ABSOLUTE && isPosDefined(child, leading[mainAxis])) {\n        // In case the child is position absolute and has left/top being\n        // defined, we override the position to whatever the user said\n        // (and margin/border).\n        child.layout[pos[mainAxis]] = getPosition(child, leading[mainAxis]) + getLeadingBorder(node, mainAxis) + getLeadingMargin(child, mainAxis);\n      } else {\n        // If the child is position absolute (without top/left) or relative,\n        // we put it at the current accumulated offset.\n        child.layout[pos[mainAxis]] += mainDim;\n        // Define the trailing position accordingly.\n        if (isMainDimDefined) {\n          setTrailingPosition(node, child, mainAxis);\n        }\n        // Now that we placed the element, we need to update the variables\n        // We only need to do that for relative elements. Absolute elements\n        // do not take part in that phase.\n        if (getPositionType(child) === CSS_POSITION_RELATIVE) {\n          // The main dimension is the sum of all the elements dimension plus\n          // the spacing.\n          mainDim += betweenMainDim + getDimWithMargin(child, mainAxis);\n          // The cross dimension is the max of the elements dimension since there\n          // can only be one element in that cross dimension.\n          crossDim = fmaxf(crossDim, boundAxis(child, crossAxis, getDimWithMargin(child, crossAxis)));\n        }\n      }\n    }\n    var /*float*/containerCrossAxis = node.layout[dim[crossAxis]];\n    if (!isCrossDimDefined) {\n      containerCrossAxis = fmaxf(\n      // For the cross dim, we add both sides at the end because the value\n      // is aggregate via a max function. Intermediate negative values\n      // can mess this computation otherwise\n      boundAxis(node, crossAxis, crossDim + paddingAndBorderAxisCross), paddingAndBorderAxisCross);\n    }\n    // <Loop D> Position elements in the cross axis\n    for (i = firstComplexCross; i < endLine; ++i) {\n      child = node.children[i];\n      if (getPositionType(child) === CSS_POSITION_ABSOLUTE && isPosDefined(child, leading[crossAxis])) {\n        // In case the child is absolutely positionned and has a\n        // top/left/bottom/right being set, we override all the previously\n        // computed positions to set it correctly.\n        child.layout[pos[crossAxis]] = getPosition(child, leading[crossAxis]) + getLeadingBorder(node, crossAxis) + getLeadingMargin(child, crossAxis);\n      } else {\n        var /*float*/leadingCrossDim = leadingPaddingAndBorderCross;\n        // For a relative children, we're either using alignItems (parent) or\n        // alignSelf (child) in order to determine the position in the cross axis\n        if (getPositionType(child) === CSS_POSITION_RELATIVE) {\n          // This variable is intentionally re-defined as the code is transpiled to a block scope language\n          var /*css_align_t*/alignItem = getAlignItem(node, child);\n          if (alignItem === CSS_ALIGN_STRETCH) {\n            // You can only stretch if the dimension has not already been set\n            // previously.\n            if (isUndefined(child.layout[dim[crossAxis]])) {\n              child.layout[dim[crossAxis]] = fmaxf(boundAxis(child, crossAxis, containerCrossAxis - paddingAndBorderAxisCross - getMarginAxis(child, crossAxis)),\n              // You never want to go smaller than padding\n              getPaddingAndBorderAxis(child, crossAxis));\n            }\n          } else if (alignItem !== CSS_ALIGN_FLEX_START) {\n            // The remaining space between the parent dimensions+padding and child\n            // dimensions+margin.\n            var /*float*/remainingCrossDim = containerCrossAxis - paddingAndBorderAxisCross - getDimWithMargin(child, crossAxis);\n            if (alignItem === CSS_ALIGN_CENTER) {\n              leadingCrossDim += remainingCrossDim / 2;\n            } else {\n              // CSS_ALIGN_FLEX_END\n              leadingCrossDim += remainingCrossDim;\n            }\n          }\n        }\n        // And we apply the position\n        child.layout[pos[crossAxis]] += linesCrossDim + leadingCrossDim;\n        // Define the trailing position accordingly.\n        if (isCrossDimDefined) {\n          setTrailingPosition(node, child, crossAxis);\n        }\n      }\n    }\n    linesCrossDim += crossDim;\n    linesMainDim = fmaxf(linesMainDim, mainDim);\n    linesCount += 1;\n    startLine = endLine;\n  }\n  // <Loop E>\n  //\n  // Note(prenaux): More than one line, we need to layout the crossAxis\n  // according to alignContent.\n  //\n  // Note that we could probably remove <Loop D> and handle the one line case\n  // here too, but for the moment this is safer since it won't interfere with\n  // previously working code.\n  //\n  // See specs:\n  // http://www.w3.org/TR/2012/CR-css3-flexbox-20120918/#layout-algorithm\n  // section 9.4\n  //\n  if (linesCount > 1 && isCrossDimDefined) {\n    var /*float*/nodeCrossAxisInnerSize = node.layout[dim[crossAxis]] - paddingAndBorderAxisCross;\n    var /*float*/remainingAlignContentDim = nodeCrossAxisInnerSize - linesCrossDim;\n    var /*float*/crossDimLead = 0;\n    var /*float*/currentLead = leadingPaddingAndBorderCross;\n    var /*css_align_t*/alignContent = getAlignContent(node);\n    if (alignContent === CSS_ALIGN_FLEX_END) {\n      currentLead += remainingAlignContentDim;\n    } else if (alignContent === CSS_ALIGN_CENTER) {\n      currentLead += remainingAlignContentDim / 2;\n    } else if (alignContent === CSS_ALIGN_STRETCH) {\n      if (nodeCrossAxisInnerSize > linesCrossDim) {\n        crossDimLead = remainingAlignContentDim / linesCount;\n      }\n    }\n    var /*int*/endIndex = 0;\n    for (i = 0; i < linesCount; ++i) {\n      var /*int*/startIndex = endIndex;\n      // compute the line's height and find the endIndex\n      var /*float*/lineHeight = 0;\n      for (ii = startIndex; ii < childCount; ++ii) {\n        child = node.children[ii];\n        if (getPositionType(child) !== CSS_POSITION_RELATIVE) {\n          continue;\n        }\n        if (child.lineIndex !== i) {\n          break;\n        }\n        if (!isUndefined(child.layout[dim[crossAxis]])) {\n          lineHeight = fmaxf(lineHeight, child.layout[dim[crossAxis]] + getMarginAxis(child, crossAxis));\n        }\n      }\n      endIndex = ii;\n      lineHeight += crossDimLead;\n      for (ii = startIndex; ii < endIndex; ++ii) {\n        child = node.children[ii];\n        if (getPositionType(child) !== CSS_POSITION_RELATIVE) {\n          continue;\n        }\n        var /*css_align_t*/alignContentAlignItem = getAlignItem(node, child);\n        if (alignContentAlignItem === CSS_ALIGN_FLEX_START) {\n          child.layout[pos[crossAxis]] = currentLead + getLeadingMargin(child, crossAxis);\n        } else if (alignContentAlignItem === CSS_ALIGN_FLEX_END) {\n          child.layout[pos[crossAxis]] = currentLead + lineHeight - getTrailingMargin(child, crossAxis) - child.layout[dim[crossAxis]];\n        } else if (alignContentAlignItem === CSS_ALIGN_CENTER) {\n          var /*float*/childHeight = child.layout[dim[crossAxis]];\n          child.layout[pos[crossAxis]] = currentLead + (lineHeight - childHeight) / 2;\n        } else if (alignContentAlignItem === CSS_ALIGN_STRETCH) {\n          child.layout[pos[crossAxis]] = currentLead + getLeadingMargin(child, crossAxis);\n          // TODO(prenaux): Correctly set the height of items with undefined\n          //                (auto) crossAxis dimension.\n        }\n      }\n\n      currentLead += lineHeight;\n    }\n  }\n  var /*bool*/needsMainTrailingPos = false;\n  var /*bool*/needsCrossTrailingPos = false;\n  // If the user didn't specify a width or height, and it has not been set\n  // by the container, then we set it via the children.\n  if (!isMainDimDefined) {\n    node.layout[dim[mainAxis]] = fmaxf(\n    // We're missing the last padding at this point to get the final\n    // dimension\n    boundAxis(node, mainAxis, linesMainDim + getTrailingPaddingAndBorder(node, mainAxis)),\n    // We can never assign a width smaller than the padding and borders\n    paddingAndBorderAxisMain);\n    if (mainAxis === CSS_FLEX_DIRECTION_ROW_REVERSE || mainAxis === CSS_FLEX_DIRECTION_COLUMN_REVERSE) {\n      needsMainTrailingPos = true;\n    }\n  }\n  if (!isCrossDimDefined) {\n    node.layout[dim[crossAxis]] = fmaxf(\n    // For the cross dim, we add both sides at the end because the value\n    // is aggregate via a max function. Intermediate negative values\n    // can mess this computation otherwise\n    boundAxis(node, crossAxis, linesCrossDim + paddingAndBorderAxisCross), paddingAndBorderAxisCross);\n    if (crossAxis === CSS_FLEX_DIRECTION_ROW_REVERSE || crossAxis === CSS_FLEX_DIRECTION_COLUMN_REVERSE) {\n      needsCrossTrailingPos = true;\n    }\n  }\n  // <Loop F> Set trailing position if necessary\n  if (needsMainTrailingPos || needsCrossTrailingPos) {\n    for (i = 0; i < childCount; ++i) {\n      child = node.children[i];\n      if (needsMainTrailingPos) {\n        setTrailingPosition(node, child, mainAxis);\n      }\n      if (needsCrossTrailingPos) {\n        setTrailingPosition(node, child, crossAxis);\n      }\n    }\n  }\n  // <Loop G> Calculate dimensions for absolutely positioned elements\n  currentAbsoluteChild = firstAbsoluteChild;\n  while (currentAbsoluteChild !== null) {\n    // Pre-fill dimensions when using absolute position and both offsets for\n    // the axis are defined (either both left and right or top and bottom).\n    for (ii = 0; ii < 2; ii++) {\n      axis = ii !== 0 ? CSS_FLEX_DIRECTION_ROW : CSS_FLEX_DIRECTION_COLUMN;\n      if (!isUndefined(node.layout[dim[axis]]) && !isDimDefined(currentAbsoluteChild, axis) && isPosDefined(currentAbsoluteChild, leading[axis]) && isPosDefined(currentAbsoluteChild, trailing[axis])) {\n        currentAbsoluteChild.layout[dim[axis]] = fmaxf(boundAxis(currentAbsoluteChild, axis, node.layout[dim[axis]] - getBorderAxis(node, axis) - getMarginAxis(currentAbsoluteChild, axis) - getPosition(currentAbsoluteChild, leading[axis]) - getPosition(currentAbsoluteChild, trailing[axis])),\n        // You never want to go smaller than padding\n        getPaddingAndBorderAxis(currentAbsoluteChild, axis));\n      }\n      if (isPosDefined(currentAbsoluteChild, trailing[axis]) && !isPosDefined(currentAbsoluteChild, leading[axis])) {\n        currentAbsoluteChild.layout[leading[axis]] = node.layout[dim[axis]] - currentAbsoluteChild.layout[dim[axis]] - getPosition(currentAbsoluteChild, trailing[axis]);\n      }\n    }\n    child = currentAbsoluteChild;\n    currentAbsoluteChild = currentAbsoluteChild.nextAbsoluteChild;\n    child.nextAbsoluteChild = null;\n  }\n}\n// 在外层做的margin补丁\nfunction saveMargin(node) {\n  var style = node.style;\n  var margin = {};\n  ['marginTop', 'marginRight', 'marginBottom', 'marginLeft' // 只支持marginLeft\n  ].forEach(function (key) {\n    // 只处理百分号\n    var value = style[key];\n    if (value && /^-?\\d+%$/.test(value)) {\n      margin[key] = value;\n      style[key] = 0;\n    }\n  });\n  node.margin = margin;\n}\nfunction percent2Num(value) {\n  var percent = Number(value.substr(0, value.length - 1));\n  return percent / 100;\n}\nfunction layoutMargin(node) {\n  var margin = node.margin,\n    layout = node.layout;\n  Object.keys(margin).forEach(function (key) {\n    var percent = percent2Num(margin[key]);\n    if ((key === 'marginLeft' || key === 'marginRight') && layout.width) {\n      layout.left += layout.width * percent;\n    } else if ((key === 'marginTop' || key === 'marginBottom') && layout.height) {\n      layout.top += layout.height * percent;\n    }\n  });\n}\nfunction layoutNode(node, parentMaxWidth, parentDirection) {\n  node.shouldUpdate = true;\n  // hack\n  saveMargin(node);\n  var direction = node.style.direction || CSS_DIRECTION_LTR;\n  var skipLayout = !node.isDirty && node.lastLayout && node.lastLayout.requestedHeight === node.layout.height && node.lastLayout.requestedWidth === node.layout.width && node.lastLayout.parentMaxWidth === parentMaxWidth && node.lastLayout.direction === direction;\n  if (skipLayout) {\n    node.layout.width = node.lastLayout.width;\n    node.layout.height = node.lastLayout.height;\n    node.layout.top = node.lastLayout.top;\n    node.layout.left = node.lastLayout.left;\n  } else {\n    if (!node.lastLayout) {\n      node.lastLayout = {};\n    }\n    node.lastLayout.requestedWidth = node.layout.width;\n    node.lastLayout.requestedHeight = node.layout.height;\n    node.lastLayout.parentMaxWidth = parentMaxWidth;\n    node.lastLayout.direction = direction;\n    // Reset child layouts\n    node.children.forEach(function (child) {\n      child.layout.width = undefined;\n      child.layout.height = undefined;\n      child.layout.top = 0;\n      child.layout.left = 0;\n    });\n    layoutNodeImpl(node, parentMaxWidth, parentDirection);\n    node.lastLayout.width = node.layout.width;\n    node.lastLayout.height = node.layout.height;\n    node.lastLayout.top = node.layout.top;\n    node.lastLayout.left = node.layout.left;\n  }\n  // hack\n  layoutMargin(node);\n}\n/* eslint-enable */\nfunction computeLayout(node) {\n  if (!node) return node;\n  fillNodes(node);\n  layoutNode(node, null, null);\n  return node;\n}\nexport default computeLayout;", "import { __assign } from \"tslib\";\nimport Children from '../../children';\nimport { isNumber, isArray } from '@antv/util';\nimport getShapeAttrs from '../shape';\nimport { Shape, FunctionComponent, getWorkTag } from '../workTags';\nimport computeCSSLayout from './css-layout';\nfunction createMeasure(style, measureText) {\n  return function /* width */\n  () {\n    var text = style.text,\n      width = style.width,\n      height = style.height;\n    var outputWidth = width;\n    var outputHeight = height;\n    if (!isNumber(width) || !isNumber(height)) {\n      var _a = measureText(text, style),\n        measureWidth = _a.width,\n        measureHeight = _a.height;\n      if (!isNumber(width)) {\n        outputWidth = measureWidth;\n      }\n      if (!isNumber(height)) {\n        outputHeight = measureHeight;\n      }\n    }\n    return {\n      width: outputWidth,\n      height: outputHeight\n    };\n  };\n}\nfunction getChildrenLayout(nodeTree) {\n  if (!nodeTree) return;\n  var left = 0;\n  var top = 0;\n  var right = 0;\n  var bottom = 0;\n  var width = 0;\n  var height = 0;\n  nodeTree.forEach(function (node) {\n    var layout = node.layout;\n    if (!layout) return;\n    left = Math.min(left, layout.left);\n    top = Math.min(top, layout.top);\n    right = Math.min(right, layout.left + layout.width);\n    bottom = Math.min(bottom, layout.top + layout.height);\n    width = Math.max(width, layout.width);\n    height = Math.max(height, layout.height);\n  });\n  return {\n    left: left,\n    top: top,\n    right: right,\n    bottom: bottom,\n    width: width,\n    height: height\n  };\n}\nvar NodeTree = /** @class */function () {\n  function NodeTree(node) {\n    var className = node.className,\n      children = node.children,\n      layout = node.layout;\n    var nodeChildren = children && children.length ? children.map(function (child) {\n      return new NodeTree(child);\n    }) : undefined;\n    var nodeLayout = layout ? layout : getChildrenLayout(nodeChildren);\n    this.children = nodeChildren;\n    this.layout = nodeLayout;\n    this.className = className;\n  }\n  NodeTree.prototype.getElementsByClassName = function (targetClassName) {\n    var result = [];\n    var _a = this,\n      className = _a.className,\n      children = _a.children;\n    if (className === targetClassName) {\n      result.push(this);\n    }\n    if (children) {\n      children.forEach(function (child) {\n        result.push.apply(result, child.getElementsByClassName(targetClassName));\n      });\n    }\n    return result;\n  };\n  return NodeTree;\n}();\n// 展开数组\nfunction extendMap(arr, fn) {\n  if (!arr) {\n    return arr;\n  }\n  var newArray = [];\n  if (!isArray(arr)) {\n    var rst = fn(arr);\n    if (!rst) {\n      return newArray;\n    }\n    if (isArray(rst)) {\n      newArray = newArray.concat(rst);\n    } else {\n      newArray.push(rst);\n    }\n    return newArray;\n  }\n  for (var i = 0; i < arr.length; i++) {\n    var element = arr[i];\n    if (isArray(element)) {\n      newArray = newArray.concat(extendMap(element, fn));\n    } else if (element) {\n      var rst = fn(element);\n      if (!rst) {\n        continue;\n      }\n      if (isArray(rst)) {\n        newArray = newArray.concat(rst);\n      } else {\n        newArray.push(rst);\n      }\n    }\n  }\n  return newArray;\n}\n// 主要是把function节点，全部转换成string标签节点\nfunction renderJSXElement(element, context, updater) {\n  if (!element) return element;\n  var px2hd = context.px2hd,\n    measureText = context.measureText;\n  var type = element.type,\n    props = element.props;\n  var tag = getWorkTag(type);\n  // 只处理 function 组件\n  if (tag === FunctionComponent) {\n    // @ts-ignore\n    var newElement = type(element.props, context, updater);\n    // return element if type is string\n    return renderJSXElement(newElement, context, updater);\n  }\n  var className = props.className,\n    _a = props.style,\n    customStyle = _a === void 0 ? {} : _a,\n    attrs = props.attrs,\n    newChildren = props.children;\n  var style = px2hd(__assign(__assign({}, customStyle), attrs));\n  // 文本需要计算文本的宽高来进行flex布局\n  if (type === 'text') {\n    style.measure = createMeasure(style, measureText);\n  }\n  // render children first\n  var nextChildren = newChildren ? Children.toArray(newChildren).map(function (child) {\n    return renderJSXElement(child, context, updater);\n  }) : [];\n  return {\n    type: type,\n    className: className,\n    children: nextChildren.filter(Boolean),\n    style: style\n  };\n}\n// 计算布局\nfunction computeLayout(component, newChildren) {\n  var context = component.context,\n    updater = component.updater;\n  var nodeTree = renderJSXElement(newChildren, context, updater);\n  computeCSSLayout(nodeTree);\n  // 构造一个 NodeTree, 方便外部使用\n  return new NodeTree(nodeTree);\n}\nfunction createChildNodeTree(parent, vNodeChildren) {\n  var tag = parent.tag;\n  var children = extendMap(vNodeChildren, function (child) {\n    var childTag = child.tag,\n      childStyle = child.style,\n      childChildren = child.children;\n    // 如果组件的根节点不是 flex, 则该组件不需要计算 flex 布局\n    if (tag !== Shape && childTag === Shape && childStyle.display !== 'flex') {\n      return null;\n    }\n    // 如果子组件不是 shape，则布局计算时，忽略当前节点\n    if (childTag !== Shape) {\n      return createChildNodeTree(child, childChildren);\n    }\n    return createNodeTree(child);\n  });\n  return children;\n}\n// 创建组件的布局树\nfunction createNodeTree(vNode) {\n  var tag = vNode.tag,\n    type = vNode.type,\n    style = vNode.style,\n    context = vNode.context,\n    vNodeChildren = vNode.children;\n  var measureText = context.measureText;\n  var children = createChildNodeTree(vNode, vNodeChildren);\n  // 文本需要计算文本的宽高来进行flex布局\n  if (type === 'text') {\n    style.measure = createMeasure(style, measureText);\n  }\n  return {\n    tag: tag,\n    type: type,\n    style: style,\n    children: children,\n    // 保留对 vNode 的引用，用于把布局结果回填\n    vNode: vNode\n  };\n}\nfunction fillElementLayout(node) {\n  var type = node.type,\n    style = node.style,\n    vNode = node.vNode,\n    children = node.children,\n    layout = node.layout;\n  var attrs = getShapeAttrs(type, layout);\n  if (style.measure) {\n    delete style.measure;\n  }\n  // 更新布局和样式\n  vNode.layout = layout;\n  vNode.style = __assign(__assign({}, attrs), style);\n  if (!children || !children.length) {\n    return;\n  }\n  for (var i = 0, len = children.length; i < len; i++) {\n    var child = children[i];\n    fillElementLayout(child);\n  }\n}\nfunction fillComponentLayout(vNode) {\n  var layout = vNode.layout,\n    vNodeChildren = vNode.children;\n  Children.map(vNodeChildren, function (child) {\n    if (!child) {\n      return;\n    }\n    var childTag = child.tag,\n      childLayout = child.layout,\n      style = child.style;\n    if (childTag !== Shape && layout && !childLayout) {\n      child.layout = layout;\n      child.style = __assign({\n        width: layout.width,\n        height: layout.height\n      }, style);\n    }\n    fillComponentLayout(child);\n  });\n}\nexport { computeLayout, createNodeTree, computeCSSLayout, fillElementLayout, fillComponentLayout };", "import { __assign, __rest } from \"tslib\";\nimport { isBoolean, isNumber, pick } from '@antv/util';\nimport Component from '../../component';\nimport Children from '../../children';\nimport { createShape } from './createShape';\nimport { Group } from '@antv/g-lite';\nimport equal from '../equal';\nimport { createAnimation } from './animation';\nimport Animator from './animator';\nimport { getWorkTag, ClassComponent, Shape } from '../workTags';\nimport { computeLayout, createNodeTree, computeCSSLayout, fillElementLayout, fillComponentLayout } from './computeLayout';\nimport findClosestShapeNode from './findClosestShapeNode';\nfunction pickElement(element) {\n  if (!element) return element;\n  return Children.map(element, function (item) {\n    if (!item) return item;\n    // 只需要这几个元素就可以了\n    return pick(item, ['key', 'ref', 'type', 'props']);\n  });\n}\nfunction getStyle(tagType, props, context) {\n  var _a = props.style,\n    customStyle = _a === void 0 ? {} : _a,\n    attrs = props.attrs,\n    zIndex = props.zIndex;\n  if (tagType === Shape) {\n    return context.px2hd(__assign(__assign({}, customStyle), attrs));\n  }\n  if (isNumber(zIndex)) {\n    return {\n      zIndex: zIndex\n    };\n  }\n  return {};\n}\nfunction createVNode(parent, vNode) {\n  var canvas = parent.canvas,\n    context = parent.context,\n    updater = parent.updater,\n    parentAnimate = parent.animate;\n  var ref = vNode.ref,\n    type = vNode.type,\n    originProps = vNode.props;\n  var animate = originProps.animate,\n    transformFrom = originProps.transformFrom,\n    props = __rest(originProps, [\"animate\", \"transformFrom\"]);\n  var tag = getWorkTag(type);\n  var animator = new Animator();\n  var style = getStyle(tag, props, context);\n  vNode.parent = parent;\n  vNode.tag = tag;\n  vNode.style = style;\n  vNode.context = context;\n  vNode.updater = updater;\n  vNode.canvas = canvas;\n  vNode.animate = isBoolean(animate) ? animate : parentAnimate;\n  vNode.animator = animator;\n  // shape 标签\n  if (tag === Shape) {\n    var shape = createShape(type, __assign(__assign({}, props), {\n      style: style\n    }));\n    if (ref) {\n      ref.current = shape;\n    }\n    // @ts-ignore\n    shape._vNode = vNode; // shape 保留 vNode 的引用\n    vNode.shape = shape;\n  } else {\n    // 组件\n    var component = void 0;\n    if (tag === ClassComponent) {\n      // @ts-ignore\n      component = new type(props, context, updater);\n    } else {\n      component = new Component(props, context, updater);\n      component.render = function () {\n        // @ts-ignore\n        return type(this.props, context, updater);\n      };\n    }\n    var group = new Group();\n    component.container = group;\n    // 设置ref\n    if (ref) {\n      ref.current = component;\n    }\n    component.context = context;\n    component.updater = updater;\n    component.animator = animator;\n    component._vNode = vNode;\n    vNode.shape = group;\n    vNode.component = component;\n  }\n  if (transformFrom && transformFrom.current) {\n    var transformVNode = transformFrom.current._vNode;\n    vNode.transform = findClosestShapeNode(transformVNode);\n    if (vNode.transform) {\n      vNode.transform.parent.children = null;\n    }\n  }\n  return vNode;\n}\nfunction updateVNode(parent, nextNode, lastNode) {\n  var canvas = parent.canvas,\n    context = parent.context,\n    updater = parent.updater,\n    parentAnimate = parent.animate;\n  var tag = lastNode.tag,\n    animator = lastNode.animator,\n    component = lastNode.component,\n    shape = lastNode.shape,\n    children = lastNode.children;\n  var props = nextNode.props;\n  var animate = props.animate;\n  nextNode.parent = parent;\n  nextNode.tag = tag;\n  nextNode.canvas = canvas;\n  nextNode.context = context;\n  nextNode.updater = updater;\n  nextNode.component = component;\n  nextNode.shape = shape;\n  nextNode.parent = parent;\n  nextNode.children = children;\n  nextNode.animate = isBoolean(animate) ? animate : parentAnimate;\n  nextNode.animator = animator;\n  nextNode.style = getStyle(tag, props, context);\n  // 更新 vNode 的引用\n  if (component) {\n    component._vNode = nextNode;\n  } else {\n    // 说明是 shape 标签\n    // @ts-ignore\n    shape._vNode = nextNode;\n  }\n  return nextNode;\n}\nfunction createElement(parent, element) {\n  return Children.map(element, function (el) {\n    if (!el) return el;\n    return createVNode(parent, el);\n  });\n}\nfunction destroyElement(vNode) {\n  Children.map(vNode, function (node) {\n    if (!node) return;\n    var component = node.component,\n      children = node.children;\n    if (component) {\n      component.willUnmount();\n      destroyElement(children);\n      component.didUnmount();\n      component.destroy();\n    }\n  });\n}\nfunction updateElement(parent, nextElement, lastElement) {\n  var nextType = nextElement.type,\n    nextProps = nextElement.props;\n  var lastType = lastElement.type,\n    lastProps = lastElement.props;\n  if (nextType === lastType) {\n    var nextVNode_1 = updateVNode(parent, nextElement, lastElement);\n    // props 无变化 和 context 都无变化\n    if (equal(nextProps, lastProps) && parent.context === lastElement.context) {\n      return null;\n    }\n    return nextVNode_1;\n  }\n  var nextVNode = createVNode(parent, nextElement);\n  destroyElement(lastElement);\n  return nextVNode;\n}\nfunction diffElement(parent, nextElement, lastElement) {\n  if (!nextElement && !lastElement) {\n    return null;\n  }\n  // 删除\n  if (!nextElement && lastElement) {\n    destroyElement(lastElement);\n    return null;\n  }\n  // 新建\n  if (nextElement && !lastElement) {\n    return createElement(parent, nextElement);\n  }\n  // 更新\n  return updateElement(parent, nextElement, lastElement);\n}\nfunction renderComponentNodes(componentNodes) {\n  if (!componentNodes || !componentNodes.length) {\n    return;\n  }\n  // 1. shouldUpdate & willReceiveProps\n  var shouldProcessChildren = componentNodes.filter(function (node) {\n    var component = node.component,\n      props = node.props,\n      context = node.context,\n      layout = node.layout;\n    // 更新组件 layout\n    component.layout = layout;\n    // 新创建的 component\n    if (!component.isMounted) return true;\n    // 不需要更新\n    if (component.shouldUpdate(props) === false) {\n      return false;\n    }\n    component.willReceiveProps(props, context);\n    component.props = props;\n    component.context = context;\n    return true;\n  });\n  if (!shouldProcessChildren.length) {\n    return;\n  }\n  // 2. willMount / willUpdate\n  shouldProcessChildren.forEach(function (child) {\n    var component = child.component;\n    if (!component.isMounted) {\n      component.willMount();\n    } else {\n      component.willUpdate();\n    }\n  });\n  // 3. render\n  shouldProcessChildren.forEach(function (child) {\n    var canvas = child.canvas,\n      component = child.component,\n      children = child.children;\n    var newChildren = canvas.toRawChildren(component.render());\n    renderChildren(child, newChildren, children);\n    if (!component.isMounted) {\n      component.didMount();\n      component.isMounted = true;\n    } else {\n      component.didUpdate();\n    }\n  });\n}\nfunction renderVNode(node, nextChildren, lastChildren) {\n  var component = node.component;\n  // 不修改原始对象，这里重新 pick 一次，\n  var newChildren = pickElement(nextChildren);\n  // 设置新的 children\n  node.children = newChildren;\n  // 如果是组件，需要同时更新组件的 children\n  // 等同于 node.tag === ClassComponent || node.tag === FunctionComponent\n  if (component) {\n    component.children = newChildren;\n  }\n  var componentNodeChildren = [];\n  Children.compare(newChildren, lastChildren, function (next, last) {\n    var element = diffElement(node, next, last);\n    Children.map(element, function (child) {\n      if (!child) return;\n      var tag = child.tag,\n        childProps = child.props,\n        childLastChildren = child.children;\n      var childrenNode = [];\n      if (tag === Shape) {\n        childrenNode = renderVNode(child, childProps.children, childLastChildren);\n      } else {\n        childrenNode = [child];\n      }\n      componentNodeChildren = componentNodeChildren.concat(childrenNode);\n    });\n  });\n  return componentNodeChildren;\n}\nfunction renderChildren(parent, nextChildren, lastChildren) {\n  // 返回的都是 classComponent 的节点\n  var componentNodeChildren = renderVNode(parent, nextChildren, lastChildren);\n  // 计算 flex 布局\n  var nodeTree = createNodeTree(parent);\n  computeCSSLayout(nodeTree);\n  fillElementLayout(nodeTree);\n  fillComponentLayout(parent);\n  var newChildren = parent.children;\n  if (!componentNodeChildren.length) {\n    return newChildren;\n  }\n  renderComponentNodes(componentNodeChildren);\n  return newChildren;\n}\nfunction render(vNode) {\n  var lastChildren = vNode.children,\n    props = vNode.props;\n  var nextChildren = props.children;\n  // render 节点\n  var children = renderChildren(vNode, nextChildren, lastChildren);\n  // 创建动画\n  var childrenAnimation = createAnimation(vNode, children, lastChildren);\n  // 执行动画\n  if (childrenAnimation.length) {\n    childrenAnimation.forEach(function (animator) {\n      animator.loadPlay();\n    });\n  }\n}\n// setState 触发的更新\nfunction updateComponents(components) {\n  if (!components.length) return;\n  components.forEach(function (component) {\n    var vNode = component._vNode,\n      lastChildren = component.children,\n      props = component.props,\n      animator = component.animator;\n    // 是否需要更新\n    if (component.shouldUpdate(props) === false) {\n      return false;\n    }\n    component.willUpdate();\n    var canvas = vNode.canvas;\n    var newChildren = canvas.toRawChildren(component.render());\n    var nextChildren = renderChildren(vNode, newChildren, lastChildren);\n    // 更新 children\n    component.children = nextChildren;\n    vNode.children = nextChildren;\n    // 创建动画\n    var childrenAnimation = createAnimation(vNode, nextChildren, lastChildren);\n    if (childrenAnimation && childrenAnimation.length) {\n      animator.children = childrenAnimation;\n    }\n    // 执行动画\n    animator.loadPlay();\n    component.didUpdate();\n  });\n}\nexport { render, renderChildren, updateComponents, computeLayout, destroyElement };", "import { isDisplayObject, Shape, AbstractRendererPlugin } from '@antv/g-lite';\nimport { clamp } from '@antv/util';\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  _setPrototypeOf(subClass, superClass);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\n\nfunction generatePath(context, parsedStyle) {\n  var r = parsedStyle.r;\n  context.arc(r, r, r, 0, Math.PI * 2, false);\n}\n\nfunction generatePath$1(context, parsedStyle) {\n  var rxInPixels = parsedStyle.rx,\n    ryInPixels = parsedStyle.ry;\n  var rx = rxInPixels;\n  var ry = ryInPixels;\n  // @see https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/ellipse\n  if (context.ellipse) {\n    context.ellipse(rx, ry, rx, ry, 0, 0, Math.PI * 2, false);\n  } else {\n    // 如果不支持，则使用圆来绘制，进行变形\n    var r = rx > ry ? rx : ry;\n    var scaleX = rx > ry ? 1 : rx / ry;\n    var scaleY = rx > ry ? ry / rx : 1;\n    context.save();\n    context.scale(scaleX, scaleY);\n    context.arc(0, 0, r, 0, Math.PI * 2);\n  }\n}\n\nfunction generatePath$2(context, parsedStyle) {\n  var x1 = parsedStyle.x1,\n    y1 = parsedStyle.y1,\n    x2 = parsedStyle.x2,\n    y2 = parsedStyle.y2,\n    _parsedStyle$defX = parsedStyle.defX,\n    defX = _parsedStyle$defX === void 0 ? 0 : _parsedStyle$defX,\n    _parsedStyle$defY = parsedStyle.defY,\n    defY = _parsedStyle$defY === void 0 ? 0 : _parsedStyle$defY,\n    markerStart = parsedStyle.markerStart,\n    markerEnd = parsedStyle.markerEnd,\n    markerStartOffset = parsedStyle.markerStartOffset,\n    markerEndOffset = parsedStyle.markerEndOffset;\n  var startOffsetX = 0;\n  var startOffsetY = 0;\n  var endOffsetX = 0;\n  var endOffsetY = 0;\n  var rad = 0;\n  var x;\n  var y;\n  if (markerStart && isDisplayObject(markerStart) && markerStartOffset) {\n    x = x2 - x1;\n    y = y2 - y1;\n    rad = Math.atan2(y, x);\n    startOffsetX = Math.cos(rad) * (markerStartOffset || 0);\n    startOffsetY = Math.sin(rad) * (markerStartOffset || 0);\n  }\n  if (markerEnd && isDisplayObject(markerEnd) && markerEndOffset) {\n    x = x1 - x2;\n    y = y1 - y2;\n    rad = Math.atan2(y, x);\n    endOffsetX = Math.cos(rad) * (markerEndOffset || 0);\n    endOffsetY = Math.sin(rad) * (markerEndOffset || 0);\n  }\n  context.moveTo(x1 - defX + startOffsetX, y1 - defY + startOffsetY);\n  context.lineTo(x2 - defX + endOffsetX, y2 - defY + endOffsetY);\n}\n\nfunction generatePath$3(context, parsedStyle) {\n  var _parsedStyle$defX = parsedStyle.defX,\n    defX = _parsedStyle$defX === void 0 ? 0 : _parsedStyle$defX,\n    _parsedStyle$defY = parsedStyle.defY,\n    defY = _parsedStyle$defY === void 0 ? 0 : _parsedStyle$defY,\n    markerStart = parsedStyle.markerStart,\n    markerEnd = parsedStyle.markerEnd,\n    markerStartOffset = parsedStyle.markerStartOffset,\n    markerEndOffset = parsedStyle.markerEndOffset;\n  var _parsedStyle$path = parsedStyle.path,\n    absolutePath = _parsedStyle$path.absolutePath,\n    segments = _parsedStyle$path.segments;\n  var startOffsetX = 0;\n  var startOffsetY = 0;\n  var endOffsetX = 0;\n  var endOffsetY = 0;\n  var rad = 0;\n  var x;\n  var y;\n  if (markerStart && isDisplayObject(markerStart) && markerStartOffset) {\n    var _markerStart$parentNo = markerStart.parentNode.getStartTangent(),\n      p1 = _markerStart$parentNo[0],\n      p2 = _markerStart$parentNo[1];\n    x = p1[0] - p2[0];\n    y = p1[1] - p2[1];\n    rad = Math.atan2(y, x);\n    startOffsetX = Math.cos(rad) * (markerStartOffset || 0);\n    startOffsetY = Math.sin(rad) * (markerStartOffset || 0);\n  }\n  if (markerEnd && isDisplayObject(markerEnd) && markerEndOffset) {\n    var _markerEnd$parentNode = markerEnd.parentNode.getEndTangent(),\n      _p = _markerEnd$parentNode[0],\n      _p2 = _markerEnd$parentNode[1];\n    x = _p[0] - _p2[0];\n    y = _p[1] - _p2[1];\n    rad = Math.atan2(y, x);\n    endOffsetX = Math.cos(rad) * (markerEndOffset || 0);\n    endOffsetY = Math.sin(rad) * (markerEndOffset || 0);\n  }\n  for (var i = 0; i < absolutePath.length; i++) {\n    var params = absolutePath[i];\n    var command = params[0];\n    var nextSegment = absolutePath[i + 1];\n    var useStartOffset = i === 0 && (startOffsetX !== 0 || startOffsetY !== 0);\n    var useEndOffset = (i === absolutePath.length - 1 || nextSegment && (nextSegment[0] === 'M' || nextSegment[0] === 'Z')) && endOffsetX !== 0 && endOffsetY !== 0;\n    switch (command) {\n      case 'M':\n        // Use start marker offset\n        if (useStartOffset) {\n          context.moveTo(params[1] - defX + startOffsetX, params[2] - defY + startOffsetY);\n          context.lineTo(params[1] - defX, params[2] - defY);\n        } else {\n          context.moveTo(params[1] - defX, params[2] - defY);\n        }\n        break;\n      case 'L':\n        if (useEndOffset) {\n          context.lineTo(params[1] - defX + endOffsetX, params[2] - defY + endOffsetY);\n        } else {\n          context.lineTo(params[1] - defX, params[2] - defY);\n        }\n        break;\n      case 'Q':\n        context.quadraticCurveTo(params[1] - defX, params[2] - defY, params[3] - defX, params[4] - defY);\n        if (useEndOffset) {\n          context.lineTo(params[3] - defX + endOffsetX, params[4] - defY + endOffsetY);\n        }\n        break;\n      case 'C':\n        context.bezierCurveTo(params[1] - defX, params[2] - defY, params[3] - defX, params[4] - defY, params[5] - defX, params[6] - defY);\n        if (useEndOffset) {\n          context.lineTo(params[5] - defX + endOffsetX, params[6] - defY + endOffsetY);\n        }\n        break;\n      case 'A':\n        {\n          var arcParams = segments[i].arcParams;\n          var cx = arcParams.cx,\n            cy = arcParams.cy,\n            rx = arcParams.rx,\n            ry = arcParams.ry,\n            startAngle = arcParams.startAngle,\n            endAngle = arcParams.endAngle,\n            xRotation = arcParams.xRotation,\n            sweepFlag = arcParams.sweepFlag;\n          // @see https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/ellipse\n          if (context.ellipse) {\n            context.ellipse(cx - defX, cy - defY, rx, ry, xRotation, startAngle, endAngle, !!(1 - sweepFlag));\n          } else {\n            // @see https://stackoverflow.com/a/47494351\n            var r = rx > ry ? rx : ry;\n            var scaleX = rx > ry ? 1 : rx / ry;\n            var scaleY = rx > ry ? ry / rx : 1;\n            context.translate(cx - defX, cy - defY);\n            context.rotate(xRotation);\n            context.scale(scaleX, scaleY);\n            context.arc(0, 0, r, startAngle, endAngle, !!(1 - sweepFlag));\n            context.scale(1 / scaleX, 1 / scaleY);\n            context.rotate(-xRotation);\n            context.translate(-(cx - defX), -(cy - defY));\n          }\n          if (useEndOffset) {\n            context.lineTo(params[6] - defX + endOffsetX, params[7] - defY + endOffsetY);\n          }\n          break;\n        }\n      case 'Z':\n        context.closePath();\n        break;\n    }\n  }\n}\n\nfunction generatePath$4(context, parsedStyle) {\n  var _parsedStyle$defX = parsedStyle.defX,\n    defX = _parsedStyle$defX === void 0 ? 0 : _parsedStyle$defX,\n    _parsedStyle$defY = parsedStyle.defY,\n    defY = _parsedStyle$defY === void 0 ? 0 : _parsedStyle$defY,\n    markerStart = parsedStyle.markerStart,\n    markerEnd = parsedStyle.markerEnd,\n    markerStartOffset = parsedStyle.markerStartOffset,\n    markerEndOffset = parsedStyle.markerEndOffset;\n  var points = parsedStyle.points.points;\n  var length = points.length;\n  var x1 = points[0][0] - defX;\n  var y1 = points[0][1] - defY;\n  var x2 = points[length - 1][0] - defX;\n  var y2 = points[length - 1][1] - defY;\n  var startOffsetX = 0;\n  var startOffsetY = 0;\n  var endOffsetX = 0;\n  var endOffsetY = 0;\n  var rad = 0;\n  var x;\n  var y;\n  if (markerStart && isDisplayObject(markerStart) && markerStartOffset) {\n    x = points[1][0] - points[0][0];\n    y = points[1][1] - points[0][1];\n    rad = Math.atan2(y, x);\n    startOffsetX = Math.cos(rad) * (markerStartOffset || 0);\n    startOffsetY = Math.sin(rad) * (markerStartOffset || 0);\n  }\n  if (markerEnd && isDisplayObject(markerEnd) && markerEndOffset) {\n    x = points[length - 1][0] - points[0][0];\n    y = points[length - 1][1] - points[0][1];\n    rad = Math.atan2(y, x);\n    endOffsetX = Math.cos(rad) * (markerEndOffset || 0);\n    endOffsetY = Math.sin(rad) * (markerEndOffset || 0);\n  }\n  context.moveTo(x1 + (startOffsetX || endOffsetX), y1 + (startOffsetY || endOffsetY));\n  for (var i = 1; i < length - 1; i++) {\n    var point = points[i];\n    context.lineTo(point[0] - defX, point[1] - defY);\n  }\n  context.lineTo(x2, y2);\n}\n\nfunction generatePath$5(context, parsedStyle) {\n  var _parsedStyle$defX = parsedStyle.defX,\n    defX = _parsedStyle$defX === void 0 ? 0 : _parsedStyle$defX,\n    _parsedStyle$defY = parsedStyle.defY,\n    defY = _parsedStyle$defY === void 0 ? 0 : _parsedStyle$defY,\n    markerStart = parsedStyle.markerStart,\n    markerEnd = parsedStyle.markerEnd,\n    markerStartOffset = parsedStyle.markerStartOffset,\n    markerEndOffset = parsedStyle.markerEndOffset;\n  var points = parsedStyle.points.points;\n  var length = points.length;\n  var x1 = points[0][0] - defX;\n  var y1 = points[0][1] - defY;\n  var x2 = points[length - 1][0] - defX;\n  var y2 = points[length - 1][1] - defY;\n  var startOffsetX = 0;\n  var startOffsetY = 0;\n  var endOffsetX = 0;\n  var endOffsetY = 0;\n  var rad = 0;\n  var x;\n  var y;\n  if (markerStart && isDisplayObject(markerStart) && markerStartOffset) {\n    x = points[1][0] - points[0][0];\n    y = points[1][1] - points[0][1];\n    rad = Math.atan2(y, x);\n    startOffsetX = Math.cos(rad) * (markerStartOffset || 0);\n    startOffsetY = Math.sin(rad) * (markerStartOffset || 0);\n  }\n  if (markerEnd && isDisplayObject(markerEnd) && markerEndOffset) {\n    x = points[length - 2][0] - points[length - 1][0];\n    y = points[length - 2][1] - points[length - 1][1];\n    rad = Math.atan2(y, x);\n    endOffsetX = Math.cos(rad) * (markerEndOffset || 0);\n    endOffsetY = Math.sin(rad) * (markerEndOffset || 0);\n  }\n  context.moveTo(x1 + startOffsetX, y1 + startOffsetY);\n  for (var i = 1; i < length - 1; i++) {\n    var point = points[i];\n    context.lineTo(point[0] - defX, point[1] - defY);\n  }\n  context.lineTo(x2 + endOffsetX, y2 + endOffsetY);\n}\n\nfunction generatePath$6(context, parsedStyle) {\n  var radius = parsedStyle.radius,\n    width = parsedStyle.width,\n    height = parsedStyle.height;\n  var w = width;\n  var h = height;\n  var hasRadius = radius && radius.some(function (r) {\n    return r !== 0;\n  });\n  if (!hasRadius) {\n    // Canvas support negative width/height of rect\n    context.rect(0, 0, w, h);\n  } else {\n    var signX = width > 0 ? 1 : -1;\n    var signY = height > 0 ? 1 : -1;\n    var sweepFlag = signX + signY === 0;\n    var _radius$map = radius.map(function (r) {\n        return clamp(r, 0, Math.min(Math.abs(w) / 2, Math.abs(h) / 2));\n      }),\n      tlr = _radius$map[0],\n      trr = _radius$map[1],\n      brr = _radius$map[2],\n      blr = _radius$map[3];\n    context.moveTo(signX * tlr, 0);\n    context.lineTo(w - signX * trr, 0);\n    if (trr !== 0) {\n      context.arc(w - signX * trr, signY * trr, trr, -signY * Math.PI / 2, signX > 0 ? 0 : Math.PI, sweepFlag);\n    }\n    context.lineTo(w, h - signY * brr);\n    if (brr !== 0) {\n      context.arc(w - signX * brr, h - signY * brr, brr, signX > 0 ? 0 : Math.PI, signY > 0 ? Math.PI / 2 : 1.5 * Math.PI, sweepFlag);\n    }\n    context.lineTo(signX * blr, h);\n    if (blr !== 0) {\n      context.arc(signX * blr, h - signY * blr, blr, signY > 0 ? Math.PI / 2 : -Math.PI / 2, signX > 0 ? Math.PI : 0, sweepFlag);\n    }\n    context.lineTo(0, signY * tlr);\n    if (tlr !== 0) {\n      context.arc(signX * tlr, signY * tlr, tlr, signX > 0 ? Math.PI : 0, signY > 0 ? Math.PI * 1.5 : Math.PI / 2, sweepFlag);\n    }\n  }\n}\n\nvar Plugin = /*#__PURE__*/function (_AbstractRendererPlug) {\n  _inheritsLoose(Plugin, _AbstractRendererPlug);\n  function Plugin() {\n    var _this;\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _AbstractRendererPlug.call.apply(_AbstractRendererPlug, [this].concat(args)) || this;\n    _this.name = 'canvas-path-generator';\n    return _this;\n  }\n  var _proto = Plugin.prototype;\n  _proto.init = function init() {\n    var _pathGeneratorFactory;\n    var pathGeneratorFactory = (_pathGeneratorFactory = {}, _pathGeneratorFactory[Shape.CIRCLE] = generatePath, _pathGeneratorFactory[Shape.ELLIPSE] = generatePath$1, _pathGeneratorFactory[Shape.RECT] = generatePath$6, _pathGeneratorFactory[Shape.LINE] = generatePath$2, _pathGeneratorFactory[Shape.POLYLINE] = generatePath$5, _pathGeneratorFactory[Shape.POLYGON] = generatePath$4, _pathGeneratorFactory[Shape.PATH] = generatePath$3, _pathGeneratorFactory[Shape.TEXT] = undefined, _pathGeneratorFactory[Shape.GROUP] = undefined, _pathGeneratorFactory[Shape.IMAGE] = undefined, _pathGeneratorFactory[Shape.HTML] = undefined, _pathGeneratorFactory[Shape.MESH] = undefined, _pathGeneratorFactory);\n    // @ts-ignore\n    this.context.pathGeneratorFactory = pathGeneratorFactory;\n  };\n  _proto.destroy = function destroy() {\n    // @ts-ignore\n    delete this.context.pathGeneratorFactory;\n  };\n  return Plugin;\n}(AbstractRendererPlugin);\n\nexport { Plugin };\n", "import { Point, findClosestClipPathTarget, isFillOrStrokeAffected, getOrCalculatePathTotalLength, Shape, AbstractRendererPlugin } from '@antv/g-lite';\nimport { vec3, mat4, vec2 } from 'gl-matrix';\nimport { arcToCubic, clamp } from '@antv/util';\n\nfunction _regeneratorRuntime() {\n  _regeneratorRuntime = function () {\n    return exports;\n  };\n  var exports = {},\n    Op = Object.prototype,\n    hasOwn = Op.hasOwnProperty,\n    defineProperty = Object.defineProperty || function (obj, key, desc) {\n      obj[key] = desc.value;\n    },\n    $Symbol = \"function\" == typeof Symbol ? Symbol : {},\n    iteratorSymbol = $Symbol.iterator || \"@@iterator\",\n    asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\",\n    toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), obj[key];\n  }\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function (obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator,\n      generator = Object.create(protoGenerator.prototype),\n      context = new Context(tryLocsList || []);\n    return defineProperty(generator, \"_invoke\", {\n      value: makeInvokeMethod(innerFn, self, context)\n    }), generator;\n  }\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf,\n    NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function (method) {\n      define(prototype, method, function (arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (\"throw\" !== record.type) {\n        var result = record.arg,\n          value = result.value;\n        return value && \"object\" == typeof value && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) {\n          invoke(\"next\", value, resolve, reject);\n        }, function (err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function (unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function (error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n      reject(record.arg);\n    }\n    var previousPromise;\n    defineProperty(this, \"_invoke\", {\n      value: function (method, arg) {\n        function callInvokeWithMethodAndArg() {\n          return new PromiseImpl(function (resolve, reject) {\n            invoke(method, arg, resolve, reject);\n          });\n        }\n        return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = \"suspendedStart\";\n    return function (method, arg) {\n      if (\"executing\" === state) throw new Error(\"Generator is already running\");\n      if (\"completed\" === state) {\n        if (\"throw\" === method) throw arg;\n        return doneResult();\n      }\n      for (context.method = method, context.arg = arg;;) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n        if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) {\n          if (\"suspendedStart\" === state) throw state = \"completed\", context.arg;\n          context.dispatchException(context.arg);\n        } else \"return\" === context.method && context.abrupt(\"return\", context.arg);\n        state = \"executing\";\n        var record = tryCatch(innerFn, self, context);\n        if (\"normal\" === record.type) {\n          if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue;\n          return {\n            value: record.arg,\n            done: context.done\n          };\n        }\n        \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(delegate, context) {\n    var methodName = context.method,\n      method = delegate.iterator[methodName];\n    if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator.return && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel;\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);\n  }\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next) return iterable;\n      if (!isNaN(iterable.length)) {\n        var i = -1,\n          next = function next() {\n            for (; ++i < iterable.length;) if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next;\n            return next.value = undefined, next.done = !0, next;\n          };\n        return next.next = next;\n      }\n    }\n    return {\n      next: doneResult\n    };\n  }\n  function doneResult() {\n    return {\n      value: undefined,\n      done: !0\n    };\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: !0\n  }), defineProperty(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: !0\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function (genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function (arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () {\n    return this;\n  }), define(Gp, \"toString\", function () {\n    return \"[object Generator]\";\n  }), exports.keys = function (val) {\n    var object = Object(val),\n      keys = [];\n    for (var key in object) keys.push(key);\n    return keys.reverse(), function next() {\n      for (; keys.length;) {\n        var key = keys.pop();\n        if (key in object) return next.value = key, next.done = !1, next;\n      }\n      return next.done = !0, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function (skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined);\n    },\n    stop: function () {\n      this.done = !0;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type) throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function (exception) {\n      if (this.done) throw exception;\n      var context = this;\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught;\n      }\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i],\n          record = entry.completion;\n        if (\"root\" === entry.tryLoc) return handle(\"end\");\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"),\n            hasFinally = hasOwn.call(entry, \"finallyLoc\");\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n          } else {\n            if (!hasFinally) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function (type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function (record, afterLoc) {\n      if (\"throw\" === record.type) throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function (finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    catch: function (tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function (iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel;\n    }\n  }, exports;\n}\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(undefined);\n    });\n  };\n}\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  _setPrototypeOf(subClass, superClass);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n  return arr2;\n}\nfunction _createForOfIteratorHelperLoose(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (it) return (it = it.call(o)).next.bind(it);\n  if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n    if (it) o = it;\n    var i = 0;\n    return function () {\n      if (i >= o.length) return {\n        done: true\n      };\n      return {\n        done: false,\n        value: o[i++]\n      };\n    };\n  }\n  throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nvar tmpVec3a = vec3.create();\nvar tmpVec3b = vec3.create();\nvar tmpVec3c = vec3.create();\nvar tmpMat4 = mat4.create();\n/**\r\n * pick shape(s) with Mouse/Touch event\r\n *\r\n * 1. find AABB with r-tree\r\n * 2. do math calculation with geometry in an accurate way\r\n */\nvar CanvasPickerPlugin = /*#__PURE__*/function () {\n  function CanvasPickerPlugin() {\n    var _this = this;\n    this.canvasConfig = void 0;\n    this.pathGeneratorFactory = void 0;\n    this.pointInPathPickerFactory = void 0;\n    this.isHit = function (displayObject, position, worldTransform, isClipPath, runtime) {\n      // use picker for current shape's type\n      var pick = _this.pointInPathPickerFactory[displayObject.nodeName];\n      if (pick) {\n        // invert with world matrix\n        var invertWorldMat = mat4.invert(tmpMat4, worldTransform);\n        // transform client position to local space, do picking in local space\n        var localPosition = vec3.transformMat4(tmpVec3b, vec3.set(tmpVec3c, position[0], position[1], 0), invertWorldMat);\n        // account for anchor\n        var _displayObject$getGeo = displayObject.getGeometryBounds(),\n          halfExtents = _displayObject$getGeo.halfExtents;\n        var anchor = displayObject.parsedStyle.anchor;\n        localPosition[0] += (anchor && anchor[0] || 0) * halfExtents[0] * 2;\n        localPosition[1] += (anchor && anchor[1] || 0) * halfExtents[1] * 2;\n        if (pick(displayObject, new Point(localPosition[0], localPosition[1]), isClipPath, _this.isPointInPath, runtime)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    this.isPointInPath = function (runtime, displayObject, position) {\n      var context = runtime.offscreenCanvas.getOrCreateContext(_this.canvasConfig.offscreenCanvas);\n      var generatePath = _this.pathGeneratorFactory[displayObject.nodeName];\n      if (generatePath) {\n        context.beginPath();\n        generatePath(context, displayObject.parsedStyle);\n        context.closePath();\n      }\n      return context.isPointInPath(position.x, position.y);\n    };\n  }\n  var _proto = CanvasPickerPlugin.prototype;\n  _proto.apply = function apply(context, runtime) {\n    var _renderingContext$roo,\n      _this2 = this;\n    var config = context.config,\n      renderingService = context.renderingService,\n      renderingContext = context.renderingContext,\n      pathGeneratorFactory = context.pathGeneratorFactory,\n      pointInPathPickerFactory = context.pointInPathPickerFactory;\n    this.canvasConfig = config;\n    this.pathGeneratorFactory = pathGeneratorFactory;\n    this.pointInPathPickerFactory = pointInPathPickerFactory;\n    var document = (_renderingContext$roo = renderingContext.root) === null || _renderingContext$roo === void 0 ? void 0 : _renderingContext$roo.ownerDocument;\n    renderingService.hooks.pick.tapPromise(CanvasPickerPlugin.tag, /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(result) {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                return _context.abrupt(\"return\", _this2.pick(document, result, runtime));\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n    renderingService.hooks.pickSync.tap(CanvasPickerPlugin.tag, function (result) {\n      return _this2.pick(document, result, runtime);\n    });\n  };\n  _proto.pick = function pick(document, result, runtime) {\n    var topmost = result.topmost,\n      _result$position = result.position,\n      x = _result$position.x,\n      y = _result$position.y;\n    // position in world space\n    var position = vec3.set(tmpVec3a, x, y, 0);\n    // query by AABB first with spatial index(r-tree)\n    var hitTestList = document.elementsFromBBox(position[0], position[1], position[0], position[1]);\n    // test with clip path & origin shape\n    // @see https://github.com/antvis/g/issues/1064\n    var pickedDisplayObjects = [];\n    for (var _iterator = _createForOfIteratorHelperLoose(hitTestList), _step; !(_step = _iterator()).done;) {\n      var displayObject = _step.value;\n      var worldTransform = displayObject.getWorldTransform();\n      var isHitOriginShape = this.isHit(displayObject, position, worldTransform, false, runtime);\n      if (isHitOriginShape) {\n        // should look up in the ancestor node\n        var clipped = findClosestClipPathTarget(displayObject);\n        if (clipped) {\n          var clipPath = clipped.parsedStyle.clipPath;\n          var isHitClipPath = this.isHit(clipPath, position, clipPath.getWorldTransform(), true, runtime);\n          if (isHitClipPath) {\n            if (topmost) {\n              result.picked = [displayObject];\n              return result;\n            } else {\n              pickedDisplayObjects.push(displayObject);\n            }\n          }\n        } else {\n          if (topmost) {\n            result.picked = [displayObject];\n            return result;\n          } else {\n            pickedDisplayObjects.push(displayObject);\n          }\n        }\n      }\n    }\n    result.picked = pickedDisplayObjects;\n    return result;\n  };\n  return CanvasPickerPlugin;\n}();\nCanvasPickerPlugin.tag = 'CanvasPicker';\n\n/**\r\n * 两点之间的距离\r\n * @param {number} x1 起始点 x\r\n * @param {number} y1 起始点 y\r\n * @param {number} x2 结束点 x\r\n * @param {number} y2 结束点 y\r\n * @return {number} 距离\r\n */\nfunction distance(x1, y1, x2, y2) {\n  var dx = x1 - x2;\n  var dy = y1 - y2;\n  return Math.sqrt(dx * dx + dy * dy);\n}\nfunction isNumberEqual(v1, v2) {\n  return Math.abs(v1 - v2) < 0.001;\n}\nfunction getBBoxByArray(xArr, yArr) {\n  var minX = Math.min.apply(Math, xArr);\n  var minY = Math.min.apply(Math, yArr);\n  var maxX = Math.max.apply(Math, xArr);\n  var maxY = Math.max.apply(Math, yArr);\n  return {\n    x: minX,\n    y: minY,\n    width: maxX - minX,\n    height: maxY - minY\n  };\n}\nfunction piMod(angle) {\n  return (angle + Math.PI * 2) % (Math.PI * 2);\n}\nvar line = {\n  /**\r\n   * 计算线段的包围盒\r\n   * @param {number} x1 起始点 x\r\n   * @param {number} y1 起始点 y\r\n   * @param {number} x2 结束点 x\r\n   * @param {number} y2 结束点 y\r\n   * @return {object} 包围盒对象\r\n   */\n  box: function box(x1, y1, x2, y2) {\n    return getBBoxByArray([x1, x2], [y1, y2]);\n  },\n  /**\r\n   * 线段的长度\r\n   * @param {number} x1 起始点 x\r\n   * @param {number} y1 起始点 y\r\n   * @param {number} x2 结束点 x\r\n   * @param {number} y2 结束点 y\r\n   * @return {number} 距离\r\n   */\n  length: function length(x1, y1, x2, y2) {\n    return distance(x1, y1, x2, y2);\n  },\n  /**\r\n   * 根据比例获取点\r\n   * @param {number} x1 起始点 x\r\n   * @param {number} y1 起始点 y\r\n   * @param {number} x2 结束点 x\r\n   * @param {number} y2 结束点 y\r\n   * @param {number} t 指定比例\r\n   * @return {object} 包含 x, y 的点\r\n   */\n  pointAt: function pointAt(x1, y1, x2, y2, t) {\n    return {\n      x: (1 - t) * x1 + t * x2,\n      y: (1 - t) * y1 + t * y2\n    };\n  },\n  /**\r\n   * 点到线段的距离\r\n   * @param {number} x1 起始点 x\r\n   * @param {number} y1 起始点 y\r\n   * @param {number} x2 结束点 x\r\n   * @param {number} y2 结束点 y\r\n   * @param {number} x  测试点 x\r\n   * @param {number} y  测试点 y\r\n   * @return {number} 距离\r\n   */\n  pointDistance: function pointDistance(x1, y1, x2, y2, x, y) {\n    // 投影距离 x1, y1 的向量，假设 p, p1, p2 三个点，投影点为 a\n    // p1a = p1p.p1p2/|p1p2| * (p1p 的单位向量)\n    var cross = (x2 - x1) * (x - x1) + (y2 - y1) * (y - y1);\n    if (cross < 0) {\n      return distance(x1, y1, x, y);\n    }\n    var lengthSquare = (x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1);\n    if (cross > lengthSquare) {\n      return distance(x2, y2, x, y);\n    }\n    return this.pointToLine(x1, y1, x2, y2, x, y);\n  },\n  /**\r\n   * 点到直线的距离，而不是点到线段的距离\r\n   * @param {number} x1 起始点 x\r\n   * @param {number} y1 起始点 y\r\n   * @param {number} x2 结束点 x\r\n   * @param {number} y2 结束点 y\r\n   * @param {number} x  测试点 x\r\n   * @param {number} y  测试点 y\r\n   * @return {number} 距离\r\n   */\n  pointToLine: function pointToLine(x1, y1, x2, y2, x, y) {\n    var d = [x2 - x1, y2 - y1];\n    // 如果端点相等，则判定点到点的距离\n    if (vec2.exactEquals(d, [0, 0])) {\n      return Math.sqrt((x - x1) * (x - x1) + (y - y1) * (y - y1));\n    }\n    var u = [-d[1], d[0]];\n    vec2.normalize(u, u);\n    var a = [x - x1, y - y1];\n    return Math.abs(vec2.dot(a, u));\n  },\n  /**\r\n   * 线段的角度\r\n   * @param {number} x1 起始点 x\r\n   * @param {number} y1 起始点 y\r\n   * @param {number} x2 结束点 x\r\n   * @param {number} y2 结束点 y\r\n   * @return {number} 导数\r\n   */\n  tangentAngle: function tangentAngle(x1, y1, x2, y2) {\n    return Math.atan2(y2 - y1, x2 - x1);\n  }\n};\nvar EPSILON = 0.0001;\n/**\r\n * 使用牛顿切割法求最近的点\r\n * @param {number[]} xArr      点的 x 数组\r\n * @param {number[]} yArr      点的 y 数组\r\n * @param {number}   x         指定的点 x\r\n * @param {number}   y         指定的点 y\r\n * @param {Function} tCallback 差值函数\r\n */\nfunction nearestPoint(xArr, yArr, x, y, tCallback, length) {\n  var t = -1;\n  var d = Infinity;\n  var v0 = [x, y];\n  var segNum = 20;\n  if (length && length > 200) {\n    segNum = length / 10;\n  }\n  var increaseRate = 1 / segNum;\n  var interval = increaseRate / 10;\n  for (var i = 0; i <= segNum; i++) {\n    var _t = i * increaseRate;\n    var v1 = [tCallback.apply(void 0, xArr.concat([_t])), tCallback.apply(void 0, yArr.concat([_t]))];\n    var d1 = distance(v0[0], v0[1], v1[0], v1[1]);\n    if (d1 < d) {\n      t = _t;\n      d = d1;\n    }\n  }\n  // 提前终止\n  if (t === 0) {\n    return {\n      x: xArr[0],\n      y: yArr[0]\n    };\n  }\n  if (t === 1) {\n    var count = xArr.length;\n    return {\n      x: xArr[count - 1],\n      y: yArr[count - 1]\n    };\n  }\n  d = Infinity;\n  for (var _i = 0; _i < 32; _i++) {\n    if (interval < EPSILON) {\n      break;\n    }\n    var prev = t - interval;\n    var next = t + interval;\n    var _v = [tCallback.apply(void 0, xArr.concat([prev])), tCallback.apply(void 0, yArr.concat([prev]))];\n    var _d = distance(v0[0], v0[1], _v[0], _v[1]);\n    if (prev >= 0 && _d < d) {\n      t = prev;\n      d = _d;\n    } else {\n      var v2 = [tCallback.apply(void 0, xArr.concat([next])), tCallback.apply(void 0, yArr.concat([next]))];\n      var d2 = distance(v0[0], v0[1], v2[0], v2[1]);\n      if (next <= 1 && d2 < d) {\n        t = next;\n        d = d2;\n      } else {\n        interval *= 0.5;\n      }\n    }\n  }\n  return {\n    x: tCallback.apply(void 0, xArr.concat([t])),\n    y: tCallback.apply(void 0, yArr.concat([t]))\n  };\n}\n// 近似求解 https://community.khronos.org/t/3d-cubic-bezier-segment-length/62363/2\nfunction snapLength(xArr, yArr) {\n  var totalLength = 0;\n  var count = xArr.length;\n  for (var i = 0; i < count; i++) {\n    var x = xArr[i];\n    var y = yArr[i];\n    var nextX = xArr[(i + 1) % count];\n    var nextY = yArr[(i + 1) % count];\n    totalLength += distance(x, y, nextX, nextY);\n  }\n  return totalLength / 2;\n}\n\n// 差值公式\nfunction quadraticAt(p0, p1, p2, t) {\n  var onet = 1 - t;\n  return onet * onet * p0 + 2 * t * onet * p1 + t * t * p2;\n}\n// 求极值\nfunction extrema(p0, p1, p2) {\n  var a = p0 + p2 - 2 * p1;\n  if (isNumberEqual(a, 0)) {\n    return [0.5];\n  }\n  var rst = (p0 - p1) / a;\n  if (rst <= 1 && rst >= 0) {\n    return [rst];\n  }\n  return [];\n}\nfunction derivativeAt(p0, p1, p2, t) {\n  return 2 * (1 - t) * (p1 - p0) + 2 * t * (p2 - p1);\n}\n// 分割贝塞尔曲线\nfunction divideQuadratic(x1, y1, x2, y2, x3, y3, t) {\n  // 划分点\n  var xt = quadraticAt(x1, x2, x3, t);\n  var yt = quadraticAt(y1, y2, y3, t);\n  // 分割的第一条曲线的控制点\n  var controlPoint1 = line.pointAt(x1, y1, x2, y2, t);\n  // 分割的第二条曲线的控制点\n  var controlPoint2 = line.pointAt(x2, y2, x3, y3, t);\n  return [[x1, y1, controlPoint1.x, controlPoint1.y, xt, yt], [xt, yt, controlPoint2.x, controlPoint2.y, x3, y3]];\n}\n// 使用迭代法取贝塞尔曲线的长度\nfunction quadraticLength(x1, y1, x2, y2, x3, y3, iterationCount) {\n  if (iterationCount === 0) {\n    return (distance(x1, y1, x2, y2) + distance(x2, y2, x3, y3) + distance(x1, y1, x3, y3)) / 2;\n  }\n  var quadratics = divideQuadratic(x1, y1, x2, y2, x3, y3, 0.5);\n  var left = quadratics[0];\n  var right = quadratics[1];\n  left.push(iterationCount - 1);\n  right.push(iterationCount - 1);\n  return quadraticLength.apply(void 0, left) + quadraticLength.apply(void 0, right);\n}\nvar quadratic = {\n  box: function box(x1, y1, x2, y2, x3, y3) {\n    var xExtrema = extrema(x1, x2, x3)[0];\n    var yExtrema = extrema(y1, y2, y3)[0];\n    // 控制点不加入 box 的计算\n    var xArr = [x1, x3];\n    var yArr = [y1, y3];\n    if (xExtrema !== undefined) {\n      xArr.push(quadraticAt(x1, x2, x3, xExtrema));\n    }\n    if (yExtrema !== undefined) {\n      yArr.push(quadraticAt(y1, y2, y3, yExtrema));\n    }\n    return getBBoxByArray(xArr, yArr);\n  },\n  length: function length(x1, y1, x2, y2, x3, y3) {\n    return quadraticLength(x1, y1, x2, y2, x3, y3, 3);\n  },\n  nearestPoint: function nearestPoint$1(x1, y1, x2, y2, x3, y3, x0, y0) {\n    return nearestPoint([x1, x2, x3], [y1, y2, y3], x0, y0, quadraticAt);\n  },\n  pointDistance: function pointDistance(x1, y1, x2, y2, x3, y3, x0, y0) {\n    var point = this.nearestPoint(x1, y1, x2, y2, x3, y3, x0, y0);\n    return distance(point.x, point.y, x0, y0);\n  },\n  interpolationAt: quadraticAt,\n  pointAt: function pointAt(x1, y1, x2, y2, x3, y3, t) {\n    return {\n      x: quadraticAt(x1, x2, x3, t),\n      y: quadraticAt(y1, y2, y3, t)\n    };\n  },\n  divide: function divide(x1, y1, x2, y2, x3, y3, t) {\n    return divideQuadratic(x1, y1, x2, y2, x3, y3, t);\n  },\n  tangentAngle: function tangentAngle(x1, y1, x2, y2, x3, y3, t) {\n    var dx = derivativeAt(x1, x2, x3, t);\n    var dy = derivativeAt(y1, y2, y3, t);\n    var angle = Math.atan2(dy, dx);\n    return piMod(angle);\n  }\n};\nfunction cubicAt(p0, p1, p2, p3, t) {\n  var onet = 1 - t; // t * t * t 的性能大概是 Math.pow(t, 3) 的三倍\n  return onet * onet * onet * p0 + 3 * p1 * t * onet * onet + 3 * p2 * t * t * onet + p3 * t * t * t;\n}\nfunction derivativeAt$1(p0, p1, p2, p3, t) {\n  var onet = 1 - t;\n  return 3 * (onet * onet * (p1 - p0) + 2 * onet * t * (p2 - p1) + t * t * (p3 - p2));\n}\nfunction extrema$1(p0, p1, p2, p3) {\n  var a = -3 * p0 + 9 * p1 - 9 * p2 + 3 * p3;\n  var b = 6 * p0 - 12 * p1 + 6 * p2;\n  var c = 3 * p1 - 3 * p0;\n  var extremas = [];\n  var t1;\n  var t2;\n  var discSqrt;\n  if (isNumberEqual(a, 0)) {\n    if (!isNumberEqual(b, 0)) {\n      t1 = -c / b;\n      if (t1 >= 0 && t1 <= 1) {\n        extremas.push(t1);\n      }\n    }\n  } else {\n    var disc = b * b - 4 * a * c;\n    if (isNumberEqual(disc, 0)) {\n      extremas.push(-b / (2 * a));\n    } else if (disc > 0) {\n      discSqrt = Math.sqrt(disc);\n      t1 = (-b + discSqrt) / (2 * a);\n      t2 = (-b - discSqrt) / (2 * a);\n      if (t1 >= 0 && t1 <= 1) {\n        extremas.push(t1);\n      }\n      if (t2 >= 0 && t2 <= 1) {\n        extremas.push(t2);\n      }\n    }\n  }\n  return extremas;\n}\n// 分割贝塞尔曲线\nfunction divideCubic(x1, y1, x2, y2, x3, y3, x4, y4, t) {\n  // 划分点\n  var xt = cubicAt(x1, x2, x3, x4, t);\n  var yt = cubicAt(y1, y2, y3, y4, t);\n  // 计算两点之间的差值点\n  var c1 = line.pointAt(x1, y1, x2, y2, t);\n  var c2 = line.pointAt(x2, y2, x3, y3, t);\n  var c3 = line.pointAt(x3, y3, x4, y4, t);\n  var c12 = line.pointAt(c1.x, c1.y, c2.x, c2.y, t);\n  var c23 = line.pointAt(c2.x, c2.y, c3.x, c3.y, t);\n  return [[x1, y1, c1.x, c1.y, c12.x, c12.y, xt, yt], [xt, yt, c23.x, c23.y, c3.x, c3.y, x4, y4]];\n}\n// 使用迭代法取贝塞尔曲线的长度，二阶和三阶分开写，更清晰和便于调试\nfunction cubicLength(x1, y1, x2, y2, x3, y3, x4, y4, iterationCount) {\n  if (iterationCount === 0) {\n    return snapLength([x1, x2, x3, x4], [y1, y2, y3, y4]);\n  }\n  var cubics = divideCubic(x1, y1, x2, y2, x3, y3, x4, y4, 0.5);\n  var left = [].concat(cubics[0], [iterationCount - 1]);\n  var right = [].concat(cubics[1], [iterationCount - 1]);\n  return cubicLength.apply(void 0, left) + cubicLength.apply(void 0, right);\n}\nvar cubic = {\n  extrema: extrema$1,\n  box: function box(x1, y1, x2, y2, x3, y3, x4, y4) {\n    var xArr = [x1, x4];\n    var yArr = [y1, y4];\n    var xExtrema = extrema$1(x1, x2, x3, x4);\n    var yExtrema = extrema$1(y1, y2, y3, y4);\n    for (var i = 0; i < xExtrema.length; i++) {\n      xArr.push(cubicAt(x1, x2, x3, x4, xExtrema[i]));\n    }\n    for (var _i = 0; _i < yExtrema.length; _i++) {\n      yArr.push(cubicAt(y1, y2, y3, y4, yExtrema[_i]));\n    }\n    return getBBoxByArray(xArr, yArr);\n  },\n  length: function length(x1, y1, x2, y2, x3, y3, x4, y4) {\n    // 迭代三次，划分成 8 段求长度\n    return cubicLength(x1, y1, x2, y2, x3, y3, x4, y4, 3);\n  },\n  nearestPoint: function nearestPoint$1(x1, y1, x2, y2, x3, y3, x4, y4, x0, y0, length) {\n    return nearestPoint([x1, x2, x3, x4], [y1, y2, y3, y4], x0, y0, cubicAt, length);\n  },\n  pointDistance: function pointDistance(x1, y1, x2, y2, x3, y3, x4, y4, x0, y0, length) {\n    var point = this.nearestPoint(x1, y1, x2, y2, x3, y3, x4, y4, x0, y0, length);\n    return distance(point.x, point.y, x0, y0);\n  },\n  interpolationAt: cubicAt,\n  pointAt: function pointAt(x1, y1, x2, y2, x3, y3, x4, y4, t) {\n    return {\n      x: cubicAt(x1, x2, x3, x4, t),\n      y: cubicAt(y1, y2, y3, y4, t)\n    };\n  },\n  divide: function divide(x1, y1, x2, y2, x3, y3, x4, y4, t) {\n    return divideCubic(x1, y1, x2, y2, x3, y3, x4, y4, t);\n  },\n  tangentAngle: function tangentAngle(x1, y1, x2, y2, x3, y3, x4, y4, t) {\n    var dx = derivativeAt$1(x1, x2, x3, x4, t);\n    var dy = derivativeAt$1(y1, y2, y3, y4, t);\n    return piMod(Math.atan2(dy, dx));\n  }\n};\n\nfunction distance$1(x1, y1, x2, y2) {\n  var dx = x1 - x2;\n  var dy = y1 - y2;\n  return Math.sqrt(dx * dx + dy * dy);\n}\nfunction inBox(minX, minY, width, height, x, y) {\n  return x >= minX && x <= minX + width && y >= minY && y <= minY + height;\n}\nfunction inRect(minX, minY, width, height, lineWidth, x, y) {\n  var halfWidth = lineWidth / 2;\n  // 将四个边看做矩形来检测，比边的检测算法要快\n  return inBox(minX - halfWidth, minY - halfWidth, width, lineWidth, x, y) ||\n  // 上边\n  inBox(minX + width - halfWidth, minY - halfWidth, lineWidth, height, x, y) ||\n  // 右边\n  inBox(minX + halfWidth, minY + height - halfWidth, width, lineWidth, x, y) ||\n  // 下边\n  inBox(minX - halfWidth, minY + halfWidth, lineWidth, height, x, y); // 左边\n}\n\nfunction inArc(cx, cy, r, startAngle, endAngle, lineWidth, x, y) {\n  var angle = (Math.atan2(y - cy, x - cx) + Math.PI * 2) % (Math.PI * 2); // 转换到 0 - 2 * Math.PI 之间\n  // if (angle < startAngle || angle > endAngle) {\n  //   return false;\n  // }\n  var point = {\n    x: cx + r * Math.cos(angle),\n    y: cy + r * Math.sin(angle)\n  };\n  return distance$1(point.x, point.y, x, y) <= lineWidth / 2;\n}\nfunction inLine(x1, y1, x2, y2, lineWidth, x, y) {\n  var minX = Math.min(x1, x2);\n  var maxX = Math.max(x1, x2);\n  var minY = Math.min(y1, y2);\n  var maxY = Math.max(y1, y2);\n  var halfWidth = lineWidth / 2;\n  // 因为目前的方案是计算点到直线的距离，而有可能会在延长线上，所以要先判断是否在包围盒内\n  // 这种方案会在水平或者竖直的情况下载线的延长线上有半 lineWidth 的误差\n  if (!(x >= minX - halfWidth && x <= maxX + halfWidth && y >= minY - halfWidth && y <= maxY + halfWidth)) {\n    return false;\n  }\n  // 因为已经计算了包围盒，所以仅需要计算到直线的距离即可，可以显著提升性能\n  return line.pointToLine(x1, y1, x2, y2, x, y) <= lineWidth / 2;\n}\nfunction inPolyline(points, lineWidth, x, y, isClose) {\n  var count = points.length;\n  if (count < 2) {\n    return false;\n  }\n  for (var i = 0; i < count - 1; i++) {\n    var x1 = points[i][0];\n    var y1 = points[i][1];\n    var x2 = points[i + 1][0];\n    var y2 = points[i + 1][1];\n    if (inLine(x1, y1, x2, y2, lineWidth, x, y)) {\n      return true;\n    }\n  }\n  // 如果封闭，则计算起始点和结束点的边\n  if (isClose) {\n    var first = points[0];\n    var last = points[count - 1];\n    if (inLine(first[0], first[1], last[0], last[1], lineWidth, x, y)) {\n      return true;\n    }\n  }\n  return false;\n}\n// 多边形的射线检测，参考：https://blog.csdn.net/WilliamSun0122/article/details/77994526\nvar tolerance = 1e-6;\n// 三态函数，判断两个double在eps精度下的大小关系\nfunction dcmp(x) {\n  if (Math.abs(x) < tolerance) {\n    return 0;\n  }\n  return x < 0 ? -1 : 1;\n}\n// 判断点Q是否在p1和p2的线段上\nfunction onSegment(p1, p2, q) {\n  if ((q[0] - p1[0]) * (p2[1] - p1[1]) === (p2[0] - p1[0]) * (q[1] - p1[1]) && Math.min(p1[0], p2[0]) <= q[0] && q[0] <= Math.max(p1[0], p2[0]) && Math.min(p1[1], p2[1]) <= q[1] && q[1] <= Math.max(p1[1], p2[1])) {\n    return true;\n  }\n  return false;\n}\n// 判断点P在多边形内-射线法\nfunction inPolygon(points, x, y) {\n  var isHit = false;\n  var n = points.length;\n  if (n <= 2) {\n    // svg 中点小于 3 个时，不显示，也无法被拾取\n    return false;\n  }\n  for (var i = 0; i < n; i++) {\n    var p1 = points[i];\n    var p2 = points[(i + 1) % n];\n    if (onSegment(p1, p2, [x, y])) {\n      // 点在多边形一条边上\n      return true;\n    }\n    // 前一个判断min(p1[1],p2[1])<P.y<=max(p1[1],p2[1])\n    // 后一个判断被测点 在 射线与边交点 的左边\n    if (dcmp(p1[1] - y) > 0 !== dcmp(p2[1] - y) > 0 && dcmp(x - (y - p1[1]) * (p1[0] - p2[0]) / (p1[1] - p2[1]) - p1[0]) < 0) {\n      isHit = !isHit;\n    }\n  }\n  return isHit;\n}\nfunction inPolygons(polygons, x, y) {\n  var isHit = false;\n  for (var i = 0; i < polygons.length; i++) {\n    var points = polygons[i];\n    isHit = inPolygon(points, x, y);\n    if (isHit) {\n      break;\n    }\n  }\n  return isHit;\n}\n\nfunction isPointInPath(displayObject, position, isClipPath) {\n  var _displayObject$parsed = displayObject.parsedStyle,\n    r = _displayObject$parsed.r,\n    fill = _displayObject$parsed.fill,\n    stroke = _displayObject$parsed.stroke,\n    lineWidth = _displayObject$parsed.lineWidth,\n    increasedLineWidthForHitTesting = _displayObject$parsed.increasedLineWidthForHitTesting,\n    pointerEvents = _displayObject$parsed.pointerEvents;\n  var halfLineWidth = ((lineWidth || 0) + (increasedLineWidthForHitTesting || 0)) / 2;\n  var absDistance = distance$1(r, r, position.x, position.y);\n  var _isFillOrStrokeAffect = isFillOrStrokeAffected(pointerEvents, fill, stroke),\n    hasFill = _isFillOrStrokeAffect[0],\n    hasStroke = _isFillOrStrokeAffect[1];\n  if (hasFill && hasStroke || isClipPath) {\n    return absDistance <= r + halfLineWidth;\n  }\n  if (hasFill) {\n    return absDistance <= r;\n  }\n  if (hasStroke) {\n    return absDistance >= r - halfLineWidth && absDistance <= r + halfLineWidth;\n  }\n  return false;\n}\n\nfunction ellipseDistance(squareX, squareY, rx, ry) {\n  return squareX / (rx * rx) + squareY / (ry * ry);\n}\nfunction isPointInPath$1(displayObject, position, isClipPath) {\n  var _displayObject$parsed = displayObject.parsedStyle,\n    rx = _displayObject$parsed.rx,\n    ry = _displayObject$parsed.ry,\n    fill = _displayObject$parsed.fill,\n    stroke = _displayObject$parsed.stroke,\n    lineWidth = _displayObject$parsed.lineWidth,\n    increasedLineWidthForHitTesting = _displayObject$parsed.increasedLineWidthForHitTesting,\n    pointerEvents = _displayObject$parsed.pointerEvents;\n  var x = position.x,\n    y = position.y;\n  var _isFillOrStrokeAffect = isFillOrStrokeAffected(pointerEvents, fill, stroke),\n    hasFill = _isFillOrStrokeAffect[0],\n    hasStroke = _isFillOrStrokeAffect[1];\n  var halfLineWith = ((lineWidth || 0) + (increasedLineWidthForHitTesting || 0)) / 2;\n  var squareX = (x - rx) * (x - rx);\n  var squareY = (y - ry) * (y - ry);\n  // 使用椭圆的公式： x*x/rx*rx + y*y/ry*ry = 1;\n  if (hasFill && hasStroke || isClipPath) {\n    return ellipseDistance(squareX, squareY, rx + halfLineWith, ry + halfLineWith) <= 1;\n  }\n  if (hasFill) {\n    return ellipseDistance(squareX, squareY, rx, ry) <= 1;\n  }\n  if (hasStroke) {\n    return ellipseDistance(squareX, squareY, rx - halfLineWith, ry - halfLineWith) >= 1 && ellipseDistance(squareX, squareY, rx + halfLineWith, ry + halfLineWith) <= 1;\n  }\n  return false;\n}\n\nfunction isPointInPath$2(displayObject, position, isClipPath) {\n  var _displayObject$parsed = displayObject.parsedStyle,\n    x1 = _displayObject$parsed.x1,\n    y1 = _displayObject$parsed.y1,\n    x2 = _displayObject$parsed.x2,\n    y2 = _displayObject$parsed.y2,\n    lineWidth = _displayObject$parsed.lineWidth,\n    increasedLineWidthForHitTesting = _displayObject$parsed.increasedLineWidthForHitTesting,\n    _displayObject$parsed2 = _displayObject$parsed.defX,\n    x = _displayObject$parsed2 === void 0 ? 0 : _displayObject$parsed2,\n    _displayObject$parsed3 = _displayObject$parsed.defY,\n    y = _displayObject$parsed3 === void 0 ? 0 : _displayObject$parsed3,\n    pointerEvents = _displayObject$parsed.pointerEvents,\n    fill = _displayObject$parsed.fill,\n    stroke = _displayObject$parsed.stroke;\n  var _isFillOrStrokeAffect = isFillOrStrokeAffected(pointerEvents, fill, stroke),\n    hasStroke = _isFillOrStrokeAffect[1];\n  if (!hasStroke && !isClipPath || !lineWidth) {\n    return false;\n  }\n  return inLine(x1, y1, x2, y2, (lineWidth || 0) + (increasedLineWidthForHitTesting || 0), position.x + x, position.y + y);\n}\n\n// TODO: replace it with method in @antv/util\nfunction isPointInStroke(segments, lineWidth, px, py, length) {\n  var isHit = false;\n  var halfWidth = lineWidth / 2;\n  for (var i = 0; i < segments.length; i++) {\n    var segment = segments[i];\n    var currentPoint = segment.currentPoint,\n      params = segment.params,\n      prePoint = segment.prePoint,\n      box = segment.box;\n    // 如果在前面已经生成过包围盒，直接按照包围盒计算\n    if (box && !inBox(box.x - halfWidth, box.y - halfWidth, box.width + lineWidth, box.height + lineWidth, px, py)) {\n      continue;\n    }\n    switch (segment.command) {\n      // L 和 Z 都是直线， M 不进行拾取\n      case 'L':\n      case 'Z':\n        isHit = inLine(prePoint[0], prePoint[1], currentPoint[0], currentPoint[1], lineWidth, px, py);\n        if (isHit) {\n          return true;\n        }\n        break;\n      case 'Q':\n        var qDistance = quadratic.pointDistance(prePoint[0], prePoint[1], params[1], params[2], params[3], params[4], px, py);\n        isHit = qDistance <= lineWidth / 2;\n        if (isHit) {\n          return true;\n        }\n        break;\n      case 'C':\n        var cDistance = cubic.pointDistance(prePoint[0],\n        // 上一段结束位置, 即 C 的起始点\n        prePoint[1], params[1],\n        // 'C' 的参数，1、2 为第一个控制点，3、4 为第二个控制点，5、6 为结束点\n        params[2], params[3], params[4], params[5], params[6], px, py, length);\n        isHit = cDistance <= lineWidth / 2;\n        if (isHit) {\n          return true;\n        }\n        break;\n      case 'A':\n        // cache conversion result\n        if (!segment.cubicParams) {\n          segment.cubicParams = arcToCubic(prePoint[0], prePoint[1], params[1], params[2], params[3], params[4], params[5], params[6], params[7], undefined);\n        }\n        var args = segment.cubicParams;\n        // fixArc\n        var prePointInCubic = prePoint;\n        for (var _i = 0; _i < args.length; _i += 6) {\n          var _cDistance = cubic.pointDistance(prePointInCubic[0],\n          // 上一段结束位置, 即 C 的起始点\n          prePointInCubic[1], args[_i], args[_i + 1], args[_i + 2], args[_i + 3], args[_i + 4], args[_i + 5], px, py, length);\n          prePointInCubic = [args[_i + 4], args[_i + 5]];\n          isHit = _cDistance <= lineWidth / 2;\n          if (isHit) {\n            return true;\n          }\n        }\n        break;\n    }\n  }\n  return isHit;\n}\nfunction isPointInPath$3(displayObject, position, isClipPath, isPointInPath, runtime) {\n  var _displayObject$parsed = displayObject.parsedStyle,\n    lineWidth = _displayObject$parsed.lineWidth,\n    increasedLineWidthForHitTesting = _displayObject$parsed.increasedLineWidthForHitTesting,\n    stroke = _displayObject$parsed.stroke,\n    fill = _displayObject$parsed.fill,\n    _displayObject$parsed2 = _displayObject$parsed.defX,\n    x = _displayObject$parsed2 === void 0 ? 0 : _displayObject$parsed2,\n    _displayObject$parsed3 = _displayObject$parsed.defY,\n    y = _displayObject$parsed3 === void 0 ? 0 : _displayObject$parsed3,\n    path = _displayObject$parsed.path,\n    pointerEvents = _displayObject$parsed.pointerEvents;\n  var _isFillOrStrokeAffect = isFillOrStrokeAffected(pointerEvents, fill, stroke),\n    hasFill = _isFillOrStrokeAffect[0],\n    hasStroke = _isFillOrStrokeAffect[1];\n  var segments = path.segments,\n    hasArc = path.hasArc,\n    polylines = path.polylines,\n    polygons = path.polygons;\n  var totalLength = getOrCalculatePathTotalLength(displayObject);\n  var isHit = false;\n  if (hasFill || isClipPath) {\n    if (hasArc) {\n      // 存在曲线时，暂时使用 canvas 的 api 计算，后续可以进行多边形切割\n      isHit = isPointInPath(runtime, displayObject, position);\n    } else {\n      // 提取出来的多边形包含闭合的和非闭合的，在这里统一按照多边形处理\n      isHit = inPolygons(polygons, position.x + x, position.y + y) || inPolygons(polylines, position.x + x, position.y + y);\n    }\n    return isHit;\n  } else if (hasStroke || isClipPath) {\n    isHit = isPointInStroke(segments, (lineWidth || 0) + (increasedLineWidthForHitTesting || 0), position.x + x, position.y + y, totalLength);\n  }\n  return isHit;\n}\n\nfunction isPointInPath$4(displayObject, position, isClipPath) {\n  var _displayObject$parsed = displayObject.parsedStyle,\n    stroke = _displayObject$parsed.stroke,\n    fill = _displayObject$parsed.fill,\n    lineWidth = _displayObject$parsed.lineWidth,\n    increasedLineWidthForHitTesting = _displayObject$parsed.increasedLineWidthForHitTesting,\n    points = _displayObject$parsed.points,\n    _displayObject$parsed2 = _displayObject$parsed.defX,\n    x = _displayObject$parsed2 === void 0 ? 0 : _displayObject$parsed2,\n    _displayObject$parsed3 = _displayObject$parsed.defY,\n    y = _displayObject$parsed3 === void 0 ? 0 : _displayObject$parsed3,\n    pointerEvents = _displayObject$parsed.pointerEvents;\n  var _isFillOrStrokeAffect = isFillOrStrokeAffected(pointerEvents, fill, stroke),\n    hasFill = _isFillOrStrokeAffect[0],\n    hasStroke = _isFillOrStrokeAffect[1];\n  var isHit = false;\n  if (hasStroke || isClipPath) {\n    isHit = inPolyline(points.points, (lineWidth || 0) + (increasedLineWidthForHitTesting || 0), position.x + x, position.y + y, true);\n  }\n  if (!isHit && (hasFill || isClipPath)) {\n    isHit = inPolygon(points.points, position.x + x, position.y + y);\n  }\n  return isHit;\n}\n\nfunction isPointInPath$5(displayObject, position, isClipPath) {\n  var _displayObject$parsed = displayObject.parsedStyle,\n    lineWidth = _displayObject$parsed.lineWidth,\n    increasedLineWidthForHitTesting = _displayObject$parsed.increasedLineWidthForHitTesting,\n    points = _displayObject$parsed.points,\n    _displayObject$parsed2 = _displayObject$parsed.defX,\n    x = _displayObject$parsed2 === void 0 ? 0 : _displayObject$parsed2,\n    _displayObject$parsed3 = _displayObject$parsed.defY,\n    y = _displayObject$parsed3 === void 0 ? 0 : _displayObject$parsed3,\n    pointerEvents = _displayObject$parsed.pointerEvents,\n    fill = _displayObject$parsed.fill,\n    stroke = _displayObject$parsed.stroke;\n  var _isFillOrStrokeAffect = isFillOrStrokeAffected(pointerEvents, fill, stroke),\n    hasStroke = _isFillOrStrokeAffect[1];\n  if (!hasStroke && !isClipPath || !lineWidth) {\n    return false;\n  }\n  return inPolyline(points.points, (lineWidth || 0) + (increasedLineWidthForHitTesting || 0), position.x + x, position.y + y, false);\n}\n\nfunction isPointInPath$6(displayObject, position, isClipPath, isPointInPath, runtime) {\n  var _displayObject$parsed = displayObject.parsedStyle,\n    radius = _displayObject$parsed.radius,\n    fill = _displayObject$parsed.fill,\n    stroke = _displayObject$parsed.stroke,\n    lineWidth = _displayObject$parsed.lineWidth,\n    increasedLineWidthForHitTesting = _displayObject$parsed.increasedLineWidthForHitTesting,\n    width = _displayObject$parsed.width,\n    height = _displayObject$parsed.height,\n    pointerEvents = _displayObject$parsed.pointerEvents;\n  var _isFillOrStrokeAffect = isFillOrStrokeAffected(pointerEvents, fill, stroke),\n    hasFill = _isFillOrStrokeAffect[0],\n    hasStroke = _isFillOrStrokeAffect[1];\n  var hasRadius = radius && radius.some(function (r) {\n    return r !== 0;\n  });\n  var lineWidthForHitTesting = (lineWidth || 0) + (increasedLineWidthForHitTesting || 0);\n  // 无圆角时的策略\n  if (!hasRadius) {\n    var halfWidth = lineWidthForHitTesting / 2;\n    // 同时填充和带有边框\n    if (hasFill && hasStroke || isClipPath) {\n      return inBox(0 - halfWidth, 0 - halfWidth, width + halfWidth, height + halfWidth, position.x, position.y);\n    }\n    // 仅填充\n    if (hasFill) {\n      return inBox(0, 0, width, height, position.x, position.y);\n    }\n    if (hasStroke) {\n      return inRect(0, 0, width, height, lineWidthForHitTesting, position.x, position.y);\n    }\n  } else {\n    var isHit = false;\n    if (hasStroke || isClipPath) {\n      isHit = inRectWithRadius(0, 0, width, height, radius.map(function (r) {\n        return clamp(r, 0, Math.min(Math.abs(width) / 2, Math.abs(height) / 2));\n      }), lineWidthForHitTesting, position.x, position.y);\n    }\n    // 仅填充时带有圆角的矩形直接通过图形拾取\n    // 以后可以改成纯数学的近似拾取，将圆弧切割成多边形\n    if (!isHit && (hasFill || isClipPath)) {\n      isHit = isPointInPath(runtime, displayObject, position);\n    }\n    return isHit;\n  }\n  return false;\n}\nfunction inRectWithRadius(minX, minY, width, height, radiusArray, lineWidth, x, y) {\n  var tlr = radiusArray[0],\n    trr = radiusArray[1],\n    brr = radiusArray[2],\n    blr = radiusArray[3];\n  return inLine(minX + tlr, minY, minX + width - trr, minY, lineWidth, x, y) || inLine(minX + width, minY + trr, minX + width, minY + height - brr, lineWidth, x, y) || inLine(minX + width - brr, minY + height, minX + blr, minY + height, lineWidth, x, y) || inLine(minX, minY + height - blr, minX, minY + tlr, lineWidth, x, y) || inArc(minX + width - trr, minY + trr, trr, 1.5 * Math.PI, 2 * Math.PI, lineWidth, x, y) || inArc(minX + width - brr, minY + height - brr, brr, 0, 0.5 * Math.PI, lineWidth, x, y) || inArc(minX + blr, minY + height - blr, blr, 0.5 * Math.PI, Math.PI, lineWidth, x, y) || inArc(minX + tlr, minY + tlr, tlr, Math.PI, 1.5 * Math.PI, lineWidth, x, y);\n}\n\nvar Plugin = /*#__PURE__*/function (_AbstractRendererPlug) {\n  _inheritsLoose(Plugin, _AbstractRendererPlug);\n  function Plugin() {\n    var _this;\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _AbstractRendererPlug.call.apply(_AbstractRendererPlug, [this].concat(args)) || this;\n    _this.name = 'canvas-picker';\n    return _this;\n  }\n  var _proto = Plugin.prototype;\n  _proto.init = function init() {\n    var _pointInPathPickerFac;\n    var trueFunc = function trueFunc() {\n      return true;\n    };\n    var pointInPathPickerFactory = (_pointInPathPickerFac = {}, _pointInPathPickerFac[Shape.CIRCLE] = isPointInPath, _pointInPathPickerFac[Shape.ELLIPSE] = isPointInPath$1, _pointInPathPickerFac[Shape.RECT] = isPointInPath$6, _pointInPathPickerFac[Shape.LINE] = isPointInPath$2, _pointInPathPickerFac[Shape.POLYLINE] = isPointInPath$5, _pointInPathPickerFac[Shape.POLYGON] = isPointInPath$4, _pointInPathPickerFac[Shape.PATH] = isPointInPath$3, _pointInPathPickerFac[Shape.TEXT] = trueFunc, _pointInPathPickerFac[Shape.GROUP] = null, _pointInPathPickerFac[Shape.IMAGE] = trueFunc, _pointInPathPickerFac[Shape.HTML] = null, _pointInPathPickerFac[Shape.MESH] = null, _pointInPathPickerFac);\n    // @ts-ignore\n    this.context.pointInPathPickerFactory = pointInPathPickerFactory;\n    this.addRenderingPlugin(new CanvasPickerPlugin());\n  };\n  _proto.destroy = function destroy() {\n    // @ts-ignore\n    delete this.context.pointInPathPickerFactory;\n    this.removeAllRenderingPlugins();\n  };\n  return Plugin;\n}(AbstractRendererPlugin);\n\nexport { Plugin };\n", "import { ElementEvent, AABB, CustomEvent, CanvasEvent, Shape, isPattern, GradientType, AbstractRendererPlugin } from '@antv/g-lite';\nimport { isNil, isString } from '@antv/util';\nimport { mat4, vec3 } from 'gl-matrix';\n\nfunction _regeneratorRuntime() {\n  _regeneratorRuntime = function () {\n    return exports;\n  };\n  var exports = {},\n    Op = Object.prototype,\n    hasOwn = Op.hasOwnProperty,\n    defineProperty = Object.defineProperty || function (obj, key, desc) {\n      obj[key] = desc.value;\n    },\n    $Symbol = \"function\" == typeof Symbol ? Symbol : {},\n    iteratorSymbol = $Symbol.iterator || \"@@iterator\",\n    asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\",\n    toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), obj[key];\n  }\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function (obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator,\n      generator = Object.create(protoGenerator.prototype),\n      context = new Context(tryLocsList || []);\n    return defineProperty(generator, \"_invoke\", {\n      value: makeInvokeMethod(innerFn, self, context)\n    }), generator;\n  }\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf,\n    NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function (method) {\n      define(prototype, method, function (arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (\"throw\" !== record.type) {\n        var result = record.arg,\n          value = result.value;\n        return value && \"object\" == typeof value && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) {\n          invoke(\"next\", value, resolve, reject);\n        }, function (err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function (unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function (error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n      reject(record.arg);\n    }\n    var previousPromise;\n    defineProperty(this, \"_invoke\", {\n      value: function (method, arg) {\n        function callInvokeWithMethodAndArg() {\n          return new PromiseImpl(function (resolve, reject) {\n            invoke(method, arg, resolve, reject);\n          });\n        }\n        return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = \"suspendedStart\";\n    return function (method, arg) {\n      if (\"executing\" === state) throw new Error(\"Generator is already running\");\n      if (\"completed\" === state) {\n        if (\"throw\" === method) throw arg;\n        return doneResult();\n      }\n      for (context.method = method, context.arg = arg;;) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n        if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) {\n          if (\"suspendedStart\" === state) throw state = \"completed\", context.arg;\n          context.dispatchException(context.arg);\n        } else \"return\" === context.method && context.abrupt(\"return\", context.arg);\n        state = \"executing\";\n        var record = tryCatch(innerFn, self, context);\n        if (\"normal\" === record.type) {\n          if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue;\n          return {\n            value: record.arg,\n            done: context.done\n          };\n        }\n        \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(delegate, context) {\n    var methodName = context.method,\n      method = delegate.iterator[methodName];\n    if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator.return && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel;\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);\n  }\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next) return iterable;\n      if (!isNaN(iterable.length)) {\n        var i = -1,\n          next = function next() {\n            for (; ++i < iterable.length;) if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next;\n            return next.value = undefined, next.done = !0, next;\n          };\n        return next.next = next;\n      }\n    }\n    return {\n      next: doneResult\n    };\n  }\n  function doneResult() {\n    return {\n      value: undefined,\n      done: !0\n    };\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: !0\n  }), defineProperty(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: !0\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function (genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function (arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () {\n    return this;\n  }), define(Gp, \"toString\", function () {\n    return \"[object Generator]\";\n  }), exports.keys = function (val) {\n    var object = Object(val),\n      keys = [];\n    for (var key in object) keys.push(key);\n    return keys.reverse(), function next() {\n      for (; keys.length;) {\n        var key = keys.pop();\n        if (key in object) return next.value = key, next.done = !1, next;\n      }\n      return next.done = !0, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function (skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined);\n    },\n    stop: function () {\n      this.done = !0;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type) throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function (exception) {\n      if (this.done) throw exception;\n      var context = this;\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught;\n      }\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i],\n          record = entry.completion;\n        if (\"root\" === entry.tryLoc) return handle(\"end\");\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"),\n            hasFinally = hasOwn.call(entry, \"finallyLoc\");\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n          } else {\n            if (!hasFinally) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function (type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function (record, afterLoc) {\n      if (\"throw\" === record.type) throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function (finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    catch: function (tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function (iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel;\n    }\n  }, exports;\n}\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(undefined);\n    });\n  };\n}\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  _setPrototypeOf(subClass, superClass);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\n\n/**\r\n * support 2 modes in rendering:\r\n * * immediate\r\n * * delayed: render at the end of frame with dirty-rectangle\r\n */\nvar CanvasRendererPlugin = /*#__PURE__*/function () {\n  /**\r\n   * RBush used in dirty rectangle rendering\r\n   */\n\n  function CanvasRendererPlugin(canvasRendererPluginOptions) {\n    this.canvasRendererPluginOptions = void 0;\n    this.context = void 0;\n    this.pathGeneratorFactory = void 0;\n    this.rBush = void 0;\n    this.removedRBushNodeAABBs = [];\n    this.renderQueue = [];\n    this.restoreStack = [];\n    this.clearFullScreen = false;\n    this.vpMatrix = mat4.create();\n    this.dprMatrix = mat4.create();\n    this.tmpMat4 = mat4.create();\n    this.vec3a = vec3.create();\n    this.vec3b = vec3.create();\n    this.vec3c = vec3.create();\n    this.vec3d = vec3.create();\n    this.canvasRendererPluginOptions = canvasRendererPluginOptions;\n  }\n  var _proto = CanvasRendererPlugin.prototype;\n  _proto.apply = function apply(context, runtime) {\n    var _this = this;\n    this.context = context;\n    var config = context.config,\n      camera = context.camera,\n      renderingService = context.renderingService,\n      renderingContext = context.renderingContext,\n      rBushRoot = context.rBushRoot,\n      pathGeneratorFactory = context.pathGeneratorFactory;\n    this.rBush = rBushRoot;\n    this.pathGeneratorFactory = pathGeneratorFactory;\n    var contextService = context.contextService;\n    var canvas = renderingContext.root.ownerDocument.defaultView;\n    var handleUnmounted = function handleUnmounted(e) {\n      var object = e.target;\n      // remove r-bush node\n      // @ts-ignore\n      var rBushNode = object.rBushNode;\n      if (rBushNode.aabb) {\n        // save removed aabbs for dirty-rectangle rendering later\n        _this.removedRBushNodeAABBs.push(rBushNode.aabb);\n      }\n    };\n    var handleCulled = function handleCulled(e) {\n      var object = e.target;\n      // @ts-ignore\n      var rBushNode = object.rBushNode;\n      if (rBushNode.aabb) {\n        // save removed aabbs for dirty-rectangle rendering later\n        _this.removedRBushNodeAABBs.push(rBushNode.aabb);\n      }\n    };\n    renderingService.hooks.init.tapPromise(CanvasRendererPlugin.tag, /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var dpr, width, height, context;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              canvas.addEventListener(ElementEvent.UNMOUNTED, handleUnmounted);\n              canvas.addEventListener(ElementEvent.CULLED, handleCulled);\n              // clear fullscreen\n              dpr = contextService.getDPR();\n              width = config.width, height = config.height;\n              context = contextService.getContext();\n              _this.clearRect(context, 0, 0, width * dpr, height * dpr, config.background);\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    })));\n    renderingService.hooks.destroy.tap(CanvasRendererPlugin.tag, function () {\n      canvas.removeEventListener(ElementEvent.UNMOUNTED, handleUnmounted);\n      canvas.removeEventListener(ElementEvent.CULLED, handleCulled);\n      // this.renderQueue = [];\n      // this.removedRBushNodeAABBs = [];\n      // this.restoreStack = [];\n    });\n\n    renderingService.hooks.beginFrame.tap(CanvasRendererPlugin.tag, function () {\n      var context = contextService.getContext();\n      var dpr = contextService.getDPR();\n      var width = config.width,\n        height = config.height;\n      var _this$canvasRendererP = _this.canvasRendererPluginOptions,\n        dirtyObjectNumThreshold = _this$canvasRendererP.dirtyObjectNumThreshold,\n        dirtyObjectRatioThreshold = _this$canvasRendererP.dirtyObjectRatioThreshold;\n      // some heuristic conditions such as 80% object changed\n      var _renderingService$get = renderingService.getStats(),\n        total = _renderingService$get.total,\n        rendered = _renderingService$get.rendered;\n      var ratio = rendered / total;\n      _this.clearFullScreen = renderingService.disableDirtyRectangleRendering() || rendered > dirtyObjectNumThreshold && ratio > dirtyObjectRatioThreshold;\n      if (context) {\n        context.resetTransform();\n        if (_this.clearFullScreen) {\n          _this.clearRect(context, 0, 0, width * dpr, height * dpr, config.background);\n        }\n      }\n    });\n    var renderByZIndex = function renderByZIndex(object, context) {\n      if (object.isVisible() && !object.isCulled()) {\n        _this.renderDisplayObject(object, context, _this.context, _this.restoreStack, runtime);\n        // if we did a full screen rendering last frame\n        _this.saveDirtyAABB(object);\n      }\n      var sorted = object.sortable.sorted || object.childNodes;\n      // should account for z-index\n      sorted.forEach(function (child) {\n        renderByZIndex(child, context);\n      });\n    };\n    // render at the end of frame\n    renderingService.hooks.endFrame.tap(CanvasRendererPlugin.tag, function () {\n      var context = contextService.getContext();\n      // clear & clip dirty rectangle\n      var dpr = contextService.getDPR();\n      mat4.fromScaling(_this.dprMatrix, [dpr, dpr, 1]);\n      mat4.multiply(_this.vpMatrix, _this.dprMatrix, camera.getOrthoMatrix());\n      if (_this.clearFullScreen) {\n        renderByZIndex(renderingContext.root, context);\n      } else {\n        // merge removed AABB\n        var dirtyRenderBounds = _this.safeMergeAABB.apply(_this, [_this.mergeDirtyAABBs(_this.renderQueue)].concat(_this.removedRBushNodeAABBs.map(function (_ref2) {\n          var minX = _ref2.minX,\n            minY = _ref2.minY,\n            maxX = _ref2.maxX,\n            maxY = _ref2.maxY;\n          var aabb = new AABB();\n          aabb.setMinMax(\n          // vec3.fromValues(minX, minY, 0),\n          // vec3.fromValues(maxX, maxY, 0),\n          [minX, minY, 0], [maxX, maxY, 0]);\n          return aabb;\n        })));\n        _this.removedRBushNodeAABBs = [];\n        if (AABB.isEmpty(dirtyRenderBounds)) {\n          _this.renderQueue = [];\n          return;\n        }\n        var dirtyRect = _this.convertAABB2Rect(dirtyRenderBounds);\n        var x = dirtyRect.x,\n          y = dirtyRect.y,\n          width = dirtyRect.width,\n          height = dirtyRect.height;\n        var tl = vec3.transformMat4(_this.vec3a, [x, y, 0], _this.vpMatrix);\n        var tr = vec3.transformMat4(_this.vec3b, [x + width, y, 0], _this.vpMatrix);\n        var bl = vec3.transformMat4(_this.vec3c, [x, y + height, 0], _this.vpMatrix);\n        var br = vec3.transformMat4(_this.vec3d, [x + width, y + height, 0], _this.vpMatrix);\n        var minx = Math.min(tl[0], tr[0], br[0], bl[0]);\n        var miny = Math.min(tl[1], tr[1], br[1], bl[1]);\n        var maxx = Math.max(tl[0], tr[0], br[0], bl[0]);\n        var maxy = Math.max(tl[1], tr[1], br[1], bl[1]);\n        var ix = Math.floor(minx);\n        var iy = Math.floor(miny);\n        var iwidth = Math.ceil(maxx - minx);\n        var iheight = Math.ceil(maxy - miny);\n        context.save();\n        _this.clearRect(context, ix, iy, iwidth, iheight, config.background);\n        context.beginPath();\n        context.rect(ix, iy, iwidth, iheight);\n        context.clip();\n        // @see https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial/Transformations\n        context.setTransform(_this.vpMatrix[0], _this.vpMatrix[1], _this.vpMatrix[4], _this.vpMatrix[5], _this.vpMatrix[12], _this.vpMatrix[13]);\n        // draw dirty rectangle\n        var _config$renderer$getC = config.renderer.getConfig(),\n          enableDirtyRectangleRenderingDebug = _config$renderer$getC.enableDirtyRectangleRenderingDebug;\n        if (enableDirtyRectangleRenderingDebug) {\n          canvas.dispatchEvent(new CustomEvent(CanvasEvent.DIRTY_RECTANGLE, {\n            dirtyRect: {\n              x: ix,\n              y: iy,\n              width: iwidth,\n              height: iheight\n            }\n          }));\n        }\n        // search objects intersect with dirty rectangle\n        var dirtyObjects = _this.searchDirtyObjects(runtime, dirtyRenderBounds);\n        // do rendering\n        dirtyObjects\n        // sort by z-index\n        .sort(function (a, b) {\n          return a.sortable.renderOrder - b.sortable.renderOrder;\n        }).forEach(function (object) {\n          // culled object should not be rendered\n          if (object && object.isVisible() && !object.isCulled()) {\n            _this.renderDisplayObject(object, context, _this.context, _this.restoreStack, runtime);\n          }\n        });\n        context.restore();\n        // save dirty AABBs in last frame\n        _this.renderQueue.forEach(function (object) {\n          _this.saveDirtyAABB(object);\n        });\n        // clear queue\n        _this.renderQueue = [];\n      }\n      // pop restore stack, eg. root -> parent -> child\n      _this.restoreStack.forEach(function () {\n        context.restore();\n      });\n      // clear restore stack\n      _this.restoreStack = [];\n    });\n    renderingService.hooks.render.tap(CanvasRendererPlugin.tag, function (object) {\n      if (!_this.clearFullScreen) {\n        // render at the end of frame\n        _this.renderQueue.push(object);\n      }\n    });\n  };\n  _proto.clearRect = function clearRect(context, x, y, width, height, background) {\n    // clearRect is faster than fillRect @see https://stackoverflow.com/a/30830253\n    context.clearRect(x, y, width, height);\n    if (background) {\n      context.fillStyle = background;\n      context.fillRect(x, y, width, height);\n    }\n  };\n  _proto.renderDisplayObject = function renderDisplayObject(object, context, canvasContext, restoreStack, runtime) {\n    var nodeName = object.nodeName;\n    // restore to its ancestor\n    var parent = restoreStack[restoreStack.length - 1];\n    if (parent && !(object.compareDocumentPosition(parent) & Node.DOCUMENT_POSITION_CONTAINS)) {\n      context.restore();\n      restoreStack.pop();\n    }\n    // @ts-ignore\n    var styleRenderer = this.context.styleRendererFactory[nodeName];\n    var generatePath = this.pathGeneratorFactory[nodeName];\n    // clip path\n    var clipPath = object.parsedStyle.clipPath;\n    if (clipPath) {\n      this.applyWorldTransform(context, clipPath);\n      // generate path in local space\n      var _generatePath = this.pathGeneratorFactory[clipPath.nodeName];\n      if (_generatePath) {\n        context.save();\n        // save clip\n        restoreStack.push(object);\n        context.beginPath();\n        _generatePath(context, clipPath.parsedStyle);\n        context.closePath();\n        context.clip();\n      }\n    }\n    // fill & stroke\n    if (styleRenderer) {\n      this.applyWorldTransform(context, object);\n      context.save();\n      // apply attributes to context\n      this.applyAttributesToContext(context, object);\n    }\n    if (generatePath) {\n      context.beginPath();\n      generatePath(context, object.parsedStyle);\n      if (object.nodeName !== Shape.LINE && object.nodeName !== Shape.PATH && object.nodeName !== Shape.POLYLINE) {\n        context.closePath();\n      }\n    }\n    // fill & stroke\n    if (styleRenderer) {\n      styleRenderer.render(context, object.parsedStyle, object, canvasContext, this, runtime);\n      // restore applied attributes, eg. shadowBlur shadowColor...\n      context.restore();\n    }\n    // finish rendering, clear dirty flag\n    object.renderable.dirty = false;\n  };\n  _proto.convertAABB2Rect = function convertAABB2Rect(aabb) {\n    var min = aabb.getMin();\n    var max = aabb.getMax();\n    // expand the rectangle a bit to avoid artifacts\n    // @see https://www.yuque.com/antv/ou292n/bi8nix#ExvCu\n    var minX = Math.floor(min[0]);\n    var minY = Math.floor(min[1]);\n    var maxX = Math.ceil(max[0]);\n    var maxY = Math.ceil(max[1]);\n    var width = maxX - minX;\n    var height = maxY - minY;\n    return {\n      x: minX,\n      y: minY,\n      width: width,\n      height: height\n    };\n  }\n  /**\r\n   * TODO: merge dirty rectangles with some strategies.\r\n   * For now, we just simply merge all the rectangles into one.\r\n   * @see https://idom.me/articles/841.html\r\n   */;\n  _proto.mergeDirtyAABBs = function mergeDirtyAABBs(dirtyObjects) {\n    // merge into a big AABB\n    // TODO: skip descendant if ancestor is caculated, but compareNodePosition is really slow\n    var aabb = new AABB();\n    dirtyObjects.forEach(function (object) {\n      var renderBounds = object.getRenderBounds();\n      aabb.add(renderBounds);\n      var dirtyRenderBounds = object.renderable.dirtyRenderBounds;\n      if (dirtyRenderBounds) {\n        aabb.add(dirtyRenderBounds);\n      }\n    });\n    return aabb;\n  };\n  _proto.searchDirtyObjects = function searchDirtyObjects(runtime, dirtyRectangle) {\n    // search in r-tree, get all affected nodes\n    var _dirtyRectangle$getMi = dirtyRectangle.getMin(),\n      minX = _dirtyRectangle$getMi[0],\n      minY = _dirtyRectangle$getMi[1];\n    var _dirtyRectangle$getMa = dirtyRectangle.getMax(),\n      maxX = _dirtyRectangle$getMa[0],\n      maxY = _dirtyRectangle$getMa[1];\n    var rBushNodes = this.rBush.search({\n      minX: minX,\n      minY: minY,\n      maxX: maxX,\n      maxY: maxY\n    });\n    return rBushNodes.map(function (_ref3) {\n      var id = _ref3.id;\n      return runtime.displayObjectPool.getByEntity(id);\n    });\n  };\n  _proto.saveDirtyAABB = function saveDirtyAABB(object) {\n    var renderable = object.renderable;\n    if (!renderable.dirtyRenderBounds) {\n      renderable.dirtyRenderBounds = new AABB();\n    }\n    var renderBounds = object.getRenderBounds();\n    if (renderBounds) {\n      // save last dirty aabb\n      renderable.dirtyRenderBounds.update(renderBounds.center, renderBounds.halfExtents);\n    }\n  }\n  /**\r\n   * TODO: batch the same global attributes\r\n   */;\n  _proto.applyAttributesToContext = function applyAttributesToContext(context, object) {\n    var _object$parsedStyle = object.parsedStyle,\n      stroke = _object$parsedStyle.stroke,\n      fill = _object$parsedStyle.fill,\n      opacity = _object$parsedStyle.opacity,\n      lineDash = _object$parsedStyle.lineDash,\n      lineDashOffset = _object$parsedStyle.lineDashOffset;\n    // @see https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/setLineDash\n    if (lineDash) {\n      context.setLineDash(lineDash);\n    }\n    // @see https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/lineDashOffset\n    if (!isNil(lineDashOffset)) {\n      context.lineDashOffset = lineDashOffset;\n    }\n    if (!isNil(opacity)) {\n      context.globalAlpha *= opacity;\n    }\n    if (!isNil(stroke) && !Array.isArray(stroke) && !stroke.isNone) {\n      context.strokeStyle = object.attributes.stroke;\n    }\n    if (!isNil(fill) && !Array.isArray(fill) && !fill.isNone) {\n      context.fillStyle = object.attributes.fill;\n    }\n  };\n  _proto.applyWorldTransform = function applyWorldTransform(context, object, matrix) {\n    var tx = 0;\n    var ty = 0;\n    var _ref4 = object.parsedStyle || {},\n      anchor = _ref4.anchor;\n    var anchorX = anchor && anchor[0] || 0;\n    var anchorY = anchor && anchor[1] || 0;\n    if (anchorX !== 0 || anchorY !== 0) {\n      var bounds = object.getGeometryBounds();\n      var width = bounds && bounds.halfExtents[0] * 2 || 0;\n      var height = bounds && bounds.halfExtents[1] * 2 || 0;\n      tx = -(anchorX * width);\n      ty = -(anchorY * height);\n    }\n    // apply clip shape's RTS\n    if (matrix) {\n      mat4.copy(this.tmpMat4, object.getLocalTransform());\n      this.vec3a[0] = tx;\n      this.vec3a[1] = ty;\n      this.vec3a[2] = 0;\n      mat4.translate(this.tmpMat4, this.tmpMat4, this.vec3a);\n      mat4.multiply(this.tmpMat4, matrix, this.tmpMat4);\n      mat4.multiply(this.tmpMat4, this.vpMatrix, this.tmpMat4);\n    } else {\n      // apply RTS transformation in world space\n      mat4.copy(this.tmpMat4, object.getWorldTransform());\n      this.vec3a[0] = tx;\n      this.vec3a[1] = ty;\n      this.vec3a[2] = 0;\n      mat4.translate(this.tmpMat4, this.tmpMat4, this.vec3a);\n      mat4.multiply(this.tmpMat4, this.vpMatrix, this.tmpMat4);\n    }\n    // @see https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial/Transformations\n    context.setTransform(this.tmpMat4[0], this.tmpMat4[1], this.tmpMat4[4], this.tmpMat4[5], this.tmpMat4[12], this.tmpMat4[13]);\n  };\n  _proto.safeMergeAABB = function safeMergeAABB() {\n    var merged = new AABB();\n    for (var _len = arguments.length, aabbs = new Array(_len), _key = 0; _key < _len; _key++) {\n      aabbs[_key] = arguments[_key];\n    }\n    aabbs.forEach(function (aabb) {\n      merged.add(aabb);\n    });\n    return merged;\n  };\n  return CanvasRendererPlugin;\n}();\nCanvasRendererPlugin.tag = 'CanvasRenderer';\n\nvar DefaultRenderer = /*#__PURE__*/function () {\n  function DefaultRenderer(imagePool) {\n    this.imagePool = void 0;\n    this.imagePool = imagePool;\n  }\n  var _proto = DefaultRenderer.prototype;\n  _proto.render = function render(context, parsedStyle, object, canvasContext, plugin, runtime) {\n    var fill = parsedStyle.fill,\n      fillRule = parsedStyle.fillRule,\n      opacity = parsedStyle.opacity,\n      fillOpacity = parsedStyle.fillOpacity,\n      stroke = parsedStyle.stroke,\n      strokeOpacity = parsedStyle.strokeOpacity,\n      lineWidth = parsedStyle.lineWidth,\n      lineCap = parsedStyle.lineCap,\n      lineJoin = parsedStyle.lineJoin,\n      shadowType = parsedStyle.shadowType,\n      shadowColor = parsedStyle.shadowColor,\n      shadowBlur = parsedStyle.shadowBlur,\n      filter = parsedStyle.filter,\n      miterLimit = parsedStyle.miterLimit;\n    var hasFill = !isNil(fill) && !fill.isNone;\n    var hasStroke = !isNil(stroke) && !stroke.isNone && lineWidth > 0;\n    var isFillTransparent = fill.alpha === 0;\n    var hasFilter = !!(filter && filter.length);\n    var hasShadow = !isNil(shadowColor) && shadowBlur > 0;\n    var nodeName = object.nodeName;\n    var isInnerShadow = shadowType === 'inner';\n    var shouldDrawShadowWithStroke = hasStroke && hasShadow && (nodeName === Shape.PATH || nodeName === Shape.LINE || nodeName === Shape.POLYLINE || isFillTransparent || isInnerShadow);\n    if (hasFill) {\n      context.globalAlpha = opacity * fillOpacity;\n      if (!shouldDrawShadowWithStroke) {\n        setShadowAndFilter(object, context, hasShadow);\n      }\n      this.fill(context, object, fill, fillRule, canvasContext, plugin, runtime);\n      if (!shouldDrawShadowWithStroke) {\n        this.clearShadowAndFilter(context, hasFilter, hasShadow);\n      }\n    }\n    if (hasStroke) {\n      context.globalAlpha = opacity * strokeOpacity;\n      context.lineWidth = lineWidth;\n      if (!isNil(miterLimit)) {\n        context.miterLimit = miterLimit;\n      }\n      if (!isNil(lineCap)) {\n        context.lineCap = lineCap;\n      }\n      if (!isNil(lineJoin)) {\n        context.lineJoin = lineJoin;\n      }\n      if (shouldDrawShadowWithStroke) {\n        if (isInnerShadow) {\n          context.globalCompositeOperation = 'source-atop';\n        }\n        setShadowAndFilter(object, context, true);\n        if (isInnerShadow) {\n          this.stroke(context, object, stroke, canvasContext, plugin, runtime);\n          context.globalCompositeOperation = 'source-over';\n          this.clearShadowAndFilter(context, hasFilter, true);\n        }\n      }\n      this.stroke(context, object, stroke, canvasContext, plugin, runtime);\n    }\n  };\n  _proto.clearShadowAndFilter = function clearShadowAndFilter(context, hasFilter, hasShadow) {\n    if (hasShadow) {\n      context.shadowColor = 'transparent';\n      context.shadowBlur = 0;\n    }\n    if (hasFilter) {\n      // save drop-shadow filter\n      var oldFilter = context.filter;\n      if (!isNil(oldFilter) && oldFilter.indexOf('drop-shadow') > -1) {\n        context.filter = oldFilter.replace(/drop-shadow\\([^)]*\\)/, '').trim() || 'none';\n      }\n    }\n  };\n  _proto.fill = function fill(context, object, _fill, fillRule, canvasContext, plugin, runtime) {\n    var _this = this;\n    if (Array.isArray(_fill)) {\n      _fill.forEach(function (gradient) {\n        context.fillStyle = _this.getColor(gradient, object, context);\n        context.fill(fillRule);\n      });\n    } else {\n      if (isPattern(_fill)) {\n        context.fillStyle = this.getPattern(_fill, object, context, canvasContext, plugin, runtime);\n      }\n      context.fill(fillRule);\n    }\n  };\n  _proto.stroke = function stroke(context, object, _stroke, canvasContext, plugin, runtime) {\n    var _this2 = this;\n    if (Array.isArray(_stroke)) {\n      _stroke.forEach(function (gradient) {\n        context.strokeStyle = _this2.getColor(gradient, object, context);\n        context.stroke();\n      });\n    } else {\n      if (isPattern(_stroke)) {\n        context.strokeStyle = this.getPattern(_stroke, object, context, canvasContext, plugin, runtime);\n      }\n      context.stroke();\n    }\n  };\n  _proto.getPattern = function getPattern(pattern, object, context, canvasContext, plugin, runtime) {\n    var $offscreenCanvas;\n    var dpr;\n    if (pattern.image.nodeName === 'rect') {\n      var _pattern$image$parsed = pattern.image.parsedStyle,\n        width = _pattern$image$parsed.width,\n        height = _pattern$image$parsed.height;\n      dpr = canvasContext.contextService.getDPR();\n      var offscreenCanvas = canvasContext.config.offscreenCanvas;\n      $offscreenCanvas = runtime.offscreenCanvas.getOrCreateCanvas(offscreenCanvas);\n      $offscreenCanvas.width = width * dpr;\n      $offscreenCanvas.height = height * dpr;\n      var offscreenCanvasContext = runtime.offscreenCanvas.getOrCreateContext(offscreenCanvas);\n      var restoreStack = [];\n      // offscreenCanvasContext.scale(1 / dpr, 1 / dpr);\n      pattern.image.forEach(function (object) {\n        plugin.renderDisplayObject(object, offscreenCanvasContext, canvasContext, restoreStack, runtime);\n      });\n      restoreStack.forEach(function () {\n        offscreenCanvasContext.restore();\n      });\n    }\n    var canvasPattern = this.imagePool.getOrCreatePatternSync(pattern, context, $offscreenCanvas, dpr, function () {\n      // set dirty rectangle flag\n      object.renderable.dirty = true;\n      canvasContext.renderingService.dirtify();\n    });\n    return canvasPattern;\n  };\n  _proto.getColor = function getColor(parsedColor, object, context) {\n    var color;\n    if (parsedColor.type === GradientType.LinearGradient || parsedColor.type === GradientType.RadialGradient) {\n      var bounds = object.getGeometryBounds();\n      var width = bounds && bounds.halfExtents[0] * 2 || 1;\n      var height = bounds && bounds.halfExtents[1] * 2 || 1;\n      color = this.imagePool.getOrCreateGradient(_extends({\n        type: parsedColor.type\n      }, parsedColor.value, {\n        width: width,\n        height: height\n      }), context);\n    }\n    return color;\n  };\n  return DefaultRenderer;\n}();\n/**\r\n * apply before fill and stroke but only once\r\n */\nfunction setShadowAndFilter(object, context, hasShadow) {\n  var _object$parsedStyle = object.parsedStyle,\n    filter = _object$parsedStyle.filter,\n    shadowColor = _object$parsedStyle.shadowColor,\n    shadowBlur = _object$parsedStyle.shadowBlur,\n    shadowOffsetX = _object$parsedStyle.shadowOffsetX,\n    shadowOffsetY = _object$parsedStyle.shadowOffsetY;\n  if (filter && filter.length) {\n    // use raw filter string\n    context.filter = object.style.filter;\n  }\n  if (hasShadow) {\n    context.shadowColor = shadowColor.toString();\n    context.shadowBlur = shadowBlur || 0;\n    context.shadowOffsetX = shadowOffsetX || 0;\n    context.shadowOffsetY = shadowOffsetY || 0;\n  }\n}\n\nvar ImageRenderer = /*#__PURE__*/function () {\n  function ImageRenderer(imagePool) {\n    this.imagePool = void 0;\n    this.imagePool = imagePool;\n  }\n  var _proto = ImageRenderer.prototype;\n  _proto.render = function render(context, parsedStyle, object) {\n    var width = parsedStyle.width,\n      height = parsedStyle.height,\n      img = parsedStyle.img,\n      shadowColor = parsedStyle.shadowColor,\n      shadowBlur = parsedStyle.shadowBlur;\n    var image;\n    var iw = width;\n    var ih = height;\n    if (isString(img)) {\n      // image has been loaded in `mounted` hook\n      image = this.imagePool.getImageSync(img);\n    } else {\n      iw || (iw = img.width);\n      ih || (ih = img.height);\n      image = img;\n    }\n    if (image) {\n      var hasShadow = !isNil(shadowColor) && shadowBlur > 0;\n      setShadowAndFilter(object, context, hasShadow);\n      // node-canvas will throw the following err:\n      // Error: Image given has not completed loading\n      try {\n        context.drawImage(image, 0, 0, iw, ih);\n      } catch (e) {}\n    }\n  };\n  return ImageRenderer;\n}();\n\nvar TextRenderer = /*#__PURE__*/function () {\n  function TextRenderer() {}\n  var _proto = TextRenderer.prototype;\n  _proto.render = function render(context, parsedStyle, object) {\n    var lineWidth = parsedStyle.lineWidth,\n      textAlign = parsedStyle.textAlign,\n      textBaseline = parsedStyle.textBaseline,\n      lineJoin = parsedStyle.lineJoin,\n      miterLimit = parsedStyle.miterLimit,\n      letterSpacing = parsedStyle.letterSpacing,\n      stroke = parsedStyle.stroke,\n      fill = parsedStyle.fill,\n      fillOpacity = parsedStyle.fillOpacity,\n      strokeOpacity = parsedStyle.strokeOpacity,\n      opacity = parsedStyle.opacity,\n      metrics = parsedStyle.metrics,\n      dx = parsedStyle.dx,\n      dy = parsedStyle.dy,\n      shadowColor = parsedStyle.shadowColor,\n      shadowBlur = parsedStyle.shadowBlur;\n    var font = metrics.font,\n      lines = metrics.lines,\n      height = metrics.height,\n      lineHeight = metrics.lineHeight,\n      lineMetrics = metrics.lineMetrics;\n    context.font = font;\n    context.lineWidth = lineWidth;\n    context.textAlign = textAlign === 'middle' ? 'center' : textAlign;\n    context.textBaseline = textBaseline;\n    context.lineJoin = lineJoin;\n    if (!isNil(miterLimit)) {\n      context.miterLimit = miterLimit;\n    }\n    var linePositionY = 0;\n    // handle vertical text baseline\n    if (textBaseline === 'middle') {\n      linePositionY = -height / 2 - lineHeight / 2;\n    } else if (textBaseline === 'bottom' || textBaseline === 'alphabetic' || textBaseline === 'ideographic') {\n      linePositionY = -height;\n    } else if (textBaseline === 'top' || textBaseline === 'hanging') {\n      linePositionY = -lineHeight;\n    }\n    // account for dx & dy\n    var offsetX = dx || 0;\n    linePositionY += dy || 0;\n    var hasShadow = !isNil(shadowColor) && shadowBlur > 0;\n    setShadowAndFilter(object, context, hasShadow);\n    // draw lines line by line\n    for (var i = 0; i < lines.length; i++) {\n      var linePositionX = lineWidth / 2 + offsetX;\n      linePositionY += lineHeight;\n      // no need to re-position X, cause we already set text align\n      // @see https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/textAlign\n      if (!isNil(stroke) && !stroke.isNone && lineWidth) {\n        this.drawLetterSpacing(context, lines[i], lineMetrics[i], textAlign, linePositionX, linePositionY, letterSpacing, fillOpacity, strokeOpacity, opacity, true);\n      }\n      if (!isNil(fill)) {\n        this.drawLetterSpacing(context, lines[i], lineMetrics[i], textAlign, linePositionX, linePositionY, letterSpacing, fillOpacity, strokeOpacity, opacity);\n      }\n    }\n  };\n  _proto.drawLetterSpacing = function drawLetterSpacing(context, text, lineMetrics, textAlign, x, y, letterSpacing, fillOpacity, strokeOpacity, opacity, isStroke) {\n    if (isStroke === void 0) {\n      isStroke = false;\n    }\n    // letterSpacing of 0 means normal, render all texts directly\n    if (letterSpacing === 0) {\n      if (isStroke) {\n        this.strokeText(context, text, x, y, strokeOpacity);\n      } else {\n        this.fillText(context, text, x, y, fillOpacity, opacity);\n      }\n      return;\n    }\n    // draw text using left align\n    var currentTextAlign = context.textAlign;\n    context.textAlign = 'left';\n    var currentPosition = x;\n    if (textAlign === 'center' || textAlign === 'middle') {\n      currentPosition = x - lineMetrics.width / 2;\n    } else if (textAlign === 'right' || textAlign === 'end') {\n      currentPosition = x - lineMetrics.width;\n    }\n    var stringArray = Array.from(text);\n    var previousWidth = context.measureText(text).width;\n    var currentWidth = 0;\n    for (var i = 0; i < stringArray.length; ++i) {\n      var currentChar = stringArray[i];\n      if (isStroke) {\n        this.strokeText(context, currentChar, currentPosition, y, strokeOpacity);\n      } else {\n        this.fillText(context, currentChar, currentPosition, y, fillOpacity, opacity);\n      }\n      currentWidth = context.measureText(text.substring(i + 1)).width;\n      currentPosition += previousWidth - currentWidth + letterSpacing;\n      previousWidth = currentWidth;\n    }\n    context.textAlign = currentTextAlign;\n  };\n  _proto.fillText = function fillText(context, text, x, y, fillOpacity, opacity) {\n    var currentGlobalAlpha;\n    var applyOpacity = !isNil(fillOpacity) && fillOpacity !== 1;\n    if (applyOpacity) {\n      currentGlobalAlpha = context.globalAlpha;\n      context.globalAlpha = fillOpacity * opacity;\n    }\n    context.fillText(text, x, y);\n    if (applyOpacity) {\n      context.globalAlpha = currentGlobalAlpha;\n    }\n  };\n  _proto.strokeText = function strokeText(context, text, x, y, strokeOpacity) {\n    var currentGlobalAlpha;\n    var applyOpacity = !isNil(strokeOpacity) && strokeOpacity !== 1;\n    if (applyOpacity) {\n      currentGlobalAlpha = context.globalAlpha;\n      context.globalAlpha = strokeOpacity;\n    }\n    context.strokeText(text, x, y);\n    if (applyOpacity) {\n      context.globalAlpha = currentGlobalAlpha;\n    }\n  };\n  return TextRenderer;\n}();\n\nvar RectRenderer = /*#__PURE__*/function (_DefaultRenderer) {\n  _inheritsLoose(RectRenderer, _DefaultRenderer);\n  function RectRenderer() {\n    return _DefaultRenderer.apply(this, arguments) || this;\n  }\n  return RectRenderer;\n}(DefaultRenderer);\n\nvar CircleRenderer = /*#__PURE__*/function (_DefaultRenderer) {\n  _inheritsLoose(CircleRenderer, _DefaultRenderer);\n  function CircleRenderer() {\n    return _DefaultRenderer.apply(this, arguments) || this;\n  }\n  return CircleRenderer;\n}(DefaultRenderer);\n\nvar EllipseRenderer = /*#__PURE__*/function (_DefaultRenderer) {\n  _inheritsLoose(EllipseRenderer, _DefaultRenderer);\n  function EllipseRenderer() {\n    return _DefaultRenderer.apply(this, arguments) || this;\n  }\n  return EllipseRenderer;\n}(DefaultRenderer);\n\nvar LineRenderer = /*#__PURE__*/function (_DefaultRenderer) {\n  _inheritsLoose(LineRenderer, _DefaultRenderer);\n  function LineRenderer() {\n    return _DefaultRenderer.apply(this, arguments) || this;\n  }\n  return LineRenderer;\n}(DefaultRenderer);\n\nvar PolylineRenderer = /*#__PURE__*/function (_DefaultRenderer) {\n  _inheritsLoose(PolylineRenderer, _DefaultRenderer);\n  function PolylineRenderer() {\n    return _DefaultRenderer.apply(this, arguments) || this;\n  }\n  return PolylineRenderer;\n}(DefaultRenderer);\n\nvar PolygonRenderer = /*#__PURE__*/function (_DefaultRenderer) {\n  _inheritsLoose(PolygonRenderer, _DefaultRenderer);\n  function PolygonRenderer() {\n    return _DefaultRenderer.apply(this, arguments) || this;\n  }\n  return PolygonRenderer;\n}(DefaultRenderer);\n\nvar PathRenderer = /*#__PURE__*/function (_DefaultRenderer) {\n  _inheritsLoose(PathRenderer, _DefaultRenderer);\n  function PathRenderer() {\n    return _DefaultRenderer.apply(this, arguments) || this;\n  }\n  return PathRenderer;\n}(DefaultRenderer);\n\nvar Plugin = /*#__PURE__*/function (_AbstractRendererPlug) {\n  _inheritsLoose(Plugin, _AbstractRendererPlug);\n  function Plugin(options) {\n    var _this;\n    if (options === void 0) {\n      options = {};\n    }\n    _this = _AbstractRendererPlug.call(this) || this;\n    _this.options = void 0;\n    _this.name = 'canvas-renderer';\n    _this.options = options;\n    return _this;\n  }\n  var _proto = Plugin.prototype;\n  _proto.init = function init() {\n    var _defaultStyleRenderer;\n    var canvasRendererPluginOptions = _extends({\n      dirtyObjectNumThreshold: 500,\n      dirtyObjectRatioThreshold: 0.8\n    }, this.options);\n    // @ts-ignore\n    var imagePool = this.context.imagePool;\n    var defaultRenderer = new DefaultRenderer(imagePool);\n    var defaultStyleRendererFactory = (_defaultStyleRenderer = {}, _defaultStyleRenderer[Shape.CIRCLE] = defaultRenderer, _defaultStyleRenderer[Shape.ELLIPSE] = defaultRenderer, _defaultStyleRenderer[Shape.RECT] = defaultRenderer, _defaultStyleRenderer[Shape.IMAGE] = new ImageRenderer(imagePool), _defaultStyleRenderer[Shape.TEXT] = new TextRenderer(), _defaultStyleRenderer[Shape.LINE] = defaultRenderer, _defaultStyleRenderer[Shape.POLYLINE] = defaultRenderer, _defaultStyleRenderer[Shape.POLYGON] = defaultRenderer, _defaultStyleRenderer[Shape.PATH] = defaultRenderer, _defaultStyleRenderer[Shape.GROUP] = undefined, _defaultStyleRenderer[Shape.HTML] = undefined, _defaultStyleRenderer[Shape.MESH] = undefined, _defaultStyleRenderer);\n    this.context.defaultStyleRendererFactory = defaultStyleRendererFactory;\n    this.context.styleRendererFactory = defaultStyleRendererFactory;\n    this.addRenderingPlugin(new CanvasRendererPlugin(canvasRendererPluginOptions));\n  };\n  _proto.destroy = function destroy() {\n    this.removeAllRenderingPlugins();\n    delete this.context.defaultStyleRendererFactory;\n    delete this.context.styleRendererFactory;\n  };\n  return Plugin;\n}(AbstractRendererPlugin);\n\nexport { CircleRenderer, EllipseRenderer, ImageRenderer, LineRenderer, PathRenderer, Plugin, PolygonRenderer, PolylineRenderer, RectRenderer, TextRenderer };\n", "import { isBrowser, parsedTransformToMat4, parseTransform, GradientType, computeLinearGradient, computeRadialGradient, UnitType, ElementEvent, Shape, AbstractRendererPlugin } from '@antv/g-lite';\nimport { isString } from '@antv/util';\n\nfunction _regeneratorRuntime() {\n  _regeneratorRuntime = function () {\n    return exports;\n  };\n  var exports = {},\n    Op = Object.prototype,\n    hasOwn = Op.hasOwnProperty,\n    defineProperty = Object.defineProperty || function (obj, key, desc) {\n      obj[key] = desc.value;\n    },\n    $Symbol = \"function\" == typeof Symbol ? Symbol : {},\n    iteratorSymbol = $Symbol.iterator || \"@@iterator\",\n    asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\",\n    toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), obj[key];\n  }\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function (obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator,\n      generator = Object.create(protoGenerator.prototype),\n      context = new Context(tryLocsList || []);\n    return defineProperty(generator, \"_invoke\", {\n      value: makeInvokeMethod(innerFn, self, context)\n    }), generator;\n  }\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf,\n    NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function (method) {\n      define(prototype, method, function (arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (\"throw\" !== record.type) {\n        var result = record.arg,\n          value = result.value;\n        return value && \"object\" == typeof value && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) {\n          invoke(\"next\", value, resolve, reject);\n        }, function (err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function (unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function (error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n      reject(record.arg);\n    }\n    var previousPromise;\n    defineProperty(this, \"_invoke\", {\n      value: function (method, arg) {\n        function callInvokeWithMethodAndArg() {\n          return new PromiseImpl(function (resolve, reject) {\n            invoke(method, arg, resolve, reject);\n          });\n        }\n        return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = \"suspendedStart\";\n    return function (method, arg) {\n      if (\"executing\" === state) throw new Error(\"Generator is already running\");\n      if (\"completed\" === state) {\n        if (\"throw\" === method) throw arg;\n        return doneResult();\n      }\n      for (context.method = method, context.arg = arg;;) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n        if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) {\n          if (\"suspendedStart\" === state) throw state = \"completed\", context.arg;\n          context.dispatchException(context.arg);\n        } else \"return\" === context.method && context.abrupt(\"return\", context.arg);\n        state = \"executing\";\n        var record = tryCatch(innerFn, self, context);\n        if (\"normal\" === record.type) {\n          if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue;\n          return {\n            value: record.arg,\n            done: context.done\n          };\n        }\n        \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(delegate, context) {\n    var methodName = context.method,\n      method = delegate.iterator[methodName];\n    if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator.return && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel;\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);\n  }\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next) return iterable;\n      if (!isNaN(iterable.length)) {\n        var i = -1,\n          next = function next() {\n            for (; ++i < iterable.length;) if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next;\n            return next.value = undefined, next.done = !0, next;\n          };\n        return next.next = next;\n      }\n    }\n    return {\n      next: doneResult\n    };\n  }\n  function doneResult() {\n    return {\n      value: undefined,\n      done: !0\n    };\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: !0\n  }), defineProperty(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: !0\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function (genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function (arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () {\n    return this;\n  }), define(Gp, \"toString\", function () {\n    return \"[object Generator]\";\n  }), exports.keys = function (val) {\n    var object = Object(val),\n      keys = [];\n    for (var key in object) keys.push(key);\n    return keys.reverse(), function next() {\n      for (; keys.length;) {\n        var key = keys.pop();\n        if (key in object) return next.value = key, next.done = !1, next;\n      }\n      return next.done = !0, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function (skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined);\n    },\n    stop: function () {\n      this.done = !0;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type) throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function (exception) {\n      if (this.done) throw exception;\n      var context = this;\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught;\n      }\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i],\n          record = entry.completion;\n        if (\"root\" === entry.tryLoc) return handle(\"end\");\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"),\n            hasFinally = hasOwn.call(entry, \"finallyLoc\");\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n          } else {\n            if (!hasFinally) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function (type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function (record, afterLoc) {\n      if (\"throw\" === record.type) throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function (finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    catch: function (tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function (iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel;\n    }\n  }, exports;\n}\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(undefined);\n    });\n  };\n}\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  _setPrototypeOf(subClass, superClass);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\n\n/**\n * Common utilities\n * @module glMatrix\n */\nvar ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n      i = arguments.length;\n\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n\n  return Math.sqrt(y);\n};\n\n/**\n * 4x4 Matrix<br>Format: column-major, when typed out it looks like row-major<br>The matrices are being post multiplied.\n * @module mat4\n */\n\n/**\n * Creates a new identity mat4\n *\n * @returns {mat4} a new 4x4 matrix\n */\n\nfunction create() {\n  var out = new ARRAY_TYPE(16);\n\n  if (ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n  }\n\n  out[0] = 1;\n  out[5] = 1;\n  out[10] = 1;\n  out[15] = 1;\n  return out;\n}\n/**\n * Set a mat4 to the identity matrix\n *\n * @param {mat4} out the receiving matrix\n * @returns {mat4} out\n */\n\nfunction identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\n * Scales the mat4 by the dimensions in the given vec3 not using vectorization\n *\n * @param {mat4} out the receiving matrix\n * @param {ReadonlyMat4} a the matrix to scale\n * @param {ReadonlyVec3} v the vec3 to scale the matrix by\n * @returns {mat4} out\n **/\n\nfunction scale(out, a, v) {\n  var x = v[0],\n      y = v[1],\n      z = v[2];\n  out[0] = a[0] * x;\n  out[1] = a[1] * x;\n  out[2] = a[2] * x;\n  out[3] = a[3] * x;\n  out[4] = a[4] * y;\n  out[5] = a[5] * y;\n  out[6] = a[6] * y;\n  out[7] = a[7] * y;\n  out[8] = a[8] * z;\n  out[9] = a[9] * z;\n  out[10] = a[10] * z;\n  out[11] = a[11] * z;\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n\nvar ImagePool = /*#__PURE__*/function () {\n  function ImagePool(canvasConfig) {\n    this.canvasConfig = void 0;\n    this.imageCache = {};\n    this.gradientCache = {};\n    this.patternCache = {};\n    this.canvasConfig = canvasConfig;\n  }\n  var _proto = ImagePool.prototype;\n  _proto.getImageSync = function getImageSync(src, callback) {\n    if (!this.imageCache[src]) {\n      this.getOrCreateImage(src).then(function () {\n        if (callback) {\n          callback();\n        }\n      });\n    } else {\n      if (callback) {\n        callback();\n      }\n    }\n    return this.imageCache[src];\n  };\n  _proto.getOrCreateImage = function getOrCreateImage(src) {\n    var _this = this;\n    if (this.imageCache[src]) {\n      return Promise.resolve(this.imageCache[src]);\n    }\n    // @see https://github.com/antvis/g/issues/938\n    var createImage = this.canvasConfig.createImage;\n    return new Promise(function (resolve, reject) {\n      var image;\n      if (createImage) {\n        image = createImage(src);\n      } else if (isBrowser) {\n        image = new window.Image();\n      }\n      if (image) {\n        image.onload = function () {\n          resolve(image);\n        };\n        image.onerror = function (ev) {\n          reject(ev);\n        };\n        image.crossOrigin = 'Anonymous';\n        image.src = src;\n        _this.imageCache[src] = image;\n      }\n    });\n  };\n  _proto.getOrCreatePatternSync = function getOrCreatePatternSync(pattern, context, $offscreenCanvas, dpr, callback) {\n    var patternKey = this.generatePatternKey(pattern);\n    if (patternKey && this.patternCache[patternKey]) {\n      return this.patternCache[patternKey];\n    }\n    var image = pattern.image,\n      repetition = pattern.repetition,\n      transform = pattern.transform;\n    var src;\n    var needScaleWithDPR = false;\n    // Image URL\n    if (isString(image)) {\n      src = this.getImageSync(image, callback);\n    } else if ($offscreenCanvas) {\n      src = $offscreenCanvas;\n      needScaleWithDPR = true;\n    } else {\n      src = image;\n    }\n    // @see https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/createPattern\n    var canvasPattern = src && context.createPattern(src, repetition);\n    if (canvasPattern) {\n      var mat;\n      // @see https://developer.mozilla.org/en-US/docs/Web/API/CanvasPattern/setTransform\n      if (transform) {\n        mat = parsedTransformToMat4(parseTransform(transform));\n      } else {\n        mat = identity(create());\n      }\n      if (needScaleWithDPR) {\n        scale(mat, mat, [1 / dpr, 1 / dpr, 1]);\n      }\n      canvasPattern.setTransform({\n        a: mat[0],\n        b: mat[1],\n        c: mat[4],\n        d: mat[5],\n        e: mat[12],\n        f: mat[13]\n      });\n    }\n    if (patternKey && canvasPattern) {\n      this.patternCache[patternKey] = canvasPattern;\n    }\n    return canvasPattern;\n  };\n  _proto.getOrCreateGradient = function getOrCreateGradient(params, context) {\n    var key = this.generateGradientKey(params);\n    var type = params.type,\n      steps = params.steps,\n      width = params.width,\n      height = params.height,\n      angle = params.angle,\n      cx = params.cx,\n      cy = params.cy,\n      size = params.size;\n    if (this.gradientCache[key]) {\n      return this.gradientCache[key];\n    }\n    var gradient = null;\n    if (type === GradientType.LinearGradient) {\n      var _computeLinearGradien = computeLinearGradient(width, height, angle),\n        x1 = _computeLinearGradien.x1,\n        y1 = _computeLinearGradien.y1,\n        x2 = _computeLinearGradien.x2,\n        y2 = _computeLinearGradien.y2;\n      // @see https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/createLinearGradient\n      gradient = context.createLinearGradient(x1, y1, x2, y2);\n    } else if (type === GradientType.RadialGradient) {\n      var _computeRadialGradien = computeRadialGradient(width, height, cx, cy, size),\n        x = _computeRadialGradien.x,\n        y = _computeRadialGradien.y,\n        r = _computeRadialGradien.r;\n      // @see https://developer.mozilla.org/zh-CN/docs/Web/API/CanvasRenderingContext2D/createRadialGradient\n      gradient = context.createRadialGradient(x, y, 0, x, y, r);\n    }\n    if (gradient) {\n      steps.forEach(function (_ref) {\n        var offset = _ref.offset,\n          color = _ref.color;\n        if (offset.unit === UnitType.kPercentage) {\n          var _gradient;\n          (_gradient = gradient) === null || _gradient === void 0 ? void 0 : _gradient.addColorStop(offset.value / 100, color.toString());\n        }\n      });\n      this.gradientCache[key] = gradient;\n    }\n    return this.gradientCache[key];\n  };\n  _proto.generateGradientKey = function generateGradientKey(params) {\n    var type = params.type,\n      width = params.width,\n      height = params.height,\n      steps = params.steps,\n      angle = params.angle,\n      cx = params.cx,\n      cy = params.cy,\n      size = params.size;\n    return \"gradient-\" + type + \"-\" + ((angle === null || angle === void 0 ? void 0 : angle.toString()) || 0) + \"-\" + ((cx === null || cx === void 0 ? void 0 : cx.toString()) || 0) + \"-\" + ((cy === null || cy === void 0 ? void 0 : cy.toString()) || 0) + \"-\" + ((size === null || size === void 0 ? void 0 : size.toString()) || 0) + \"-\" + width + \"-\" + height + \"-\" + steps.map(function (_ref2) {\n      var offset = _ref2.offset,\n        color = _ref2.color;\n      return \"\" + offset + color;\n    }).join('-');\n  };\n  _proto.generatePatternKey = function generatePatternKey(pattern) {\n    var image = pattern.image,\n      repetition = pattern.repetition;\n    // only generate cache for Image\n    if (isString(image)) {\n      return \"pattern-\" + image + \"-\" + repetition;\n    } else if (image.nodeName === 'rect') {\n      return \"pattern-\" + image.entity + \"-\" + repetition;\n    }\n  };\n  return ImagePool;\n}();\n\nvar LoadImagePlugin = /*#__PURE__*/function () {\n  function LoadImagePlugin() {}\n  var _proto = LoadImagePlugin.prototype;\n  _proto.apply = function apply(context) {\n    // @ts-ignore\n    var renderingService = context.renderingService,\n      renderingContext = context.renderingContext,\n      imagePool = context.imagePool;\n    var canvas = renderingContext.root.ownerDocument.defaultView;\n    var handleMounted = function handleMounted(e) {\n      var object = e.target;\n      var nodeName = object.nodeName,\n        attributes = object.attributes;\n      if (nodeName === Shape.IMAGE) {\n        var img = attributes.img;\n        if (isString(img)) {\n          imagePool.getImageSync(img, function () {\n            // set dirty rectangle flag\n            object.renderable.dirty = true;\n            renderingService.dirtify();\n          });\n        }\n      }\n    };\n    var handleAttributeChanged = function handleAttributeChanged(e) {\n      var object = e.target;\n      var attrName = e.attrName,\n        newValue = e.newValue;\n      if (object.nodeName === Shape.IMAGE) {\n        if (attrName === 'img') {\n          if (isString(newValue)) {\n            imagePool.getOrCreateImage(newValue).then(function () {\n              // set dirty rectangle flag\n              object.renderable.dirty = true;\n              renderingService.dirtify();\n            });\n          }\n        }\n      }\n    };\n    renderingService.hooks.init.tapPromise(LoadImagePlugin.tag, /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              canvas.addEventListener(ElementEvent.MOUNTED, handleMounted);\n              canvas.addEventListener(ElementEvent.ATTR_MODIFIED, handleAttributeChanged);\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    })));\n    renderingService.hooks.destroy.tap(LoadImagePlugin.tag, function () {\n      canvas.removeEventListener(ElementEvent.MOUNTED, handleMounted);\n      canvas.removeEventListener(ElementEvent.ATTR_MODIFIED, handleAttributeChanged);\n    });\n  };\n  return LoadImagePlugin;\n}();\nLoadImagePlugin.tag = 'LoadImage';\n\nvar Plugin = /*#__PURE__*/function (_AbstractRendererPlug) {\n  _inheritsLoose(Plugin, _AbstractRendererPlug);\n  function Plugin() {\n    var _this;\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _AbstractRendererPlug.call.apply(_AbstractRendererPlug, [this].concat(args)) || this;\n    _this.name = 'image-loader';\n    return _this;\n  }\n  var _proto = Plugin.prototype;\n  _proto.init = function init() {\n    // @ts-ignore\n    this.context.imagePool = new ImagePool(this.context.config);\n    this.addRenderingPlugin(new LoadImagePlugin());\n  };\n  _proto.destroy = function destroy() {\n    this.removeAllRenderingPlugins();\n  };\n  return Plugin;\n}(AbstractRendererPlugin);\n\nexport { ImagePool, Plugin };\n", "import { AbstractRendererPlugin } from '@antv/g-lite';\n\nfunction _regeneratorRuntime() {\n  _regeneratorRuntime = function () {\n    return exports;\n  };\n  var exports = {},\n    Op = Object.prototype,\n    hasOwn = Op.hasOwnProperty,\n    defineProperty = Object.defineProperty || function (obj, key, desc) {\n      obj[key] = desc.value;\n    },\n    $Symbol = \"function\" == typeof Symbol ? Symbol : {},\n    iteratorSymbol = $Symbol.iterator || \"@@iterator\",\n    asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\",\n    toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), obj[key];\n  }\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function (obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator,\n      generator = Object.create(protoGenerator.prototype),\n      context = new Context(tryLocsList || []);\n    return defineProperty(generator, \"_invoke\", {\n      value: makeInvokeMethod(innerFn, self, context)\n    }), generator;\n  }\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf,\n    NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function (method) {\n      define(prototype, method, function (arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (\"throw\" !== record.type) {\n        var result = record.arg,\n          value = result.value;\n        return value && \"object\" == typeof value && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) {\n          invoke(\"next\", value, resolve, reject);\n        }, function (err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function (unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function (error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n      reject(record.arg);\n    }\n    var previousPromise;\n    defineProperty(this, \"_invoke\", {\n      value: function (method, arg) {\n        function callInvokeWithMethodAndArg() {\n          return new PromiseImpl(function (resolve, reject) {\n            invoke(method, arg, resolve, reject);\n          });\n        }\n        return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = \"suspendedStart\";\n    return function (method, arg) {\n      if (\"executing\" === state) throw new Error(\"Generator is already running\");\n      if (\"completed\" === state) {\n        if (\"throw\" === method) throw arg;\n        return doneResult();\n      }\n      for (context.method = method, context.arg = arg;;) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n        if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) {\n          if (\"suspendedStart\" === state) throw state = \"completed\", context.arg;\n          context.dispatchException(context.arg);\n        } else \"return\" === context.method && context.abrupt(\"return\", context.arg);\n        state = \"executing\";\n        var record = tryCatch(innerFn, self, context);\n        if (\"normal\" === record.type) {\n          if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue;\n          return {\n            value: record.arg,\n            done: context.done\n          };\n        }\n        \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(delegate, context) {\n    var methodName = context.method,\n      method = delegate.iterator[methodName];\n    if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator.return && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel;\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);\n  }\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next) return iterable;\n      if (!isNaN(iterable.length)) {\n        var i = -1,\n          next = function next() {\n            for (; ++i < iterable.length;) if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next;\n            return next.value = undefined, next.done = !0, next;\n          };\n        return next.next = next;\n      }\n    }\n    return {\n      next: doneResult\n    };\n  }\n  function doneResult() {\n    return {\n      value: undefined,\n      done: !0\n    };\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: !0\n  }), defineProperty(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: !0\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function (genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function (arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () {\n    return this;\n  }), define(Gp, \"toString\", function () {\n    return \"[object Generator]\";\n  }), exports.keys = function (val) {\n    var object = Object(val),\n      keys = [];\n    for (var key in object) keys.push(key);\n    return keys.reverse(), function next() {\n      for (; keys.length;) {\n        var key = keys.pop();\n        if (key in object) return next.value = key, next.done = !1, next;\n      }\n      return next.done = !0, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function (skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined);\n    },\n    stop: function () {\n      this.done = !0;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type) throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function (exception) {\n      if (this.done) throw exception;\n      var context = this;\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught;\n      }\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i],\n          record = entry.completion;\n        if (\"root\" === entry.tryLoc) return handle(\"end\");\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"),\n            hasFinally = hasOwn.call(entry, \"finallyLoc\");\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n          } else {\n            if (!hasFinally) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function (type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function (record, afterLoc) {\n      if (\"throw\" === record.type) throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function (finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    catch: function (tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function (iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel;\n    }\n  }, exports;\n}\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(undefined);\n    });\n  };\n}\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  _setPrototypeOf(subClass, superClass);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\n\n/**\r\n * listen to mouse/touch/pointer events on DOM wrapper, trigger pointer events\r\n */\nvar MobileInteractionPlugin = /*#__PURE__*/function () {\n  function MobileInteractionPlugin() {}\n  var _proto = MobileInteractionPlugin.prototype;\n  _proto.apply = function apply(context) {\n    var renderingService = context.renderingService,\n      contextService = context.contextService;\n    // 获取小程序上下文\n    var canvasEl = contextService.getDomElement();\n    var onPointerDown = function onPointerDown(ev) {\n      renderingService.hooks.pointerDown.call(ev);\n    };\n    var onPointerUp = function onPointerUp(ev) {\n      renderingService.hooks.pointerUp.call(ev);\n    };\n    var onPointerMove = function onPointerMove(ev) {\n      // 触发 G 定义的标准 pointerMove 事件\n      renderingService.hooks.pointerMove.call(ev);\n    };\n    var onPointerOver = function onPointerOver(ev) {\n      renderingService.hooks.pointerOver.call(ev);\n    };\n    var onPointerOut = function onPointerOut(ev) {\n      renderingService.hooks.pointerOut.call(ev);\n    };\n    var onPointerCancel = function onPointerCancel(ev) {\n      renderingService.hooks.pointerCancel.call(ev);\n    };\n    renderingService.hooks.init.tapPromise(MobileInteractionPlugin.tag, /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              // 基于小程序上下文的事件监听方式，绑定事件监听，可以参考下面基于 DOM 的方式\n              canvasEl.addEventListener('touchstart', onPointerDown, true);\n              canvasEl.addEventListener('touchend', onPointerUp, true);\n              canvasEl.addEventListener('touchmove', onPointerMove, true);\n              canvasEl.addEventListener('touchcancel', onPointerCancel, true);\n              // FIXME: 这里不应该只在 canvasEl 上监听 mousemove 和 mouseup，而应该在更高层级的节点上例如 document 监听。\n              // 否则无法判断是否移出了 canvasEl\n              // canvasEl.addEventListener('mousemove', onPointerMove, true);\n              // canvasEl.addEventListener('mousedown', onPointerDown, true);\n              canvasEl.addEventListener('mouseout', onPointerOut, true);\n              canvasEl.addEventListener('mouseover', onPointerOver, true);\n              // canvasEl.addEventListener('mouseup', onPointerUp, true);\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    })));\n    renderingService.hooks.destroy.tap(MobileInteractionPlugin.tag, function () {\n      // 基于小程序上下文的事件监听方式，移除事件监听\n      canvasEl.removeEventListener('touchstart', onPointerDown, true);\n      canvasEl.removeEventListener('touchend', onPointerUp, true);\n      canvasEl.removeEventListener('touchmove', onPointerMove, true);\n      canvasEl.removeEventListener('touchcancel', onPointerCancel, true);\n      // canvasEl.removeEventListener('mousemove', onPointerMove, true);\n      // canvasEl.removeEventListener('mousedown', onPointerDown, true);\n      canvasEl.removeEventListener('mouseout', onPointerOut, true);\n      canvasEl.removeEventListener('mouseover', onPointerOver, true);\n      // canvasEl.removeEventListener('mouseup', onPointerUp, true);\n    });\n  };\n  return MobileInteractionPlugin;\n}();\nMobileInteractionPlugin.tag = 'MobileInteraction';\n\nvar Plugin = /*#__PURE__*/function (_AbstractRendererPlug) {\n  _inheritsLoose(Plugin, _AbstractRendererPlug);\n  function Plugin() {\n    var _this;\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _AbstractRendererPlug.call.apply(_AbstractRendererPlug, [this].concat(args)) || this;\n    _this.name = 'mobile-interaction';\n    return _this;\n  }\n  var _proto = Plugin.prototype;\n  _proto.init = function init() {\n    this.addRenderingPlugin(new MobileInteractionPlugin());\n  };\n  _proto.destroy = function destroy() {\n    this.removeAllRenderingPlugins();\n  };\n  return Plugin;\n}(AbstractRendererPlugin);\n\nexport { Plugin };\n", "import { AbstractRendererPlugin, AbstractRenderer } from '@antv/g-lite';\nimport { Plugin as Plugin$2 } from '@antv/g-plugin-canvas-path-generator';\nimport { Plugin as Plugin$5 } from '@antv/g-plugin-canvas-picker';\nimport * as CanvasPicker from '@antv/g-plugin-canvas-picker';\nexport { CanvasPicker };\nimport { Plugin as Plugin$3 } from '@antv/g-plugin-canvas-renderer';\nimport * as CanvasRenderer from '@antv/g-plugin-canvas-renderer';\nexport { CanvasRenderer };\nimport { distanceSquareRoot, isNil } from '@antv/util';\nimport { Plugin as Plugin$1 } from '@antv/g-plugin-image-loader';\nimport { Plugin as Plugin$4 } from '@antv/g-plugin-mobile-interaction';\n\nfunction _regeneratorRuntime() {\n  _regeneratorRuntime = function () {\n    return exports;\n  };\n  var exports = {},\n    Op = Object.prototype,\n    hasOwn = Op.hasOwnProperty,\n    defineProperty = Object.defineProperty || function (obj, key, desc) {\n      obj[key] = desc.value;\n    },\n    $Symbol = \"function\" == typeof Symbol ? Symbol : {},\n    iteratorSymbol = $Symbol.iterator || \"@@iterator\",\n    asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\",\n    toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), obj[key];\n  }\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function (obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator,\n      generator = Object.create(protoGenerator.prototype),\n      context = new Context(tryLocsList || []);\n    return defineProperty(generator, \"_invoke\", {\n      value: makeInvokeMethod(innerFn, self, context)\n    }), generator;\n  }\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf,\n    NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function (method) {\n      define(prototype, method, function (arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (\"throw\" !== record.type) {\n        var result = record.arg,\n          value = result.value;\n        return value && \"object\" == typeof value && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) {\n          invoke(\"next\", value, resolve, reject);\n        }, function (err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function (unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function (error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n      reject(record.arg);\n    }\n    var previousPromise;\n    defineProperty(this, \"_invoke\", {\n      value: function (method, arg) {\n        function callInvokeWithMethodAndArg() {\n          return new PromiseImpl(function (resolve, reject) {\n            invoke(method, arg, resolve, reject);\n          });\n        }\n        return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = \"suspendedStart\";\n    return function (method, arg) {\n      if (\"executing\" === state) throw new Error(\"Generator is already running\");\n      if (\"completed\" === state) {\n        if (\"throw\" === method) throw arg;\n        return doneResult();\n      }\n      for (context.method = method, context.arg = arg;;) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n        if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) {\n          if (\"suspendedStart\" === state) throw state = \"completed\", context.arg;\n          context.dispatchException(context.arg);\n        } else \"return\" === context.method && context.abrupt(\"return\", context.arg);\n        state = \"executing\";\n        var record = tryCatch(innerFn, self, context);\n        if (\"normal\" === record.type) {\n          if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue;\n          return {\n            value: record.arg,\n            done: context.done\n          };\n        }\n        \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(delegate, context) {\n    var methodName = context.method,\n      method = delegate.iterator[methodName];\n    if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator.return && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel;\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);\n  }\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next) return iterable;\n      if (!isNaN(iterable.length)) {\n        var i = -1,\n          next = function next() {\n            for (; ++i < iterable.length;) if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next;\n            return next.value = undefined, next.done = !0, next;\n          };\n        return next.next = next;\n      }\n    }\n    return {\n      next: doneResult\n    };\n  }\n  function doneResult() {\n    return {\n      value: undefined,\n      done: !0\n    };\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: !0\n  }), defineProperty(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: !0\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function (genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function (arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () {\n    return this;\n  }), define(Gp, \"toString\", function () {\n    return \"[object Generator]\";\n  }), exports.keys = function (val) {\n    var object = Object(val),\n      keys = [];\n    for (var key in object) keys.push(key);\n    return keys.reverse(), function next() {\n      for (; keys.length;) {\n        var key = keys.pop();\n        if (key in object) return next.value = key, next.done = !1, next;\n      }\n      return next.done = !0, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function (skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined);\n    },\n    stop: function () {\n      this.done = !0;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type) throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function (exception) {\n      if (this.done) throw exception;\n      var context = this;\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught;\n      }\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i],\n          record = entry.completion;\n        if (\"root\" === entry.tryLoc) return handle(\"end\");\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"),\n            hasFinally = hasOwn.call(entry, \"finallyLoc\");\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n          } else {\n            if (!hasFinally) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function (type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function (record, afterLoc) {\n      if (\"throw\" === record.type) throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function (finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    catch: function (tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function (iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel;\n    }\n  }, exports;\n}\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(undefined);\n    });\n  };\n}\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  _setPrototypeOf(subClass, superClass);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\n\nfunction _regeneratorRuntime$1() {\n  _regeneratorRuntime$1 = function _regeneratorRuntime() {\n    return exports;\n  };\n  var exports = {},\n    Op = Object.prototype,\n    hasOwn = Op.hasOwnProperty,\n    defineProperty = Object.defineProperty || function (obj, key, desc) {\n      obj[key] = desc.value;\n    },\n    $Symbol = \"function\" == typeof Symbol ? Symbol : {},\n    iteratorSymbol = $Symbol.iterator || \"@@iterator\",\n    asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\",\n    toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), obj[key];\n  }\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function define(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator,\n      generator = Object.create(protoGenerator.prototype),\n      context = new Context(tryLocsList || []);\n    return defineProperty(generator, \"_invoke\", {\n      value: makeInvokeMethod(innerFn, self, context)\n    }), generator;\n  }\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf,\n    NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function (method) {\n      define(prototype, method, function (arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (\"throw\" !== record.type) {\n        var result = record.arg,\n          value = result.value;\n        return value && \"object\" == typeof value && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) {\n          invoke(\"next\", value, resolve, reject);\n        }, function (err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function (unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function (error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n      reject(record.arg);\n    }\n    var previousPromise;\n    defineProperty(this, \"_invoke\", {\n      value: function value(method, arg) {\n        function callInvokeWithMethodAndArg() {\n          return new PromiseImpl(function (resolve, reject) {\n            invoke(method, arg, resolve, reject);\n          });\n        }\n        return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = \"suspendedStart\";\n    return function (method, arg) {\n      if (\"executing\" === state) throw new Error(\"Generator is already running\");\n      if (\"completed\" === state) {\n        if (\"throw\" === method) throw arg;\n        return doneResult();\n      }\n      for (context.method = method, context.arg = arg;;) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n        if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) {\n          if (\"suspendedStart\" === state) throw state = \"completed\", context.arg;\n          context.dispatchException(context.arg);\n        } else \"return\" === context.method && context.abrupt(\"return\", context.arg);\n        state = \"executing\";\n        var record = tryCatch(innerFn, self, context);\n        if (\"normal\" === record.type) {\n          if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue;\n          return {\n            value: record.arg,\n            done: context.done\n          };\n        }\n        \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(delegate, context) {\n    var methodName = context.method,\n      method = delegate.iterator[methodName];\n    if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator.return && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel;\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);\n  }\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next) return iterable;\n      if (!isNaN(iterable.length)) {\n        var i = -1,\n          next = function next() {\n            for (; ++i < iterable.length;) {\n              if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next;\n            }\n            return next.value = undefined, next.done = !0, next;\n          };\n        return next.next = next;\n      }\n    }\n    return {\n      next: doneResult\n    };\n  }\n  function doneResult() {\n    return {\n      value: undefined,\n      done: !0\n    };\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: !0\n  }), defineProperty(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: !0\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function (genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function (arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () {\n    return this;\n  }), define(Gp, \"toString\", function () {\n    return \"[object Generator]\";\n  }), exports.keys = function (val) {\n    var object = Object(val),\n      keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    return keys.reverse(), function next() {\n      for (; keys.length;) {\n        var key = keys.pop();\n        if (key in object) return next.value = key, next.done = !1, next;\n      }\n      return next.done = !0, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) {\n        \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined);\n      }\n    },\n    stop: function stop() {\n      this.done = !0;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type) throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(exception) {\n      if (this.done) throw exception;\n      var context = this;\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught;\n      }\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i],\n          record = entry.completion;\n        if (\"root\" === entry.tryLoc) return handle(\"end\");\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"),\n            hasFinally = hasOwn.call(entry, \"finallyLoc\");\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n          } else {\n            if (!hasFinally) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function complete(record, afterLoc) {\n      if (\"throw\" === record.type) throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function finish(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    catch: function _catch(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel;\n    }\n  }, exports;\n}\nfunction asyncGeneratorStep$1(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nfunction _asyncToGenerator$1(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep$1(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep$1(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(undefined);\n    });\n  };\n}\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction _inheritsLoose$1(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  _setPrototypeOf$1(subClass, superClass);\n}\nfunction _setPrototypeOf$1(o, p) {\n  _setPrototypeOf$1 = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf$1(o, p);\n}\nvar DragndropPlugin = /*#__PURE__*/function () {\n  function DragndropPlugin(dragndropPluginOptions) {\n    this.dragndropPluginOptions = void 0;\n    this.dragndropPluginOptions = dragndropPluginOptions;\n  }\n  var _proto = DragndropPlugin.prototype;\n  _proto.apply = function apply(context) {\n    var _this = this;\n    var renderingService = context.renderingService,\n      renderingContext = context.renderingContext;\n    var document = renderingContext.root.ownerDocument;\n    // TODO: should we add an option like `draggable` to Canvas\n    var canvas = document.defaultView;\n    var handlePointerdown = function handlePointerdown(event) {\n      var target = event.target;\n      var isDocument = target === document;\n      var draggableEventTarget = isDocument && _this.dragndropPluginOptions.isDocumentDraggable ? document : target.closest && target.closest('[draggable=true]');\n      // `draggable` may be set on ancestor nodes:\n      // @see https://github.com/antvis/G/issues/1088\n      if (draggableEventTarget) {\n        // delay triggering dragstart event\n        var dragstartTriggered = false;\n        var dragstartTimeStamp = event.timeStamp;\n        var dragstartClientCoordinates = [event.clientX, event.clientY];\n        var currentDroppable = null;\n        var lastDragClientCoordinates = [event.clientX, event.clientY];\n        // @ts-ignore\n        // eslint-disable-next-line no-inner-declarations\n        var handlePointermove = /*#__PURE__*/function () {\n          var _ref = _asyncToGenerator$1( /*#__PURE__*/_regeneratorRuntime$1().mark(function _callee(event) {\n            var timeElapsed, distanceMoved, point, elementsBelow, elementBelow, droppableBelow;\n            return _regeneratorRuntime$1().wrap(function _callee$(_context) {\n              while (1) {\n                switch (_context.prev = _context.next) {\n                  case 0:\n                    if (dragstartTriggered) {\n                      _context.next = 8;\n                      break;\n                    }\n                    timeElapsed = event.timeStamp - dragstartTimeStamp;\n                    distanceMoved = distanceSquareRoot([event.clientX, event.clientY], dragstartClientCoordinates); // check thresholds\n                    if (!(timeElapsed <= _this.dragndropPluginOptions.dragstartTimeThreshold || distanceMoved <= _this.dragndropPluginOptions.dragstartDistanceThreshold)) {\n                      _context.next = 5;\n                      break;\n                    }\n                    return _context.abrupt(\"return\");\n                  case 5:\n                    // @see https://developer.mozilla.org/zh-CN/docs/Web/API/Document/dragstart_event\n                    event.type = 'dragstart';\n                    draggableEventTarget.dispatchEvent(event);\n                    dragstartTriggered = true;\n                  case 8:\n                    // @see https://developer.mozilla.org/zh-CN/docs/Web/API/Document/drag_event\n                    event.type = 'drag';\n                    // @ts-ignore\n                    event.dx = event.clientX - lastDragClientCoordinates[0];\n                    // @ts-ignore\n                    event.dy = event.clientY - lastDragClientCoordinates[1];\n                    draggableEventTarget.dispatchEvent(event);\n                    lastDragClientCoordinates = [event.clientX, event.clientY];\n                    if (isDocument) {\n                      _context.next = 21;\n                      break;\n                    }\n                    point = _this.dragndropPluginOptions.overlap === 'pointer' ? [event.canvasX, event.canvasY] : target.getBounds().center;\n                    _context.next = 17;\n                    return document.elementsFromPoint(point[0], point[1]);\n                  case 17:\n                    elementsBelow = _context.sent;\n                    // prevent from picking the dragging element\n                    elementBelow = elementsBelow[elementsBelow.indexOf(target) + 1];\n                    droppableBelow = (elementBelow === null || elementBelow === void 0 ? void 0 : elementBelow.closest('[droppable=true]')) || (_this.dragndropPluginOptions.isDocumentDroppable ? document : null);\n                    if (currentDroppable !== droppableBelow) {\n                      if (currentDroppable) {\n                        // null when we were not over a droppable before this event\n                        // @see https://developer.mozilla.org/zh-CN/docs/Web/API/Document/dragleave_event\n                        event.type = 'dragleave';\n                        event.target = currentDroppable;\n                        currentDroppable.dispatchEvent(event);\n                      }\n                      if (droppableBelow) {\n                        // @see https://developer.mozilla.org/zh-CN/docs/Web/API/Document/dragleave_event\n                        event.type = 'dragenter';\n                        event.target = droppableBelow;\n                        droppableBelow.dispatchEvent(event);\n                      }\n                      currentDroppable = droppableBelow;\n                      if (currentDroppable) {\n                        // null if we're not coming over a droppable now\n                        // @see https://developer.mozilla.org/zh-CN/docs/Web/API/Document/dragover_event\n                        event.type = 'dragover';\n                        event.target = currentDroppable;\n                        currentDroppable.dispatchEvent(event);\n                      }\n                    }\n                  case 21:\n                  case \"end\":\n                    return _context.stop();\n                }\n              }\n            }, _callee);\n          }));\n          return function handlePointermove(_x) {\n            return _ref.apply(this, arguments);\n          };\n        }();\n        canvas.addEventListener('pointermove', handlePointermove);\n        var stopDragging = function stopDragging(originalPointerUpEvent) {\n          if (dragstartTriggered) {\n            // prevent click event being triggerd\n            // @see https://github.com/antvis/G/issues/1091\n            originalPointerUpEvent.detail = {\n              preventClick: true\n            };\n            // clone event first\n            var _event = originalPointerUpEvent.clone();\n            // drop should fire before dragend\n            // @see https://javascript.tutorialink.com/is-there-a-defined-ordering-between-dragend-and-drop-events/\n            if (currentDroppable) {\n              // @see https://developer.mozilla.org/zh-CN/docs/Web/API/Document/drop_event\n              _event.type = 'drop';\n              _event.target = currentDroppable;\n              currentDroppable.dispatchEvent(_event);\n            }\n            // @see https://developer.mozilla.org/zh-CN/docs/Web/API/Document/dragend_event\n            _event.type = 'dragend';\n            draggableEventTarget.dispatchEvent(_event);\n            dragstartTriggered = false;\n          }\n          canvas.removeEventListener('pointermove', handlePointermove);\n        };\n        target.addEventListener('pointerup', stopDragging, {\n          once: true\n        });\n        target.addEventListener('pointerupoutside', stopDragging, {\n          once: true\n        });\n      }\n    };\n    renderingService.hooks.init.tapPromise(DragndropPlugin.tag, /*#__PURE__*/_asyncToGenerator$1( /*#__PURE__*/_regeneratorRuntime$1().mark(function _callee2() {\n      return _regeneratorRuntime$1().wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              canvas.addEventListener('pointerdown', handlePointerdown);\n            case 1:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    })));\n    renderingService.hooks.destroy.tap(DragndropPlugin.tag, function () {\n      canvas.removeEventListener('pointerdown', handlePointerdown);\n    });\n  };\n  return DragndropPlugin;\n}();\nDragndropPlugin.tag = 'Dragndrop';\nvar Plugin = /*#__PURE__*/function (_AbstractRendererPlug) {\n  _inheritsLoose$1(Plugin, _AbstractRendererPlug);\n  function Plugin(options) {\n    var _this;\n    if (options === void 0) {\n      options = {};\n    }\n    _this = _AbstractRendererPlug.call(this) || this;\n    _this.options = void 0;\n    _this.name = 'dragndrop';\n    _this.options = options;\n    return _this;\n  }\n  var _proto = Plugin.prototype;\n  _proto.init = function init() {\n    this.addRenderingPlugin(new DragndropPlugin(_extends({\n      overlap: 'pointer',\n      isDocumentDraggable: false,\n      isDocumentDroppable: false,\n      dragstartDistanceThreshold: 0,\n      dragstartTimeThreshold: 0\n    }, this.options)));\n  };\n  _proto.destroy = function destroy() {\n    this.removeAllRenderingPlugins();\n  };\n  _proto.setOptions = function setOptions(options) {\n    Object.assign(this.plugins[0].dragndropPluginOptions, options);\n  };\n  return Plugin;\n}(AbstractRendererPlugin);\n\nfunction isCanvasElement(el) {\n  if (!el || typeof el !== 'object') return false;\n  if (el.nodeType === 1 && el.nodeName) {\n    // HTMLCanvasElement\n    return true;\n  }\n  // CanvasElement\n  return !!el.isCanvasElement;\n}\n\nvar Canvas2DContextService = /*#__PURE__*/function () {\n  function Canvas2DContextService(context) {\n    this.$canvas = void 0;\n    this.dpr = void 0;\n    this.context = void 0;\n    this.canvasConfig = void 0;\n    this.canvasConfig = context.config;\n  }\n  var _proto = Canvas2DContextService.prototype;\n  _proto.init = /*#__PURE__*/function () {\n    var _init = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var _this$canvasConfig, canvas, devicePixelRatio, dpr;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this$canvasConfig = this.canvasConfig, canvas = _this$canvasConfig.canvas, devicePixelRatio = _this$canvasConfig.devicePixelRatio;\n              this.$canvas = canvas;\n              // 实际获取到小程序环境的上下文\n              this.context = this.$canvas.getContext('2d');\n              // use user-defined dpr first\n              dpr = devicePixelRatio || 1;\n              dpr = dpr >= 1 ? Math.ceil(dpr) : 1;\n              this.dpr = dpr;\n              this.resize(this.canvasConfig.width, this.canvasConfig.height);\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n    function init() {\n      return _init.apply(this, arguments);\n    }\n    return init;\n  }();\n  _proto.getContext = function getContext() {\n    return this.context;\n  };\n  _proto.getDomElement = function getDomElement() {\n    return this.$canvas;\n  };\n  _proto.getDPR = function getDPR() {\n    return this.dpr;\n  };\n  _proto.getBoundingClientRect = function getBoundingClientRect() {\n    if (this.$canvas.getBoundingClientRect) {\n      return this.$canvas.getBoundingClientRect();\n    }\n  };\n  _proto.destroy = function destroy() {\n    // TODO: 小程序环境销毁 context\n    this.context = null;\n    this.$canvas = null;\n  };\n  _proto.resize = function resize(width, height) {\n    var devicePixelRatio = this.canvasConfig.devicePixelRatio;\n    var pixelRatio = devicePixelRatio;\n    var canvasDOM = this.$canvas; // HTMLCanvasElement or canvasElement\n    // 浏览器环境设置style样式\n    if (canvasDOM.style) {\n      canvasDOM.style.width = width + 'px';\n      canvasDOM.style.height = height + 'px';\n    }\n    if (isCanvasElement(canvasDOM)) {\n      canvasDOM.width = width * pixelRatio;\n      canvasDOM.height = height * pixelRatio;\n      if (pixelRatio !== 1) {\n        this.context.scale(pixelRatio, pixelRatio);\n      }\n    }\n  };\n  _proto.applyCursorStyle = function applyCursorStyle(cursor) {\n    // 小程序环境无需设置鼠标样式\n  };\n  _proto.toDataURL = /*#__PURE__*/function () {\n    var _toDataURL = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(options) {\n      var type, encoderOptions;\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              type = options.type, encoderOptions = options.encoderOptions;\n              return _context2.abrupt(\"return\", this.context.canvas.toDataURL(type, encoderOptions));\n            case 2:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n    function toDataURL(_x) {\n      return _toDataURL.apply(this, arguments);\n    }\n    return toDataURL;\n  }();\n  return Canvas2DContextService;\n}();\n\nvar ContextRegisterPlugin = /*#__PURE__*/function (_AbstractRendererPlug) {\n  _inheritsLoose(ContextRegisterPlugin, _AbstractRendererPlug);\n  function ContextRegisterPlugin() {\n    var _this;\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _AbstractRendererPlug.call.apply(_AbstractRendererPlug, [this].concat(args)) || this;\n    _this.name = 'mobile-canvas-context-register';\n    return _this;\n  }\n  var _proto = ContextRegisterPlugin.prototype;\n  _proto.init = function init() {\n    this.context.ContextService = Canvas2DContextService;\n  };\n  _proto.destroy = function destroy() {\n    delete this.context.ContextService;\n  };\n  return ContextRegisterPlugin;\n}(AbstractRendererPlugin);\n\nvar Renderer = /*#__PURE__*/function (_AbstractRenderer) {\n  _inheritsLoose(Renderer, _AbstractRenderer);\n  function Renderer(config) {\n    var _this;\n    _this = _AbstractRenderer.call(this, config) || this;\n    // register Canvas2DContext\n    _this.registerPlugin(new ContextRegisterPlugin());\n    _this.registerPlugin(new Plugin$1());\n    _this.registerPlugin(new Plugin$2());\n    // enable rendering with Canvas2D API\n    _this.registerPlugin(new Plugin$3());\n    _this.registerPlugin(new Plugin$4());\n    // enable picking with Canvas2D API\n    _this.registerPlugin(new Plugin$5());\n    _this.registerPlugin(new Plugin({\n      isDocumentDraggable: isNil(config === null || config === void 0 ? void 0 : config.isDocumentDraggable) ? true : config.isDocumentDraggable,\n      isDocumentDroppable: isNil(config === null || config === void 0 ? void 0 : config.isDocumentDroppable) ? true : config.isDocumentDroppable,\n      dragstartDistanceThreshold: isNil(config === null || config === void 0 ? void 0 : config.dragstartDistanceThreshold) ? 10 : config.dragstartDistanceThreshold,\n      dragstartTimeThreshold: isNil(config === null || config === void 0 ? void 0 : config.dragstartTimeThreshold) ? 50 : config.dragstartTimeThreshold\n    }));\n    return _this;\n  }\n  return Renderer;\n}(AbstractRenderer);\n\nexport { Renderer };\n", "import EventEmitter from 'eventemitter3';\n\nvar CanvasElement = /*#__PURE__*/function () {\n  function CanvasElement(ctx) {\n    this.width = void 0;\n    this.height = void 0;\n    this.isCanvasElement = true;\n    this.context = void 0;\n    this.emitter = new EventEmitter();\n    this.context = ctx;\n    // 有可能是 node canvas 创建的 context 对象\n    var canvas = ctx.canvas || {};\n    this.width = canvas.width || 0;\n    this.height = canvas.height || 0;\n  }\n  var _proto = CanvasElement.prototype;\n  _proto.getContext = function getContext(contextId, contextAttributes) {\n    return this.context;\n  };\n  _proto.getBoundingClientRect = function getBoundingClientRect() {\n    var width = this.width;\n    var height = this.height;\n    // 默认都处理成可视窗口的顶部位置\n    return {\n      top: 0,\n      right: width,\n      bottom: height,\n      left: 0,\n      width: width,\n      height: height,\n      x: 0,\n      y: 0\n    };\n  };\n  _proto.addEventListener = function addEventListener(type, listener, options) {\n    // TODO: implement options\n    this.emitter.on(type, listener);\n  };\n  _proto.removeEventListener = function removeEventListener(type, listener, options) {\n    this.emitter.off(type, listener);\n  }\n  /**\r\n   * @see https://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-EventTarget-dispatchEvent\r\n   */;\n  _proto.dispatchEvent = function dispatchEvent(e) {\n    this.emitter.emit(e.type, e);\n    return true;\n  };\n  return CanvasElement;\n}();\nfunction supportEventListener(canvas) {\n  if (!canvas) {\n    return false;\n  }\n  // 非 HTMLCanvasElement\n  if (canvas.nodeType !== 1 || !canvas.nodeName || canvas.nodeName.toLowerCase() !== 'canvas') {\n    return false;\n  }\n  // 微信小程序canvas.getContext('2d')时也是CanvasRenderingContext2D\n  // 也会有ctx.canvas, 而且nodeType也是1，所以还要在看下是否支持addEventListener\n  var support = false;\n  try {\n    canvas.addEventListener('eventTest', function () {\n      support = true;\n    });\n    canvas.dispatchEvent(new Event('eventTest'));\n  } catch (error) {\n    support = false;\n  }\n  return support;\n}\nfunction createMobileCanvasElement(ctx) {\n  if (!ctx) {\n    return null;\n  }\n  if (supportEventListener(ctx.canvas)) {\n    return ctx.canvas;\n  }\n  return new CanvasElement(ctx);\n}\n\nexport { createMobileCanvasElement };\n", "function createUpdater(canvas) {\n  var setStateQueue = [];\n  function process() {\n    var item;\n    var renderComponents = [];\n    var renderCallbackQueue = [];\n    while (item = setStateQueue.shift()) {\n      var state = item.state,\n        component = item.component,\n        callback = item.callback;\n      // 组件已销毁，不再触发 setState\n      if (component.destroyed) {\n        continue;\n      }\n      // 如果没有prevState，则将当前的state作为初始的prevState\n      if (!component.prevState) {\n        component.prevState = Object.assign({}, component.state);\n      }\n      // 如果stateChange是一个方法，也就是setState的第二种形式\n      if (typeof state === 'function') {\n        Object.assign(component.state, state(component.prevState, component.props));\n      } else {\n        // 如果stateChange是一个对象，则直接合并到setState中\n        Object.assign(component.state, state);\n      }\n      component.prevState = component.state;\n      if (typeof callback === 'function') {\n        renderCallbackQueue.push({\n          callback: callback,\n          component: component\n        });\n      }\n      if (renderComponents.indexOf(component) < 0) {\n        renderComponents.push(component);\n      }\n    }\n    canvas.updateComponents(renderComponents);\n    // callback queue\n    commitRenderQueue(renderCallbackQueue);\n  }\n  function enqueueSetState(component, state, callback) {\n    if (setStateQueue.length === 0) {\n      setTimeout(process, 0);\n    }\n    setStateQueue.push({\n      component: component,\n      state: state,\n      callback: callback\n    });\n  }\n  function commitRenderQueue(callbackQueue) {\n    for (var i = 0; i < callbackQueue.length; i++) {\n      var _a = callbackQueue[i],\n        callback = _a.callback,\n        component = _a.component;\n      callback.call(component);\n    }\n  }\n  var updater = {\n    // isMounted: function(publicInstance) {\n    //   return false;\n    // },\n    enqueueForceUpdate: enqueueSetState,\n    // enqueueReplaceState: function(publicInstance, completeState) {\n    // },\n    enqueueSetState: enqueueSetState\n  };\n  return updater;\n}\nexport { createUpdater };", "import { __assign, __awaiter, __generator } from \"tslib\";\nimport { isFunction } from '@antv/util';\nimport equal from './equal';\nimport { Text, Canvas as GCanvas } from '@antv/g-lite';\nimport { createMobileCanvasElement } from '@antv/g-mobile-canvas-element';\nimport { Renderer as CanvasRenderer } from '@antv/g-mobile-canvas';\nimport { createUpdater } from '../component/updater';\nimport EE from 'eventemitter3';\nimport Theme from './theme';\nimport { px2hd as defaultPx2hd, checkCSSRule, batch2hd } from './util';\nimport Gesture from '../gesture';\nimport { render, updateComponents, destroyElement } from './render';\nimport { ClassComponent } from './workTags';\n// 添加动画模块\nimport '@antv/g-web-animations-api';\nfunction measureText(container, px2hd, theme) {\n  return function (text, font) {\n    var _a = font || {},\n      _b = _a.fontSize,\n      fontSize = _b === void 0 ? theme.fontSize : _b,\n      _c = _a.fontFamily,\n      fontFamily = _c === void 0 ? theme.fontFamily : _c,\n      _d = _a.fontWeight,\n      fontWeight = _d === void 0 ? theme.fontWeight : _d,\n      _e = _a.fontVariant,\n      fontVariant = _e === void 0 ? theme.fontVariant : _e,\n      _f = _a.fontStyle,\n      fontStyle = _f === void 0 ? theme.fontStyle : _f,\n      _g = _a.textAlign,\n      textAlign = _g === void 0 ? theme.textAlign : _g,\n      _h = _a.textBaseline,\n      textBaseline = _h === void 0 ? theme.textBaseline : _h,\n      _j = _a.lineWidth,\n      lineWidth = _j === void 0 ? 1 : _j;\n    var style = {\n      x: 0,\n      y: 0,\n      fontSize: px2hd(fontSize),\n      fontFamily: fontFamily,\n      fontStyle: fontStyle,\n      fontWeight: fontWeight,\n      fontVariant: fontVariant,\n      text: text,\n      textAlign: textAlign,\n      textBaseline: textBaseline,\n      lineWidth: lineWidth,\n      visibility: 'hidden'\n    };\n    var result = checkCSSRule('text', style);\n    var shape = new Text({\n      style: result\n    });\n    container.appendChild(shape);\n    var _k = shape.getBBox(),\n      width = _k.width,\n      height = _k.height;\n    shape.remove();\n    return {\n      width: width,\n      height: height\n    };\n  };\n}\nfunction computeLayout(style) {\n  var left = style.left,\n    top = style.top,\n    width = style.width,\n    height = style.height,\n    padding = style.padding;\n  var paddingTop = padding[0],\n    paddingRight = padding[1],\n    paddingBottom = padding[2],\n    paddingLeft = padding[3];\n  return {\n    left: left + paddingLeft,\n    top: top + paddingTop,\n    width: width - paddingLeft - paddingRight,\n    height: height - paddingTop - paddingBottom\n  };\n}\n// 顶层Canvas标签\nvar Canvas = /** @class */function () {\n  function Canvas(props) {\n    var context = props.context,\n      _a = props.renderer,\n      renderer = _a === void 0 ? new CanvasRenderer() : _a,\n      width = props.width,\n      height = props.height,\n      customTheme = props.theme,\n      customPx2hd = props.px2hd,\n      customPixelRatio = props.pixelRatio,\n      landscape = props.landscape,\n      rendererContainer = props.container,\n      customStyle = props.style,\n      _b = props.animate,\n      animate = _b === void 0 ? true : _b,\n      createImage = props.createImage,\n      requestAnimationFrame = props.requestAnimationFrame,\n      cancelAnimationFrame = props.cancelAnimationFrame;\n    var px2hd = isFunction(customPx2hd) ? batch2hd(customPx2hd) : defaultPx2hd;\n    // 初始化主题\n    var theme = px2hd(__assign(__assign({}, Theme), customTheme));\n    var pixelRatio = theme.pixelRatio,\n      fontSize = theme.fontSize,\n      fontFamily = theme.fontFamily,\n      padding = theme.padding;\n    var devicePixelRatio = customPixelRatio ? customPixelRatio : pixelRatio;\n    // 组件更新器\n    var updater = createUpdater(this);\n    var canvasElement = createMobileCanvasElement(context);\n    var canvas = new GCanvas({\n      container: rendererContainer,\n      canvas: canvasElement,\n      devicePixelRatio: devicePixelRatio,\n      renderer: renderer,\n      width: width,\n      height: height,\n      supportsTouchEvents: true,\n      supportsPointerEvents: true,\n      createImage: createImage,\n      requestAnimationFrame: requestAnimationFrame,\n      cancelAnimationFrame: cancelAnimationFrame\n    });\n    var container = canvas.getRoot();\n    var _c = canvas.getConfig(),\n      canvasWidth = _c.width,\n      canvasHeight = _c.height;\n    // 设置默认的全局样式\n    container.setAttribute('fontSize', fontSize);\n    container.setAttribute('fontFamily', fontFamily);\n    var gesture = new Gesture(container);\n    // 供全局使用的一些变量\n    var componentContext = {\n      ctx: context,\n      root: this,\n      canvas: canvas,\n      px2hd: px2hd,\n      theme: theme,\n      gesture: gesture,\n      measureText: measureText(container, px2hd, theme)\n    };\n    var vNode = {\n      key: undefined,\n      tag: ClassComponent,\n      // style: layout,\n      // @ts-ignore\n      type: Canvas,\n      props: props,\n      shape: container,\n      animate: animate,\n      // @ts-ignore\n      component: this,\n      canvas: this,\n      context: componentContext,\n      updater: updater\n    };\n    this._ee = new EE();\n    this.props = props;\n    this.context = componentContext;\n    this.updater = updater;\n    this.gesture = gesture;\n    this.theme = theme;\n    this.canvas = canvas;\n    this.container = container;\n    this.el = canvasElement;\n    this.vNode = vNode;\n    // todo: 横屏事件逻辑\n    this.landscape = landscape;\n    this.updateLayout(__assign(__assign({}, props), {\n      width: canvasWidth,\n      height: canvasHeight\n    }));\n  }\n  Canvas.prototype.updateComponents = function (components) {\n    updateComponents(components);\n  };\n  Canvas.prototype.update = function (nextProps) {\n    return __awaiter(this, void 0, void 0, function () {\n      var _a, props, vNode, _b, animate;\n      return __generator(this, function (_c) {\n        switch (_c.label) {\n          case 0:\n            _a = this, props = _a.props, vNode = _a.vNode;\n            if (equal(nextProps, props)) {\n              return [2 /*return*/];\n            }\n\n            _b = props.animate, animate = _b === void 0 ? true : _b;\n            this.props = nextProps;\n            vNode.props = nextProps;\n            vNode.animate = animate;\n            return [4 /*yield*/, this.render()];\n          case 1:\n            _c.sent();\n            return [2 /*return*/];\n        }\n      });\n    });\n  };\n\n  Canvas.prototype.render = function () {\n    return __awaiter(this, void 0, void 0, function () {\n      var _a, canvas, vNode;\n      return __generator(this, function (_b) {\n        switch (_b.label) {\n          case 0:\n            _a = this, canvas = _a.canvas, vNode = _a.vNode;\n            return [4 /*yield*/, canvas.ready];\n          case 1:\n            _b.sent();\n            render(vNode);\n            return [2 /*return*/];\n        }\n      });\n    });\n  };\n\n  Canvas.prototype.emit = function (type, event) {\n    this._ee.emit(type, event);\n  };\n  Canvas.prototype.on = function (type, listener) {\n    this._ee.on(type, listener);\n  };\n  Canvas.prototype.off = function (type, listener) {\n    this._ee.off(type, listener);\n  };\n  Canvas.prototype.getCanvasEl = function () {\n    return this.el;\n  };\n  Canvas.prototype.resize = function (width, height) {\n    return __awaiter(this, void 0, void 0, function () {\n      var canvas;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            canvas = this.canvas;\n            canvas.resize(width, height);\n            this.updateLayout(__assign(__assign({}, this.props), {\n              width: width,\n              height: height\n            }));\n            return [4 /*yield*/, this.render()];\n          case 1:\n            _a.sent();\n            return [2 /*return*/];\n        }\n      });\n    });\n  };\n\n  Canvas.prototype.updateLayout = function (props) {\n    var width = props.width,\n      height = props.height;\n    var _a = this.context,\n      px2hd = _a.px2hd,\n      theme = _a.theme;\n    var style = px2hd(__assign({\n      left: 0,\n      top: 0,\n      width: width,\n      height: height,\n      padding: theme.padding\n    }, props.style));\n    var layout = computeLayout(style);\n    var left = layout.left,\n      top = layout.top;\n    // 设置 container 的位置\n    this.container.setAttribute('x', left);\n    this.container.setAttribute('y', top);\n    this.context = __assign(__assign({}, this.context), {\n      left: left,\n      top: top,\n      width: layout.width,\n      height: layout.height\n    });\n    this.vNode = __assign(__assign({}, this.vNode), {\n      style: layout,\n      context: this.context\n    });\n  };\n  Canvas.prototype.toRawChildren = function (children) {\n    return children;\n  };\n  Canvas.prototype.destroy = function () {\n    var _a = this,\n      canvas = _a.canvas,\n      children = _a.children,\n      el = _a.el;\n    destroyElement(children);\n    // 需要清理 canvas 画布内容，否则会导致 spa 应用 ios 下 canvas 白屏\n    // https://stackoverflow.com/questions/52532614/total-canvas-memory-use-exceeds-the-maximum-limit-safari-12\n    // https://github.com/antvis/F2/issues/630\n    el.width = 0;\n    el.height = 0;\n    this.props = null;\n    this.context = null;\n    this.updater = null;\n    this.theme = null;\n    this.canvas = null;\n    this.container = null;\n    this.el = null;\n    this.vNode = null;\n    // 销毁也需要等 ready\n    canvas.ready.then(function () {\n      canvas.destroy();\n    });\n  };\n  return Canvas;\n}();\nexport default Canvas;", "var THEME = {\n  fontSize: '24px',\n  fontFamily: '\"Helvetica Neue\", Helvetica, \"PingFang SC\", \"Hiragino Sans GB\", \"Microsoft YaHei\", Arial, sans-serif',\n  pixelRatio: 1,\n  padding: [0, 0, 0, 0]\n};\n// function setTheme(theme: Theme) {\n//   Object.assign(THEME, theme);\n// }\n// function getTheme() {\n//   return THEME;\n// }\nexport default THEME;", "import { __assign } from \"tslib\";\nimport { isArray, isNil } from '@antv/util';\nvar elementStyle = {\n  fillStyle: 'String',\n  font: 'String',\n  globalAlpha: 'Number',\n  lineCap: 'String',\n  lineWidth: ['Number', 'String'],\n  lineJoin: 'String',\n  miterLimit: 'Number',\n  shadowBlur: 'Number',\n  shadowColor: 'String',\n  shadowOffsetX: 'Number',\n  shadowOffsetY: 'Number',\n  strokeStyle: 'String',\n  textAlign: 'String',\n  textBaseline: 'String',\n  lineDash: ['Array', 'Number'],\n  shadow: 'String',\n  matrix: 'Array',\n  stroke: 'String',\n  fill: ['String', 'Object'],\n  opacity: 'Number',\n  fillOpacity: 'Number',\n  strokeOpacity: 'Number'\n};\n// css规则表 TODO：补充 / 多种类型\nvar DEFAULT_CSS_RULE = {\n  group: __assign({}, elementStyle),\n  text: __assign(__assign({}, elementStyle), {\n    x: 'Number',\n    y: 'Number',\n    text: 'String',\n    width: 'Number',\n    height: 'Number',\n    fontSize: ['Number', 'String'],\n    fontFamily: 'String',\n    fontStyle: 'String',\n    fontWeight: ['Number', 'String'],\n    fontVariant: 'String'\n  }),\n  circle: __assign(__assign({}, elementStyle), {\n    cx: 'Number',\n    cy: 'Number',\n    r: 'Number'\n  }),\n  path: __assign({}, elementStyle),\n  ellipse: __assign(__assign({}, elementStyle), {\n    cy: 'Number',\n    cx: 'Number',\n    ry: 'Number',\n    rx: 'Number'\n  }),\n  rect: __assign(__assign({}, elementStyle), {\n    width: 'Number',\n    height: 'Number',\n    x: 'Number',\n    y: 'Number',\n    radius: ['Array', 'Number']\n  }),\n  image: __assign(__assign({}, elementStyle), {\n    width: 'Number',\n    height: 'Number',\n    x: 'Number',\n    y: 'Number',\n    img: 'String',\n    src: 'String'\n  }),\n  line: __assign(__assign({}, elementStyle), {\n    x1: 'Number',\n    x2: 'Number',\n    y1: 'Number',\n    y2: 'Number'\n  }),\n  polyline: __assign(__assign({}, elementStyle), {\n    points: 'Array',\n    smooth: 'Boolean'\n  }),\n  polygon: __assign(__assign({}, elementStyle), {\n    points: 'Array'\n  }),\n  arc: __assign(__assign({}, elementStyle), {\n    x: 'Number',\n    y: 'Number',\n    r: 'Number',\n    startAngle: ['Number', 'String'],\n    endAngle: ['Number', 'String'],\n    anticlockwise: 'Boolean'\n  }),\n  marker: __assign(__assign({}, elementStyle), {\n    x: 'Number',\n    y: 'Number',\n    radius: 'Number',\n    symbol: 'String'\n  }),\n  sector: __assign(__assign({}, elementStyle), {\n    x: 'Number',\n    y: 'Number',\n    startAngle: ['Number', 'String'],\n    endAngle: ['Number', 'String'],\n    r: 'Number',\n    r0: 'Number',\n    anticlockwise: 'Boolean'\n  })\n};\nexport default function checkCSSRule(type, style) {\n  if (!style) {\n    return style;\n  }\n  var cssStyle = {};\n  Object.keys(style).forEach(function (key) {\n    var value = style[key];\n    if (isNil(value)) {\n      return;\n    }\n    var rule = DEFAULT_CSS_RULE[type] && DEFAULT_CSS_RULE[type][key];\n    if (!rule) {\n      cssStyle[key] = value;\n      return;\n    }\n    var valueType = Object.prototype.toString.call(value);\n    if (isArray(rule)) {\n      for (var i = 0, len = rule.length; i < len; i++) {\n        if (valueType === \"[object \".concat(rule[i], \"]\")) {\n          cssStyle[key] = value;\n          return;\n        }\n      }\n      // 没有匹配的类型\n      return;\n    }\n    // string\n    if (valueType === \"[object \".concat(rule, \"]\")) {\n      cssStyle[key] = value;\n    }\n  });\n  return cssStyle;\n}", "import { isDate, isPlainObject, isNumber, isString, isArray } from '@antv/util';\nimport checkCSSRule from './cssRule';\n// 默认设置50\nvar ONE_REM;\ntry {\n  // xgraph下这段会抛错\n  ONE_REM = parseInt(document.documentElement.style.fontSize, 10) || 50;\n} catch (e) {\n  ONE_REM = 50;\n}\nvar SCALE = ONE_REM / 100;\n/**\n * 像素转换\n * @param {Number} px - 750视觉稿像素\n * @return {Number} 屏幕上实际像素\n */\nfunction defaultPx2hd(px) {\n  if (!px) {\n    return 0;\n  }\n  return Number((px * SCALE).toFixed(1));\n}\nfunction parsePadding(padding) {\n  if (isNumber(padding)) {\n    return [padding, padding, padding, padding];\n  }\n  var top = padding[0];\n  var right = isNumber(padding[1]) ? padding[1] : padding[0];\n  var bottom = isNumber(padding[2]) ? padding[2] : top;\n  var left = isNumber(padding[3]) ? padding[3] : right;\n  return [top, right, bottom, left];\n}\nfunction batch2hd(px2hd) {\n  var batchPx2hd = function batchPx2hd(value) {\n    // 处理带px的数据\n    if (isString(value) && /^-?\\d+(\\.\\d+)?px$/.test(value)) {\n      var num = value.substr(0, value.length - 2);\n      return px2hd(Number(num));\n    }\n    if (isArray(value)) {\n      return value.map(function (v) {\n        return batchPx2hd(v);\n      });\n    }\n    if (isPlainObject(value)) {\n      var result = {};\n      for (var key in value) {\n        if (value.hasOwnProperty(key)) {\n          var rst = batchPx2hd(value[key]);\n          if (!rst) {\n            result[key] = rst;\n            continue;\n          }\n          if (key === 'padding' || key === 'margin') {\n            var paddingArray = parsePadding(rst);\n            result[key] = paddingArray;\n            result[\"\".concat(key, \"Top\")] = paddingArray[0];\n            result[\"\".concat(key, \"Right\")] = paddingArray[1];\n            result[\"\".concat(key, \"Bottom\")] = paddingArray[2];\n            result[\"\".concat(key, \"Left\")] = paddingArray[3];\n            continue;\n          }\n          result[key] = rst;\n        }\n      }\n      return result;\n    }\n    // 默认直接返回\n    return value;\n  };\n  return batchPx2hd;\n}\nfunction toTimeStamp(value) {\n  if (isString(value)) {\n    if (value.indexOf('T') > 0) {\n      value = new Date(value).getTime();\n    } else {\n      // new Date('2010/01/10') 和 new Date('2010-01-10') 的差别在于:\n      // 如果仅有年月日时，前者是带有时区的: Fri Jan 10 2020 02:40:13 GMT+0800 (中国标准时间)\n      // 后者会格式化成 Sun Jan 10 2010 08:00:00 GMT+0800 (中国标准时间)\n      value = new Date(value.replace(/-/gi, '/')).getTime();\n    }\n  }\n  if (isDate(value)) {\n    value = value.getTime();\n  }\n  return value;\n}\nfunction isInBBox(bbox, point) {\n  var minX = bbox.minX,\n    maxX = bbox.maxX,\n    minY = bbox.minY,\n    maxY = bbox.maxY;\n  var x = point.x,\n    y = point.y;\n  return minX <= x && maxX >= x && minY <= y && maxY >= y;\n}\nfunction getElementsByClassName(className, element) {\n  if (!element || !className) return [];\n  var rst = [];\n  if (element.get('className') === className) {\n    rst.push(element);\n  }\n  var children = element.get('children');\n  if (children && children.length) {\n    for (var i = 0; i < children.length; i++) {\n      var child = children[i];\n      rst = rst.concat(getElementsByClassName(className, child));\n    }\n  }\n  return rst;\n}\nvar px2hd = batch2hd(defaultPx2hd);\nexport { px2hd, batch2hd, parsePadding, toTimeStamp, isInBBox, checkCSSRule, getElementsByClassName };", "import { FederatedEvent, ERROR_MSG_METHOD_NOT_IMPLEMENTED, propertyMetadataCache, runtime } from '@antv/g-lite';\nimport { clamp, isNumber, isNil } from '@antv/util';\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  _setPrototypeOf(subClass, superClass);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\n\n/**\r\n * @see https://developer.mozilla.org/en-US/docs/Web/API/AnimationPlaybackEvent\r\n */\nvar AnimationEvent = /*#__PURE__*/function (_FederatedEvent) {\n  _inheritsLoose(AnimationEvent, _FederatedEvent);\n  function AnimationEvent(manager, target, currentTime, timelineTime) {\n    var _this;\n    _this = _FederatedEvent.call(this, manager) || this;\n    _this.currentTime = void 0;\n    _this.timelineTime = void 0;\n    _this.currentTime = currentTime;\n    _this.timelineTime = timelineTime;\n    // @ts-ignore\n    _this.target = target;\n    _this.type = 'finish';\n    _this.bubbles = false;\n    // @ts-ignore\n    _this.currentTarget = target;\n    _this.defaultPrevented = false;\n    _this.eventPhase = _this.AT_TARGET;\n    _this.timeStamp = Date.now();\n    _this.currentTime = currentTime;\n    _this.timelineTime = timelineTime;\n    return _this;\n  }\n  return AnimationEvent;\n}(FederatedEvent);\n\nvar sequenceNumber = 0;\n/**\r\n * @see https://developer.mozilla.org/en-US/docs/Web/API/Animation/Animation\r\n */\nvar Animation = /*#__PURE__*/function () {\n  function Animation(effect, timeline) {\n    var _this$effect;\n    this.effect = void 0;\n    this.timeline = void 0;\n    this.id = void 0;\n    this.currentTimePending = false;\n    this._idle = true;\n    this._paused = false;\n    this._finishedFlag = true;\n    this.oldPlayState = void 0;\n    this._holdTime = void 0;\n    this.readyPromise = void 0;\n    this.finishedPromise = void 0;\n    this.resolveReadyPromise = void 0;\n    this.rejectReadyPromise = void 0;\n    this.resolveFinishedPromise = void 0;\n    this.rejectFinishedPromise = void 0;\n    this.onfinish = void 0;\n    this.oncancel = void 0;\n    this.onframe = void 0;\n    this._currentTime = 0;\n    this._startTime = void 0;\n    this._playbackRate = 1;\n    this._totalDuration = void 0;\n    this._inEffect = void 0;\n    this._inTimeline = true;\n    this.onremove = void 0;\n    this.effect = effect;\n    effect.animation = this;\n    this.timeline = timeline;\n    this.id = \"\" + sequenceNumber++;\n    this._inEffect = !!this.effect.update(0);\n    this._totalDuration = Number((_this$effect = this.effect) === null || _this$effect === void 0 ? void 0 : _this$effect.getComputedTiming().endTime);\n    this._holdTime = 0;\n    this._paused = false;\n    this.oldPlayState = 'idle';\n    this.updatePromises();\n  }\n  /**\r\n   * state machine,\r\n   * resolve/reject ready/finished Promise according to current state\r\n   */\n  var _proto = Animation.prototype;\n  _proto.updatePromises = function updatePromises() {\n    var oldPlayState = this.oldPlayState;\n    var newPlayState = this.pending ? 'pending' : this.playState;\n    if (this.readyPromise && newPlayState !== oldPlayState) {\n      if (newPlayState === 'idle') {\n        this.rejectReadyPromise();\n        this.readyPromise = undefined;\n      } else if (oldPlayState === 'pending') {\n        this.resolveReadyPromise();\n      } else if (newPlayState === 'pending') {\n        this.readyPromise = undefined;\n      }\n    }\n    if (this.finishedPromise && newPlayState !== oldPlayState) {\n      if (newPlayState === 'idle') {\n        this.rejectFinishedPromise();\n        this.finishedPromise = undefined;\n      } else if (newPlayState === 'finished') {\n        this.resolveFinishedPromise();\n      } else if (oldPlayState === 'finished') {\n        this.finishedPromise = undefined;\n      }\n    }\n    this.oldPlayState = newPlayState;\n    return this.readyPromise || this.finishedPromise;\n  };\n  _proto.play = function play() {\n    this.updatePromises();\n    this._paused = false;\n    if (this._isFinished || this._idle) {\n      this.rewind();\n      this._startTime = null;\n    }\n    this._finishedFlag = false;\n    this._idle = false;\n    this.ensureAlive();\n    this.timeline.applyDirtiedAnimation(this);\n    if (this.timeline.animations.indexOf(this) === -1) {\n      this.timeline.animations.push(this);\n    }\n    this.updatePromises();\n  };\n  _proto.pause = function pause() {\n    this.updatePromises();\n    if (this.currentTime) {\n      this._holdTime = this.currentTime;\n    }\n    if (!this._isFinished && !this._paused && !this._idle) {\n      this.currentTimePending = true;\n    } else if (this._idle) {\n      this.rewind();\n      this._idle = false;\n    }\n    this._startTime = null;\n    this._paused = true;\n    this.updatePromises();\n  };\n  _proto.finish = function finish() {\n    this.updatePromises();\n    if (this._idle) return;\n    this.currentTime = this._playbackRate > 0 ? this._totalDuration : 0;\n    this._startTime = this._totalDuration - this.currentTime;\n    this.currentTimePending = false;\n    this.timeline.applyDirtiedAnimation(this);\n    this.updatePromises();\n  };\n  _proto.cancel = function cancel() {\n    this.updatePromises();\n    if (!this._inEffect) return;\n    this._inEffect = false;\n    this._idle = true;\n    this._paused = false;\n    this._finishedFlag = true;\n    this._currentTime = 0;\n    this._startTime = null;\n    this.effect.update(null);\n    // effects are invalid after cancellation as the animation state\n    // needs to un-apply.\n    this.timeline.applyDirtiedAnimation(this);\n    this.updatePromises();\n  };\n  _proto.reverse = function reverse() {\n    this.updatePromises();\n    var oldCurrentTime = this.currentTime;\n    this.playbackRate *= -1;\n    this.play();\n    if (oldCurrentTime !== null) {\n      this.currentTime = oldCurrentTime;\n    }\n    this.updatePromises();\n  }\n  /**\r\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Animation/updatePlaybackRate\r\n   */;\n  _proto.updatePlaybackRate = function updatePlaybackRate(playbackRate) {\n    this.playbackRate = playbackRate;\n  };\n  _proto.targetAnimations = function targetAnimations() {\n    var _this$effect2;\n    var target = (_this$effect2 = this.effect) === null || _this$effect2 === void 0 ? void 0 : _this$effect2.target;\n    return target.getAnimations();\n  };\n  _proto.markTarget = function markTarget() {\n    var animations = this.targetAnimations();\n    if (animations.indexOf(this) === -1) {\n      animations.push(this);\n    }\n  };\n  _proto.unmarkTarget = function unmarkTarget() {\n    var animations = this.targetAnimations();\n    var index = animations.indexOf(this);\n    if (index !== -1) {\n      animations.splice(index, 1);\n    }\n  };\n  _proto.tick = function tick(timelineTime, isAnimationFrame) {\n    if (!this._idle && !this._paused) {\n      if (this._startTime === null) {\n        if (isAnimationFrame) {\n          this.startTime = timelineTime - this._currentTime / this.playbackRate;\n        }\n      } else if (!this._isFinished) {\n        this.tickCurrentTime((timelineTime - this._startTime) * this.playbackRate);\n      }\n    }\n    if (isAnimationFrame) {\n      this.currentTimePending = false;\n      this.fireEvents(timelineTime);\n    }\n  };\n  _proto.rewind = function rewind() {\n    if (this.playbackRate >= 0) {\n      this.currentTime = 0;\n    } else if (this._totalDuration < Infinity) {\n      this.currentTime = this._totalDuration;\n    } else {\n      throw new Error('Unable to rewind negative playback rate animation with infinite duration');\n    }\n  };\n  _proto.persist = function persist() {\n    throw new Error(ERROR_MSG_METHOD_NOT_IMPLEMENTED);\n  };\n  _proto.addEventListener = function addEventListener(type, listener, options) {\n    throw new Error(ERROR_MSG_METHOD_NOT_IMPLEMENTED);\n  };\n  _proto.removeEventListener = function removeEventListener(type, listener, options) {\n    throw new Error(ERROR_MSG_METHOD_NOT_IMPLEMENTED);\n  };\n  _proto.dispatchEvent = function dispatchEvent(event) {\n    throw new Error(ERROR_MSG_METHOD_NOT_IMPLEMENTED);\n  };\n  // replaceState: AnimationReplaceState;\n  _proto.commitStyles = function commitStyles() {\n    throw new Error(ERROR_MSG_METHOD_NOT_IMPLEMENTED);\n  };\n  _proto.ensureAlive = function ensureAlive() {\n    // If an animation is playing backwards and is not fill backwards/both\n    // then it should go out of effect when it reaches the start of its\n    // active interval (currentTime === 0).\n    if (this.playbackRate < 0 && this.currentTime === 0) {\n      var _this$effect3;\n      this._inEffect = !!((_this$effect3 = this.effect) === null || _this$effect3 === void 0 ? void 0 : _this$effect3.update(-1));\n    } else {\n      var _this$effect4;\n      this._inEffect = !!((_this$effect4 = this.effect) === null || _this$effect4 === void 0 ? void 0 : _this$effect4.update(this.currentTime));\n    }\n    if (!this._inTimeline && (this._inEffect || !this._finishedFlag)) {\n      this._inTimeline = true;\n      this.timeline.animations.push(this);\n    }\n  };\n  _proto.tickCurrentTime = function tickCurrentTime(newTime, ignoreLimit) {\n    if (newTime !== this._currentTime) {\n      this._currentTime = newTime;\n      if (this._isFinished && !ignoreLimit) {\n        this._currentTime = this._playbackRate > 0 ? this._totalDuration : 0;\n      }\n      this.ensureAlive();\n    }\n  };\n  _proto.fireEvents = function fireEvents(baseTime) {\n    var _this = this;\n    if (this._isFinished) {\n      if (!this._finishedFlag) {\n        if (this.onfinish) {\n          var event = new AnimationEvent(null, this, this.currentTime, baseTime);\n          setTimeout(function () {\n            if (_this.onfinish) {\n              _this.onfinish(event);\n            }\n          });\n        }\n        this._finishedFlag = true;\n      }\n    } else {\n      if (this.onframe && this.playState === 'running') {\n        var _event = new AnimationEvent(null, this, this.currentTime, baseTime);\n        this.onframe(_event);\n      }\n      this._finishedFlag = false;\n    }\n  };\n  _createClass(Animation, [{\n    key: \"pending\",\n    get:\n    /**\r\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/Animation/effect\r\n     */\n\n    /**\r\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/Animation/timeline\r\n     */\n\n    /**\r\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/Animation/id\r\n     */\n\n    // animation: InternalAnimation | null;\n    /**\r\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/Animation/pending\r\n     */\n    function get() {\n      return this._startTime === null && !this._paused && this.playbackRate !== 0 || this.currentTimePending;\n    }\n  }, {\n    key: \"playState\",\n    get: function get() {\n      if (this._idle) return 'idle';\n      if (this._isFinished) return 'finished';\n      if (this._paused) return 'paused';\n      return 'running';\n    }\n    /**\r\n     * record previos state\r\n     */\n  }, {\n    key: \"ready\",\n    get:\n    /**\r\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/Animation/ready\r\n     * @example\r\n      animation.pause();\r\n      animation.ready.then(function() {\r\n        // Displays 'running'\r\n        alert(animation.playState);\r\n      });\r\n      animation.play();\r\n     */\n    function get() {\n      var _this2 = this;\n      if (!this.readyPromise) {\n        if (this.timeline.animationsWithPromises.indexOf(this) === -1) {\n          this.timeline.animationsWithPromises.push(this);\n        }\n        this.readyPromise = new Promise(function (resolve, reject) {\n          _this2.resolveReadyPromise = function () {\n            resolve(_this2);\n          };\n          _this2.rejectReadyPromise = function () {\n            reject(new Error());\n          };\n        });\n        if (!this.pending) {\n          this.resolveReadyPromise();\n        }\n      }\n      return this.readyPromise;\n    }\n    /**\r\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/Animation/finished\r\n     * @example\r\n      Promise.all(\r\n        elem.getAnimations().map(\r\n          function(animation) {\r\n            return animation.finished\r\n          }\r\n        )\r\n      ).then(\r\n        function() {\r\n          return elem.remove();\r\n        }\r\n      );\r\n     */\n  }, {\n    key: \"finished\",\n    get: function get() {\n      var _this3 = this;\n      if (!this.finishedPromise) {\n        if (this.timeline.animationsWithPromises.indexOf(this) === -1) {\n          this.timeline.animationsWithPromises.push(this);\n        }\n        this.finishedPromise = new Promise(function (resolve, reject) {\n          _this3.resolveFinishedPromise = function () {\n            resolve(_this3);\n          };\n          _this3.rejectFinishedPromise = function () {\n            reject(new Error());\n          };\n        });\n        if (this.playState === 'finished') {\n          this.resolveFinishedPromise();\n        }\n      }\n      return this.finishedPromise;\n    }\n    /**\r\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/Animation/onfinish\r\n     */\n  }, {\n    key: \"currentTime\",\n    get: function get() {\n      this.updatePromises();\n      return this._idle || this.currentTimePending ? null : this._currentTime;\n    },\n    set: function set(newTime) {\n      newTime = Number(newTime);\n      if (isNaN(newTime)) return;\n      this.timeline.restart();\n      if (!this._paused && this._startTime !== null) {\n        var _this$timeline;\n        this._startTime = Number((_this$timeline = this.timeline) === null || _this$timeline === void 0 ? void 0 : _this$timeline.currentTime) - newTime / this.playbackRate;\n      }\n      this.currentTimePending = false;\n      if (this._currentTime === newTime) {\n        return;\n      }\n      if (this._idle) {\n        this._idle = false;\n        this._paused = true;\n      }\n      this.tickCurrentTime(newTime, true);\n      this.timeline.applyDirtiedAnimation(this);\n    }\n    /**\r\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/Animation/startTime\r\n     */\n  }, {\n    key: \"startTime\",\n    get: function get() {\n      return this._startTime;\n    },\n    set: function set(newTime) {\n      if (newTime !== null) {\n        this.updatePromises();\n        newTime = Number(newTime);\n        if (isNaN(newTime)) return;\n        if (this._paused || this._idle) return;\n        this._startTime = newTime;\n        this.tickCurrentTime((Number(this.timeline.currentTime) - this._startTime) * this.playbackRate);\n        this.timeline.applyDirtiedAnimation(this);\n        this.updatePromises();\n      }\n    }\n  }, {\n    key: \"playbackRate\",\n    get: function get() {\n      return this._playbackRate;\n    },\n    set: function set(value) {\n      if (value === this._playbackRate) {\n        return;\n      }\n      this.updatePromises();\n      var oldCurrentTime = this.currentTime;\n      this._playbackRate = value;\n      this.startTime = null;\n      if (this.playState !== 'paused' && this.playState !== 'idle') {\n        this._finishedFlag = false;\n        this._idle = false;\n        this.ensureAlive();\n        this.timeline.applyDirtiedAnimation(this);\n      }\n      if (oldCurrentTime !== null) {\n        this.currentTime = oldCurrentTime;\n      }\n      this.updatePromises();\n    }\n  }, {\n    key: \"_isFinished\",\n    get: function get() {\n      return !this._idle && (this._playbackRate > 0 && Number(this._currentTime) >= this._totalDuration || this._playbackRate < 0 && Number(this._currentTime) <= 0);\n    }\n  }, {\n    key: \"totalDuration\",\n    get: function get() {\n      return this._totalDuration;\n    }\n  }, {\n    key: \"_needsTick\",\n    get: function get() {\n      return this.pending || this.playState === 'running' || !this._finishedFlag;\n    }\n  }]);\n  return Animation;\n}();\n\n/**\r\n * https://github.com/gre/bezier-easing\r\n * BezierEasing - use bezier curve for transition easing function\r\n * by Gaëtan Renaudeau 2014 - 2015 – MIT License\r\n */\n// These values are established by empiricism with tests (tradeoff: performance VS precision)\nvar NEWTON_ITERATIONS = 4;\nvar NEWTON_MIN_SLOPE = 0.001;\nvar SUBDIVISION_PRECISION = 0.0000001;\nvar SUBDIVISION_MAX_ITERATIONS = 10;\nvar kSplineTableSize = 11;\nvar kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\nvar float32ArraySupported = typeof Float32Array === 'function';\nvar A = function A(aA1, aA2) {\n  return 1.0 - 3.0 * aA2 + 3.0 * aA1;\n};\nvar B = function B(aA1, aA2) {\n  return 3.0 * aA2 - 6.0 * aA1;\n};\nvar C = function C(aA1) {\n  return 3.0 * aA1;\n};\n// Returns x(t) given t, x1, and x2, or y(t) given t, y1, and y2.\nvar calcBezier = function calcBezier(aT, aA1, aA2) {\n  return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT;\n};\n// Returns dx/dt given t, x1, and x2, or dy/dt given t, y1, and y2.\nvar getSlope = function getSlope(aT, aA1, aA2) {\n  return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1);\n};\nvar binarySubdivide = function binarySubdivide(aX, aA, aB, mX1, mX2) {\n  var currentX,\n    currentT,\n    i = 0;\n  do {\n    currentT = aA + (aB - aA) / 2.0;\n    currentX = calcBezier(currentT, mX1, mX2) - aX;\n    if (currentX > 0.0) aB = currentT;else aA = currentT;\n  } while (Math.abs(currentX) > SUBDIVISION_PRECISION && ++i < SUBDIVISION_MAX_ITERATIONS);\n  return currentT;\n};\nvar newtonRaphsonIterate = function newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {\n  for (var i = 0; i < NEWTON_ITERATIONS; ++i) {\n    var currentSlope = getSlope(aGuessT, mX1, mX2);\n    if (currentSlope === 0.0) return aGuessT;\n    var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n    aGuessT -= currentX / currentSlope;\n  }\n  return aGuessT;\n};\nvar bezier = function bezier(mX1, mY1, mX2, mY2) {\n  if (!(0 <= mX1 && mX1 <= 1 && 0 <= mX2 && mX2 <= 1)) throw new Error('bezier x values must be in [0, 1] range');\n  if (mX1 === mY1 && mX2 === mY2) return function (t) {\n    return t;\n  };\n  // Precompute samples table\n  var sampleValues = float32ArraySupported ? new Float32Array(kSplineTableSize) : new Array(kSplineTableSize);\n  for (var i = 0; i < kSplineTableSize; ++i) {\n    sampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n  }\n  var getTForX = function getTForX(aX) {\n    var intervalStart = 0.0;\n    var currentSample = 1;\n    var lastSample = kSplineTableSize - 1;\n    for (; currentSample !== lastSample && sampleValues[currentSample] <= aX; ++currentSample) {\n      intervalStart += kSampleStepSize;\n    }\n    --currentSample;\n    // Interpolate to provide an initial guess for t\n    var dist = (aX - sampleValues[currentSample]) / (sampleValues[currentSample + 1] - sampleValues[currentSample]);\n    var guessForT = intervalStart + dist * kSampleStepSize;\n    var initialSlope = getSlope(guessForT, mX1, mX2);\n    if (initialSlope >= NEWTON_MIN_SLOPE) return newtonRaphsonIterate(aX, guessForT, mX1, mX2);else if (initialSlope === 0.0) return guessForT;else {\n      return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\n    }\n  };\n  return function (t) {\n    // Because JavaScript number are imprecise, we should guarantee the extremes are right.\n    if (t === 0 || t === 1) return t;\n    return calcBezier(getTForX(t), mY1, mY2);\n  };\n};\n\nvar convertToDash = function convertToDash(str) {\n  str = str.replace(/([A-Z])/g, function (letter) {\n    return \"-\" + letter.toLowerCase();\n  });\n  // Remove first dash\n  return str.charAt(0) === '-' ? str.substring(1) : str;\n};\n/**\r\n  Easing Functions from anime.js, they are tried and true, so, its better to use them instead of other alternatives\r\n*/\nvar Quad = function Quad(t) {\n  return Math.pow(t, 2);\n};\nvar Cubic = function Cubic(t) {\n  return Math.pow(t, 3);\n};\nvar Quart = function Quart(t) {\n  return Math.pow(t, 4);\n};\nvar Quint = function Quint(t) {\n  return Math.pow(t, 5);\n};\nvar Expo = function Expo(t) {\n  return Math.pow(t, 6);\n};\nvar Sine = function Sine(t) {\n  return 1 - Math.cos(t * Math.PI / 2);\n};\nvar Circ = function Circ(t) {\n  return 1 - Math.sqrt(1 - t * t);\n};\nvar Back = function Back(t) {\n  return t * t * (3 * t - 2);\n};\nvar Bounce = function Bounce(t) {\n  var pow2,\n    b = 4;\n  while (t < ((pow2 = Math.pow(2, --b)) - 1) / 11) {}\n  return 1 / Math.pow(4, 3 - b) - 7.5625 * Math.pow((pow2 * 3 - 2) / 22 - t, 2);\n};\nvar Elastic = function Elastic(t, params) {\n  if (params === void 0) {\n    params = [];\n  }\n  var _params = params,\n    _params$ = _params[0],\n    amplitude = _params$ === void 0 ? 1 : _params$,\n    _params$2 = _params[1],\n    period = _params$2 === void 0 ? 0.5 : _params$2;\n  var a = clamp(Number(amplitude), 1, 10);\n  var p = clamp(Number(period), 0.1, 2);\n  if (t === 0 || t === 1) return t;\n  return -a * Math.pow(2, 10 * (t - 1)) * Math.sin((t - 1 - p / (Math.PI * 2) * Math.asin(1 / a)) * (Math.PI * 2) / p);\n};\nvar Spring = function Spring(t, params, duration) {\n  if (params === void 0) {\n    params = [];\n  }\n  var _params2 = params,\n    _params2$ = _params2[0],\n    mass = _params2$ === void 0 ? 1 : _params2$,\n    _params2$2 = _params2[1],\n    stiffness = _params2$2 === void 0 ? 100 : _params2$2,\n    _params2$3 = _params2[2],\n    damping = _params2$3 === void 0 ? 10 : _params2$3,\n    _params2$4 = _params2[3],\n    velocity = _params2$4 === void 0 ? 0 : _params2$4;\n  mass = clamp(mass, 0.1, 1000);\n  stiffness = clamp(stiffness, 0.1, 1000);\n  damping = clamp(damping, 0.1, 1000);\n  velocity = clamp(velocity, 0.1, 1000);\n  var w0 = Math.sqrt(stiffness / mass);\n  var zeta = damping / (2 * Math.sqrt(stiffness * mass));\n  var wd = zeta < 1 ? w0 * Math.sqrt(1 - zeta * zeta) : 0;\n  var a = 1;\n  var b = zeta < 1 ? (zeta * w0 + -velocity) / wd : -velocity + w0;\n  var progress = duration ? duration * t / 1000 : t;\n  if (zeta < 1) {\n    progress = Math.exp(-progress * zeta * w0) * (a * Math.cos(wd * progress) + b * Math.sin(wd * progress));\n  } else {\n    progress = (a + b * progress) * Math.exp(-progress * w0);\n  }\n  if (t === 0 || t === 1) return t;\n  return 1 - progress;\n};\n/**\r\n * Cache the durations at set easing parameters\r\n */\n// export const EasingDurationCache: Map<string | TypeEasingFunction, number> = new Map();\n/**\r\n * The threshold for an infinite loop\r\n */\n// const INTINITE_LOOP_LIMIT = 10000;\n/** Convert easing parameters to Array of numbers, e.g. \"spring(2, 500)\" to [2, 500] */\n// export const parseEasingParameters = (str: string) => {\n//   const match = /(\\(|\\s)([^)]+)\\)?/.exec(str);\n//   return match\n//     ? match[2].split(',').map((value) => {\n//         const num = parseFloat(value);\n//         return !Number.isNaN(num) ? num : value.trim();\n//       })\n//     : [];\n// };\n/**\r\n * The spring easing function will only look smooth at certain durations, with certain parameters.\r\n * This functions returns the optimal duration to create a smooth springy animation based on physics\r\n *\r\n * Note: it can also be used to determine the optimal duration of other types of easing function, but be careful of 'in-'\r\n * easing functions, because of the nature of the function it can sometimes create an infinite loop, I suggest only using\r\n * `getEasingDuration` for `spring`, specifically 'out-spring' and 'spring'\r\n */\n// export const getEasingDuration = (easing: string | TypeEasingFunction = 'spring') => {\n//   if (EasingDurationCache.has(easing)) return EasingDurationCache.get(easing);\n//   // eslint-disable-next-line @typescript-eslint/no-use-before-define\n//   const easingFunction = typeof easing == 'function' ? easing : getEasingFunction(easing as string);\n//   const params = typeof easing == 'function' ? [] : parseEasingParameters(easing);\n//   const frame = 1 / 6;\n//   let elapsed = 0;\n//   let rest = 0;\n//   let count = 0;\n//   while (++count < INTINITE_LOOP_LIMIT) {\n//     elapsed += frame;\n//     if (easingFunction(elapsed, params, undefined) === 1) {\n//       rest++;\n//       if (rest >= 16) break;\n//     } else {\n//       rest = 0;\n//     }\n//   }\n//   const duration = elapsed * frame * 1000;\n//   EasingDurationCache.set(easing, duration);\n//   return duration;\n// };\n/**\r\n  These Easing Functions are based off of the Sozi Project's easing functions\r\n  https://github.com/sozi-projects/Sozi/blob/d72e44ebd580dc7579d1e177406ad41e632f961d/src/js/player/Timing.js\r\n*/\nvar Steps = function Steps(t, params) {\n  if (params === void 0) {\n    params = [];\n  }\n  var _params3 = params,\n    _params3$ = _params3[0],\n    steps = _params3$ === void 0 ? 10 : _params3$,\n    type = _params3[1];\n  var trunc = type == 'start' ? Math.ceil : Math.floor;\n  return trunc(clamp(t, 0, 1) * steps) / steps;\n};\n// @ts-ignore\nvar Bezier = function Bezier(t, params) {\n  if (params === void 0) {\n    params = [];\n  }\n  var _params4 = params,\n    mX1 = _params4[0],\n    mY1 = _params4[1],\n    mX2 = _params4[2],\n    mY2 = _params4[3];\n  return bezier(mX1, mY1, mX2, mY2)(t);\n};\n/** The default `ease-in` easing function */\nvar easein = bezier(0.42, 0.0, 1.0, 1.0);\n/** Converts easing functions to their `out`counter parts */\nvar EaseOut = function EaseOut(ease) {\n  return function (t, params, duration) {\n    if (params === void 0) {\n      params = [];\n    }\n    return 1 - ease(1 - t, params, duration);\n  };\n};\n/** Converts easing functions to their `in-out` counter parts */\nvar EaseInOut = function EaseInOut(ease) {\n  return function (t, params, duration) {\n    if (params === void 0) {\n      params = [];\n    }\n    return t < 0.5 ? ease(t * 2, params, duration) / 2 : 1 - ease(t * -2 + 2, params, duration) / 2;\n  };\n};\n/** Converts easing functions to their `out-in` counter parts */\nvar EaseOutIn = function EaseOutIn(ease) {\n  return function (t, params, duration) {\n    if (params === void 0) {\n      params = [];\n    }\n    return t < 0.5 ? (1 - ease(1 - t * 2, params, duration)) / 2 : (ease(t * 2 - 1, params, duration) + 1) / 2;\n  };\n};\nvar EasingFunctions = {\n  steps: Steps,\n  'step-start': function stepStart(t) {\n    return Steps(t, [1, 'start']);\n  },\n  'step-end': function stepEnd(t) {\n    return Steps(t, [1, 'end']);\n  },\n  linear: function linear(t) {\n    return t;\n  },\n  'cubic-bezier': Bezier,\n  ease: function ease(t) {\n    return Bezier(t, [0.25, 0.1, 0.25, 1.0]);\n  },\n  in: easein,\n  out: EaseOut(easein),\n  'in-out': EaseInOut(easein),\n  'out-in': EaseOutIn(easein),\n  'in-quad': Quad,\n  'out-quad': EaseOut(Quad),\n  'in-out-quad': EaseInOut(Quad),\n  'out-in-quad': EaseOutIn(Quad),\n  'in-cubic': Cubic,\n  'out-cubic': EaseOut(Cubic),\n  'in-out-cubic': EaseInOut(Cubic),\n  'out-in-cubic': EaseOutIn(Cubic),\n  'in-quart': Quart,\n  'out-quart': EaseOut(Quart),\n  'in-out-quart': EaseInOut(Quart),\n  'out-in-quart': EaseOutIn(Quart),\n  'in-quint': Quint,\n  'out-quint': EaseOut(Quint),\n  'in-out-quint': EaseInOut(Quint),\n  'out-in-quint': EaseOutIn(Quint),\n  'in-expo': Expo,\n  'out-expo': EaseOut(Expo),\n  'in-out-expo': EaseInOut(Expo),\n  'out-in-expo': EaseOutIn(Expo),\n  'in-sine': Sine,\n  'out-sine': EaseOut(Sine),\n  'in-out-sine': EaseInOut(Sine),\n  'out-in-sine': EaseOutIn(Sine),\n  'in-circ': Circ,\n  'out-circ': EaseOut(Circ),\n  'in-out-circ': EaseInOut(Circ),\n  'out-in-circ': EaseOutIn(Circ),\n  'in-back': Back,\n  'out-back': EaseOut(Back),\n  'in-out-back': EaseInOut(Back),\n  'out-in-back': EaseOutIn(Back),\n  'in-bounce': Bounce,\n  'out-bounce': EaseOut(Bounce),\n  'in-out-bounce': EaseInOut(Bounce),\n  'out-in-bounce': EaseOutIn(Bounce),\n  'in-elastic': Elastic,\n  'out-elastic': EaseOut(Elastic),\n  'in-out-elastic': EaseInOut(Elastic),\n  'out-in-elastic': EaseOutIn(Elastic),\n  spring: Spring,\n  'spring-in': Spring,\n  'spring-out': EaseOut(Spring),\n  'spring-in-out': EaseInOut(Spring),\n  'spring-out-in': EaseOutIn(Spring)\n};\n/**\r\n * Convert string easing to their proper form\r\n */\nvar complexEasingSyntax = function complexEasingSyntax(ease) {\n  return convertToDash(ease).replace(/^ease-/, '') // Remove the \"ease-\" keyword\n  .replace(/(\\(|\\s).+/, '') // Remove the function brackets and parameters\n  .toLowerCase().trim();\n};\n/** Re-maps a number from one range to another. Numbers outside the range are not clamped to 0 and 1, because out-of-range values are often intentional and useful. */\nvar getEasingFunction = function getEasingFunction(ease) {\n  return EasingFunctions[complexEasingSyntax(ease)] || EasingFunctions.linear;\n};\n// /**\n//  * Allows you to register new easing functions\n//  */\n// export const registerEasingFunction = (key: string, fn: TypeEasingFunction) => {\n//   Object.assign(EasingFunctions, {\n//     [key]: fn,\n//   });\n// };\n// /**\n//  * Allows you to register multiple new easing functions\n//  */\n// export const registerEasingFunctions = (...obj: typeof EasingFunctions[]) => {\n//   Object.assign(EasingFunctions, ...obj);\n// };\n\nvar linear = function linear(x) {\n  return x;\n};\nvar Start = 1;\nvar Middle = 0.5;\nvar End = 0;\nfunction step(count, pos) {\n  return function (x) {\n    if (x >= 1) {\n      return 1;\n    }\n    var stepSize = 1 / count;\n    x += pos * stepSize;\n    return x - x % stepSize;\n  };\n}\nvar numberString = '\\\\s*(-?\\\\d+\\\\.?\\\\d*|-?\\\\.\\\\d+)\\\\s*';\nvar cubicBezierRe = new RegExp('cubic-bezier\\\\(' + numberString + ',' + numberString + ',' + numberString + ',' + numberString + '\\\\)');\nvar step1Re = /steps\\(\\s*(\\d+)\\s*\\)/;\nvar step2Re = /steps\\(\\s*(\\d+)\\s*,\\s*(start|middle|end)\\s*\\)/;\nfunction parseEasingFunction(normalizedEasing) {\n  var cubicData = cubicBezierRe.exec(normalizedEasing);\n  if (cubicData) {\n    // @ts-ignore\n    return bezier.apply(void 0, cubicData.slice(1).map(Number));\n  }\n  var step1Data = step1Re.exec(normalizedEasing);\n  if (step1Data) {\n    return step(Number(step1Data[1]), End);\n  }\n  var step2Data = step2Re.exec(normalizedEasing);\n  if (step2Data) {\n    // @ts-ignore\n    return step(Number(step2Data[1]), {\n      start: Start,\n      middle: Middle,\n      end: End\n    }[step2Data[2]]);\n  }\n  return getEasingFunction(normalizedEasing);\n}\nfunction calculateActiveDuration(timing) {\n  // @ts-ignore\n  return Math.abs(repeatedDuration(timing) / (timing.playbackRate || 1));\n}\nfunction repeatedDuration(timing) {\n  var _timing$iterations;\n  // https://drafts.csswg.org/web-animations/#calculating-the-active-duration\n  if (timing.duration === 0 || timing.iterations === 0) {\n    return 0;\n  }\n  // @see https://developer.mozilla.org/en-US/docs/Web/API/EffectTiming/duration#value\n  // if (timing.duration === 'auto') {\n  //   timing.duration = 0;\n  // }\n  return (timing.duration === 'auto' ? 0 : Number(timing.duration)) * ((_timing$iterations = timing.iterations) !== null && _timing$iterations !== void 0 ? _timing$iterations : 1);\n}\nvar PhaseNone = 0;\nvar PhaseBefore = 1;\nvar PhaseAfter = 2;\nvar PhaseActive = 3;\nfunction calculatePhase(activeDuration, localTime, timing) {\n  // https://drafts.csswg.org/web-animations/#animation-effect-phases-and-states\n  if (localTime === null) {\n    return PhaseNone;\n  }\n  var endTime = timing.endTime;\n  if (localTime < Math.min(timing.delay, endTime)) {\n    return PhaseBefore;\n  }\n  if (localTime >= Math.min(timing.delay + activeDuration + timing.endDelay, endTime)) {\n    return PhaseAfter;\n  }\n  return PhaseActive;\n}\nfunction calculateActiveTime(activeDuration, fillMode, localTime, phase, delay) {\n  // https://drafts.csswg.org/web-animations/#calculating-the-active-time\n  switch (phase) {\n    case PhaseBefore:\n      if (fillMode === 'backwards' || fillMode === 'both') return 0;\n      return null;\n    case PhaseActive:\n      return localTime - delay;\n    case PhaseAfter:\n      if (fillMode === 'forwards' || fillMode === 'both') return activeDuration;\n      return null;\n    case PhaseNone:\n      return null;\n  }\n}\nfunction calculateOverallProgress(iterationDuration, phase, iterations, activeTime, iterationStart) {\n  // https://drafts.csswg.org/web-animations/#calculating-the-overall-progress\n  var overallProgress = iterationStart;\n  if (iterationDuration === 0) {\n    if (phase !== PhaseBefore) {\n      overallProgress += iterations;\n    }\n  } else {\n    overallProgress += activeTime / iterationDuration;\n  }\n  return overallProgress;\n}\nfunction calculateSimpleIterationProgress(overallProgress, iterationStart, phase, iterations, activeTime, iterationDuration) {\n  // https://drafts.csswg.org/web-animations/#calculating-the-simple-iteration-progress\n  var simpleIterationProgress = overallProgress === Infinity ? iterationStart % 1 : overallProgress % 1;\n  if (simpleIterationProgress === 0 && phase === PhaseAfter && iterations !== 0 && (activeTime !== 0 || iterationDuration === 0)) {\n    simpleIterationProgress = 1;\n  }\n  return simpleIterationProgress;\n}\nfunction calculateCurrentIteration(phase, iterations, simpleIterationProgress, overallProgress) {\n  // https://drafts.csswg.org/web-animations/#calculating-the-current-iteration\n  if (phase === PhaseAfter && iterations === Infinity) {\n    return Infinity;\n  }\n  if (simpleIterationProgress === 1) {\n    return Math.floor(overallProgress) - 1;\n  }\n  return Math.floor(overallProgress);\n}\nfunction calculateDirectedProgress(playbackDirection, currentIteration, simpleIterationProgress) {\n  // https://drafts.csswg.org/web-animations/#calculating-the-directed-progress\n  var currentDirection = playbackDirection;\n  if (playbackDirection !== 'normal' && playbackDirection !== 'reverse') {\n    var d = currentIteration;\n    if (playbackDirection === 'alternate-reverse') {\n      d += 1;\n    }\n    currentDirection = 'normal';\n    if (d !== Infinity && d % 2 !== 0) {\n      currentDirection = 'reverse';\n    }\n  }\n  if (currentDirection === 'normal') {\n    return simpleIterationProgress;\n  }\n  return 1 - simpleIterationProgress;\n}\nfunction calculateIterationProgress(activeDuration, localTime, timing) {\n  var phase = calculatePhase(activeDuration, localTime, timing);\n  var activeTime = calculateActiveTime(activeDuration, timing.fill, localTime, phase, timing.delay);\n  if (activeTime === null) return null;\n  var duration = timing.duration === 'auto' ? 0 : timing.duration;\n  var overallProgress = calculateOverallProgress(duration, phase, timing.iterations, activeTime, timing.iterationStart);\n  var simpleIterationProgress = calculateSimpleIterationProgress(overallProgress, timing.iterationStart, phase, timing.iterations, activeTime, duration);\n  var currentIteration = calculateCurrentIteration(phase, timing.iterations, simpleIterationProgress, overallProgress);\n  var directedProgress = calculateDirectedProgress(timing.direction, currentIteration, simpleIterationProgress);\n  timing.currentIteration = currentIteration;\n  timing.progress = directedProgress;\n  // https://drafts.csswg.org/web-animations/#calculating-the-transformed-progress\n  // https://drafts.csswg.org/web-animations/#calculating-the-iteration-progress\n  return timing.easingFunction(directedProgress);\n}\n\nfunction convertEffectInput(keyframes, timing, target) {\n  var propertySpecificKeyframeGroups = makePropertySpecificKeyframeGroups(keyframes, timing);\n  var interpolations = makeInterpolations(propertySpecificKeyframeGroups, target);\n  return function (target, fraction) {\n    if (fraction !== null) {\n      interpolations.filter(function (interpolation) {\n        return fraction >= interpolation.applyFrom && fraction < interpolation.applyTo;\n      }).forEach(function (interpolation) {\n        var offsetFraction = fraction - interpolation.startOffset;\n        var localDuration = interpolation.endOffset - interpolation.startOffset;\n        var scaledLocalTime = localDuration === 0 ? 0 : interpolation.easingFunction(offsetFraction / localDuration);\n        // apply updated attribute\n        target.style[interpolation.property] = interpolation.interpolation(scaledLocalTime);\n        // if (interpolation.property === 'visibility') {\n        //   console.log(\n        //     scaledLocalTime,\n        //     interpolation.interpolation(scaledLocalTime),\n        //   );\n        // }\n      });\n    } else {\n      for (var property in propertySpecificKeyframeGroups) {\n        if (isNotReservedWord(property)) {\n          // clear attribute\n          target.style[property] = null;\n        }\n      }\n    }\n  };\n}\nfunction isNotReservedWord(member) {\n  return member !== 'offset' && member !== 'easing' && member !== 'composite' && member !== 'computedOffset';\n}\nfunction makePropertySpecificKeyframeGroups(keyframes, timing) {\n  var propertySpecificKeyframeGroups = {};\n  for (var i = 0; i < keyframes.length; i++) {\n    for (var member in keyframes[i]) {\n      if (isNotReservedWord(member)) {\n        var propertySpecificKeyframe = {\n          offset: keyframes[i].offset,\n          computedOffset: keyframes[i].computedOffset,\n          easing: keyframes[i].easing,\n          easingFunction: parseEasingFunction(keyframes[i].easing) || timing.easingFunction,\n          value: keyframes[i][member]\n        };\n        propertySpecificKeyframeGroups[member] = propertySpecificKeyframeGroups[member] || [];\n        propertySpecificKeyframeGroups[member].push(propertySpecificKeyframe);\n      }\n    }\n  }\n  return propertySpecificKeyframeGroups;\n}\nfunction makeInterpolations(propertySpecificKeyframeGroups, target) {\n  var interpolations = [];\n  for (var groupName in propertySpecificKeyframeGroups) {\n    var keyframes = propertySpecificKeyframeGroups[groupName];\n    for (var i = 0; i < keyframes.length - 1; i++) {\n      var startIndex = i;\n      var endIndex = i + 1;\n      var startOffset = keyframes[startIndex].computedOffset;\n      var endOffset = keyframes[endIndex].computedOffset;\n      var applyFrom = startOffset;\n      var applyTo = endOffset;\n      if (i === 0) {\n        applyFrom = -Infinity;\n        if (endOffset === 0) {\n          endIndex = startIndex;\n        }\n      }\n      if (i === keyframes.length - 2) {\n        applyTo = Infinity;\n        if (startOffset === 1) {\n          startIndex = endIndex;\n        }\n      }\n      interpolations.push({\n        applyFrom: applyFrom,\n        applyTo: applyTo,\n        startOffset: keyframes[startIndex].computedOffset,\n        endOffset: keyframes[endIndex].computedOffset,\n        easingFunction: keyframes[startIndex].easingFunction,\n        property: groupName,\n        interpolation: propertyInterpolation(groupName, keyframes[startIndex].value, keyframes[endIndex].value, target)\n      });\n    }\n  }\n  interpolations.sort(function (leftInterpolation, rightInterpolation) {\n    return leftInterpolation.startOffset - rightInterpolation.startOffset;\n  });\n  return interpolations;\n}\nvar InterpolationFactory = function InterpolationFactory(from, to,\n// eslint-disable-next-line @typescript-eslint/ban-types\nconvertToString) {\n  return function (f) {\n    var interpolated = interpolate(from, to, f);\n    return !runtime.enableCSSParsing && isNumber(interpolated) ? interpolated : convertToString(interpolated);\n  };\n};\nfunction propertyInterpolation(property, left, right, target) {\n  var metadata = propertyMetadataCache[property];\n  // discrete step\n  // if (property === 'visibility') {\n  //   return function (t: number) {\n  //     if (t === 0) return left;\n  //     if (t === 1) return right;\n  //     debugger;\n  //     return t < 0.5 ? left : right;\n  //   };\n  // }\n  if (metadata && metadata.syntax && metadata.int) {\n    var propertyHandler = runtime.styleValueRegistry.getPropertySyntax(metadata.syntax);\n    if (propertyHandler) {\n      var usedLeft;\n      var usedRight;\n      if (runtime.enableCSSParsing) {\n        var computedLeft = runtime.styleValueRegistry.parseProperty(property, left, target);\n        var computedRight = runtime.styleValueRegistry.parseProperty(property, right, target);\n        usedLeft = runtime.styleValueRegistry.computeProperty(property, computedLeft, target);\n        usedRight = runtime.styleValueRegistry.computeProperty(property, computedRight, target);\n      } else {\n        var parser = propertyHandler.parserWithCSSDisabled;\n        usedLeft = parser ? parser(left, target) : left;\n        usedRight = parser ? parser(right, target) : right;\n      }\n      // merger [left, right, n2string()]\n      var interpolationArgs = propertyHandler.mixer(usedLeft, usedRight, target);\n      if (interpolationArgs) {\n        var interp = InterpolationFactory.apply(void 0, interpolationArgs);\n        return function (t) {\n          if (t === 0) return left;\n          if (t === 1) return right;\n          return interp(t);\n        };\n      }\n    }\n  }\n  // eslint-disable-next-line @typescript-eslint/no-use-before-define\n  return InterpolationFactory(false, true, function (bool) {\n    return bool ? right : left;\n  });\n}\n/**\r\n * interpolate with number, boolean, number[], boolean[]\r\n */\nfunction interpolate(from, to, f) {\n  if (typeof from === 'number' && typeof to === 'number') {\n    return from * (1 - f) + to * f;\n  }\n  if (typeof from === 'boolean' && typeof to === 'boolean' || typeof from === 'string' && typeof to === 'string' // skip string, eg. path ['M', 10, 10]\n  ) {\n    return f < 0.5 ? from : to;\n  }\n  if (Array.isArray(from) && Array.isArray(to)) {\n    // interpolate arrays/matrix\n    if (from.length === to.length) {\n      var r = [];\n      for (var i = 0; i < from.length; i++) {\n        r.push(interpolate(from[i], to[i], f));\n      }\n      return r;\n    }\n  }\n  throw new Error('Mismatched interpolation arguments ' + from + ':' + to);\n}\n\n/**\r\n * @see https://developer.mozilla.org/en-US/docs/Web/API/EffectTiming\r\n */\nvar AnimationEffectTiming = /*#__PURE__*/function () {\n  function AnimationEffectTiming() {\n    this.delay = 0;\n    this.direction = 'normal';\n    this.duration = 'auto';\n    this._easing = 'linear';\n    this.easingFunction = linear;\n    this.endDelay = 0;\n    this.fill = 'auto';\n    this.iterationStart = 0;\n    this.iterations = 1;\n    this.playbackRate = void 0;\n    this.effect = void 0;\n    this.composite = void 0;\n    this.activeDuration = void 0;\n    this.endTime = void 0;\n    this.currentIteration = null;\n    this.progress = null;\n  }\n  _createClass(AnimationEffectTiming, [{\n    key: \"easing\",\n    get: function get() {\n      return this._easing;\n    },\n    set: function set(value) {\n      this.easingFunction = parseEasingFunction(value);\n      this._easing = value;\n    }\n    /**\r\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/EffectTiming/endDelay\r\n     */\n  }]);\n  return AnimationEffectTiming;\n}();\n\n/**\r\n * @example\r\n  {\r\n    translateY: [200, 300],\r\n    scale: [1, 10],\r\n  }\r\n\n * groups' length can be different, the following config should generate 3 frames:\r\n  @example\r\n  {\r\n    translateY: [200, 300, 400],\r\n    scale: [1, 10],\r\n  }\r\n */\nfunction convertToArrayForm(effectInput) {\n  var normalizedEffectInput = [];\n  for (var property in effectInput) {\n    // skip reserved props\n    if (property in ['easing', 'offset', 'composite']) {\n      continue;\n    }\n    // @ts-ignore\n    var values = effectInput[property];\n    if (!Array.isArray(values)) {\n      values = [values];\n    }\n    var numKeyframes = values.length;\n    for (var i = 0; i < numKeyframes; i++) {\n      if (!normalizedEffectInput[i]) {\n        var keyframe = {};\n        if ('offset' in effectInput) {\n          keyframe.offset = Number(effectInput.offset);\n        }\n        if ('easing' in effectInput) {\n          // @ts-ignore\n          keyframe.easing = effectInput.easing;\n        }\n        if ('composite' in effectInput) {\n          // @ts-ignore\n          keyframe.composite = effectInput.composite;\n        }\n        normalizedEffectInput[i] = keyframe;\n      }\n      if (values[i] !== undefined && values[i] !== null) {\n        normalizedEffectInput[i][property] = values[i];\n      }\n    }\n  }\n  normalizedEffectInput.sort(function (a, b) {\n    return (a.computedOffset || 0) - (b.computedOffset || 0);\n  });\n  return normalizedEffectInput;\n}\nfunction normalizeKeyframes(effectInput, timing) {\n  if (effectInput === null) {\n    return [];\n  }\n  if (!Array.isArray(effectInput)) {\n    effectInput = convertToArrayForm(effectInput);\n  }\n  var keyframes = effectInput.map(function (originalKeyframe) {\n    var keyframe = {};\n    if (timing === null || timing === void 0 ? void 0 : timing.composite) {\n      // This will be auto if the composite operation specified on the effect is being used.\n      // @see https://developer.mozilla.org/en-US/docs/Web/API/Web_Animations_API/Keyframe_Formats\n      keyframe.composite = 'auto';\n    }\n    for (var member in originalKeyframe) {\n      var memberValue = originalKeyframe[member];\n      if (member === 'offset') {\n        if (memberValue !== null) {\n          memberValue = Number(memberValue);\n          if (!isFinite(memberValue)) throw new Error('Keyframe offsets must be numbers.');\n          if (memberValue < 0 || memberValue > 1) throw new Error('Keyframe offsets must be between 0 and 1.');\n          keyframe.computedOffset = memberValue;\n        }\n      } else if (member === 'composite') {\n        // TODO: Support add & accumulate in KeyframeEffect.composite\n        // @see https://developer.mozilla.org/en-US/docs/Web/API/KeyframeEffect/composite\n        if (['replace', 'add', 'accumulate', 'auto'].indexOf(memberValue) === -1) {\n          throw new Error(memberValue + \" compositing is not supported\");\n        }\n      } else ;\n      // assign to keyframe, no need to parse shorthand value\n      keyframe[member] = memberValue;\n    }\n    if (keyframe.offset === undefined) {\n      keyframe.offset = null;\n    }\n    if (keyframe.easing === undefined) {\n      // override with timing.easing\n      keyframe.easing = (timing === null || timing === void 0 ? void 0 : timing.easing) || 'linear';\n    }\n    if (keyframe.composite === undefined) {\n      keyframe.composite = 'auto';\n    }\n    return keyframe;\n  });\n  var everyFrameHasOffset = true;\n  var previousOffset = -Infinity;\n  for (var i = 0; i < keyframes.length; i++) {\n    var offset = keyframes[i].offset;\n    if (!isNil(offset)) {\n      if (offset < previousOffset) {\n        throw new TypeError('Keyframes are not loosely sorted by offset. Sort or specify offsets.');\n      }\n      previousOffset = offset;\n    } else {\n      everyFrameHasOffset = false;\n    }\n  }\n  keyframes = keyframes.filter(function (keyframe) {\n    return Number(keyframe.offset) >= 0 && Number(keyframe.offset) <= 1;\n  });\n  function spaceKeyframes() {\n    var _keyframes$offset;\n    var length = keyframes.length;\n    keyframes[length - 1].computedOffset = Number((_keyframes$offset = keyframes[length - 1].offset) !== null && _keyframes$offset !== void 0 ? _keyframes$offset : 1);\n    if (length > 1) {\n      var _keyframes$0$offset;\n      keyframes[0].computedOffset = Number((_keyframes$0$offset = keyframes[0].offset) !== null && _keyframes$0$offset !== void 0 ? _keyframes$0$offset : 0);\n    }\n    var previousIndex = 0;\n    var previousOffset = Number(keyframes[0].computedOffset);\n    for (var _i = 1; _i < length; _i++) {\n      var _offset = keyframes[_i].computedOffset;\n      if (!isNil(_offset) && !isNil(previousOffset)) {\n        for (var j = 1; j < _i - previousIndex; j++) {\n          keyframes[previousIndex + j].computedOffset = previousOffset + (Number(_offset) - previousOffset) * j / (_i - previousIndex);\n        }\n        previousIndex = _i;\n        previousOffset = Number(_offset);\n      }\n    }\n  }\n  if (!everyFrameHasOffset) spaceKeyframes();\n  return keyframes;\n}\n\nvar fills = 'backwards|forwards|both|none'.split('|');\nvar directions = 'reverse|alternate|alternate-reverse'.split('|');\nfunction makeTiming(timingInput, forGroup) {\n  var timing = new AnimationEffectTiming();\n  if (forGroup) {\n    timing.fill = 'both';\n    timing.duration = 'auto';\n  }\n  if (typeof timingInput === 'number' && !isNaN(timingInput)) {\n    timing.duration = timingInput;\n  } else if (timingInput !== undefined) {\n    Object.keys(timingInput).forEach(function (property) {\n      if (timingInput[property] !== undefined && timingInput[property] !== null && timingInput[property] !== 'auto') {\n        if (typeof timing[property] === 'number' || property === 'duration') {\n          if (typeof timingInput[property] !== 'number' || isNaN(timingInput[property])) {\n            return;\n          }\n        }\n        if (property === 'fill' && fills.indexOf(timingInput[property]) === -1) {\n          return;\n        }\n        if (property === 'direction' && directions.indexOf(timingInput[property]) === -1) {\n          return;\n        }\n        // @ts-ignore\n        timing[property] = timingInput[property];\n      }\n    });\n  }\n  return timing;\n}\nfunction normalizeTimingInput(timingInput, forGroup) {\n  var _timingInput;\n  timingInput = numericTimingToObject((_timingInput = timingInput) !== null && _timingInput !== void 0 ? _timingInput : {\n    duration: 'auto'\n  });\n  return makeTiming(timingInput, forGroup);\n}\nfunction numericTimingToObject(timingInput) {\n  if (typeof timingInput === 'number') {\n    if (isNaN(timingInput)) {\n      timingInput = {\n        duration: 'auto'\n      };\n    } else {\n      timingInput = {\n        duration: timingInput\n      };\n    }\n  }\n  return timingInput;\n}\n/**\r\n * @see https://developer.mozilla.org/en-US/docs/Web/API/KeyframeEffect\r\n * @example\r\n  const circleDownKeyframes = new KeyframeEffect(\r\n    circle, // element to animate\r\n    [\r\n      { transform: 'translateY(0)' }, // keyframe\r\n      { transform: 'translateY(100)' } // keyframe\r\n    ],\r\n    { duration: 3000, fill: 'forwards' } // keyframe options\r\n  );\r\n *\r\n */\nvar KeyframeEffect = /*#__PURE__*/function () {\n  // pseudoElement: string | null;\n\n  function KeyframeEffect(target, effectInput, timingInput) {\n    var _this = this;\n    this.composite = 'replace';\n    this.iterationComposite = 'replace';\n    this.target = void 0;\n    this.animation = void 0;\n    this.timing = void 0;\n    this.computedTiming = void 0;\n    this.normalizedKeyframes = void 0;\n    this.timeFraction = void 0;\n    this.interpolations = void 0;\n    this.target = target;\n    this.timing = normalizeTimingInput(timingInput, false);\n    this.timing.effect = this;\n    this.timing.activeDuration = calculateActiveDuration(this.timing);\n    this.timing.endTime = Math.max(0, this.timing.delay + this.timing.activeDuration + this.timing.endDelay);\n    this.normalizedKeyframes = normalizeKeyframes(effectInput, this.timing);\n    this.interpolations = convertEffectInput(this.normalizedKeyframes, this.timing, this.target);\n    this.computedTiming = new Proxy(this.timing, {\n      get: function get(target, prop) {\n        if (prop === 'duration') {\n          return target.duration === 'auto' ? 0 : target.duration;\n        } else if (prop === 'fill') {\n          return target.fill === 'auto' ? 'none' : target.fill;\n        } else if (prop === 'localTime') {\n          return _this.animation && _this.animation.currentTime || null;\n        } else if (prop === 'currentIteration') {\n          if (!_this.animation || _this.animation.playState !== 'running') {\n            return null;\n          }\n          return target.currentIteration || 0;\n        } else if (prop === 'progress') {\n          if (!_this.animation || _this.animation.playState !== 'running') {\n            return null;\n          }\n          return target.progress || 0;\n        }\n        return target[prop];\n      },\n      set: function set() {\n        return true;\n      }\n    });\n  }\n  var _proto = KeyframeEffect.prototype;\n  _proto.applyInterpolations = function applyInterpolations() {\n    this.interpolations(this.target, Number(this.timeFraction));\n  };\n  _proto.update = function update(localTime) {\n    if (localTime === null) {\n      return false;\n    }\n    this.timeFraction = calculateIterationProgress(this.timing.activeDuration, localTime, this.timing);\n    return this.timeFraction !== null;\n  };\n  _proto.getKeyframes = function getKeyframes() {\n    return this.normalizedKeyframes;\n  };\n  _proto.setKeyframes = function setKeyframes(keyframes) {\n    this.normalizedKeyframes = normalizeKeyframes(keyframes);\n  }\n  /**\r\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/AnimationEffect/getComputedTiming\r\n   */;\n  _proto.getComputedTiming = function getComputedTiming() {\n    return this.computedTiming;\n  }\n  /**\r\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/AnimationEffect/getTiming\r\n   */;\n  _proto.getTiming = function getTiming() {\n    return this.timing;\n  }\n  /**\r\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/AnimationEffect/updateTiming\r\n   */;\n  _proto.updateTiming = function updateTiming(timing) {\n    var _this2 = this;\n    Object.keys(timing || {}).forEach(function (name) {\n      _this2.timing[name] = timing[name];\n    });\n  };\n  return KeyframeEffect;\n}();\n\nfunction compareAnimations(leftAnimation, rightAnimation) {\n  return Number(leftAnimation.id) - Number(rightAnimation.id);\n}\n/**\r\n * @see https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/types/web-animations-js/index.d.ts\r\n */\nvar AnimationTimeline = /*#__PURE__*/function () {\n  /**\r\n   * all active animations\r\n   */\n\n  function AnimationTimeline(document) {\n    var _this = this;\n    this.document = void 0;\n    this.animations = [];\n    this.ticking = false;\n    this.timelineTicking = false;\n    this.hasRestartedThisFrame = false;\n    this.animationsWithPromises = [];\n    this.inTick = false;\n    this.pendingEffects = [];\n    this.currentTime = null;\n    this.rafId = 0;\n    this.rafCallbacks = [];\n    this.frameId = void 0;\n    this.webAnimationsNextTick = function (t) {\n      _this.currentTime = t;\n      _this.discardAnimations();\n      if (_this.animations.length === 0) {\n        _this.timelineTicking = false;\n      } else {\n        _this.requestAnimationFrame(_this.webAnimationsNextTick);\n      }\n    };\n    this.processRafCallbacks = function (t) {\n      var processing = _this.rafCallbacks;\n      _this.rafCallbacks = [];\n      if (t < Number(_this.currentTime)) t = Number(_this.currentTime);\n      _this.animations.sort(compareAnimations);\n      _this.animations = _this.tick(t, true, _this.animations)[0];\n      processing.forEach(function (entry) {\n        entry[1](t);\n      });\n      _this.applyPendingEffects();\n    };\n    this.document = document;\n  }\n  var _proto = AnimationTimeline.prototype;\n  _proto.getAnimations = function getAnimations() {\n    this.discardAnimations();\n    return this.animations.slice();\n  };\n  _proto.isTicking = function isTicking() {\n    return this.inTick;\n  };\n  _proto.play = function play(target, keyframes, options) {\n    var effect = new KeyframeEffect(target, keyframes, options);\n    var animation = new Animation(effect, this);\n    this.animations.push(animation);\n    this.restartWebAnimationsNextTick();\n    animation.updatePromises();\n    animation.play();\n    animation.updatePromises();\n    return animation;\n  }\n  // RAF is supposed to be the last script to occur before frame rendering but not\n  // all browsers behave like this. This function is for synchonously updating an\n  // animation's effects whenever its state is mutated by script to work around\n  // incorrect script execution ordering by the browser.\n  ;\n  _proto.applyDirtiedAnimation = function applyDirtiedAnimation(animation) {\n    var _this2 = this;\n    if (this.inTick) {\n      return;\n    }\n    // update active animations in displayobject\n    animation.markTarget();\n    var animations = animation.targetAnimations();\n    animations.sort(compareAnimations);\n    // clear inactive animations\n    var inactiveAnimations = this.tick(Number(this.currentTime), false, animations.slice())[1];\n    inactiveAnimations.forEach(function (animation) {\n      var index = _this2.animations.indexOf(animation);\n      if (index !== -1) {\n        _this2.animations.splice(index, 1);\n      }\n    });\n    this.applyPendingEffects();\n  };\n  _proto.restart = function restart() {\n    if (!this.ticking) {\n      this.ticking = true;\n      this.requestAnimationFrame(function () {});\n      this.hasRestartedThisFrame = true;\n    }\n    return this.hasRestartedThisFrame;\n  };\n  _proto.destroy = function destroy() {\n    this.document.defaultView.cancelAnimationFrame(this.frameId);\n  };\n  _proto.applyPendingEffects = function applyPendingEffects() {\n    this.pendingEffects.forEach(function (effect) {\n      effect === null || effect === void 0 ? void 0 : effect.applyInterpolations();\n    });\n    this.pendingEffects = [];\n  };\n  _proto.updateAnimationsPromises = function updateAnimationsPromises() {\n    this.animationsWithPromises = this.animationsWithPromises.filter(function (animation) {\n      return animation.updatePromises();\n    });\n  };\n  _proto.discardAnimations = function discardAnimations() {\n    this.updateAnimationsPromises();\n    this.animations = this.animations.filter(function (animation) {\n      return animation.playState !== 'finished' && animation.playState !== 'idle';\n    });\n  };\n  _proto.restartWebAnimationsNextTick = function restartWebAnimationsNextTick() {\n    if (!this.timelineTicking) {\n      this.timelineTicking = true;\n      this.requestAnimationFrame(this.webAnimationsNextTick);\n    }\n  };\n  _proto.rAF = function rAF(f) {\n    var id = this.rafId++;\n    if (this.rafCallbacks.length === 0) {\n      this.frameId = this.document.defaultView.requestAnimationFrame(this.processRafCallbacks);\n    }\n    this.rafCallbacks.push([id, f]);\n    return id;\n  };\n  _proto.requestAnimationFrame = function requestAnimationFrame(f) {\n    var _this3 = this;\n    return this.rAF(function (x) {\n      _this3.updateAnimationsPromises();\n      f(x);\n      _this3.updateAnimationsPromises();\n    });\n  };\n  _proto.tick = function tick(t, isAnimationFrame, updatingAnimations) {\n    var _this4 = this,\n      _this$pendingEffects,\n      _this$pendingEffects2;\n    this.inTick = true;\n    this.hasRestartedThisFrame = false;\n    this.currentTime = t;\n    this.ticking = false;\n    var newPendingClears = [];\n    var newPendingEffects = [];\n    var activeAnimations = [];\n    var inactiveAnimations = [];\n    updatingAnimations.forEach(function (animation) {\n      animation.tick(t, isAnimationFrame);\n      if (!animation._inEffect) {\n        newPendingClears.push(animation.effect);\n        animation.unmarkTarget();\n      } else {\n        newPendingEffects.push(animation.effect);\n        animation.markTarget();\n      }\n      if (animation._needsTick) _this4.ticking = true;\n      var alive = animation._inEffect || animation._needsTick;\n      animation._inTimeline = alive;\n      if (alive) {\n        activeAnimations.push(animation);\n      } else {\n        inactiveAnimations.push(animation);\n      }\n    });\n    (_this$pendingEffects = this.pendingEffects).push.apply(_this$pendingEffects, newPendingClears);\n    (_this$pendingEffects2 = this.pendingEffects).push.apply(_this$pendingEffects2, newPendingEffects);\n    if (this.ticking) this.requestAnimationFrame(function () {});\n    this.inTick = false;\n    return [activeAnimations, inactiveAnimations];\n  };\n  return AnimationTimeline;\n}();\n\nruntime.EasingFunction = parseEasingFunction;\nruntime.AnimationTimeline = AnimationTimeline;\n\nexport { Animation, AnimationEvent, AnimationTimeline, KeyframeEffect, compareAnimations, makeTiming, normalizeKeyframes, normalizeTimingInput, numericTimingToObject };\n", "import { __extends } from \"tslib\";\nimport Component from './component';\nimport Children from './children';\nvar Timeline = /** @class */function (_super) {\n  __extends(Timeline, _super);\n  function Timeline(props) {\n    var _this = _super.call(this, props) || this;\n    _this.next = function () {\n      var _a = _this,\n        state = _a.state,\n        props = _a.props;\n      var index = state.index,\n        count = state.count,\n        delay = state.delay;\n      var loop = props.loop;\n      var next = loop ? (index + 1) % count : index + 1;\n      if (next < count) {\n        setTimeout(function () {\n          _this.setState({\n            index: next\n          });\n        }, delay || 0);\n      }\n    };\n    var delay = props.delay,\n      _a = props.start,\n      start = _a === void 0 ? 0 : _a,\n      children = props.children;\n    var count = Children.toArray(children).length;\n    _this.state = {\n      delay: delay,\n      count: count,\n      index: start\n    };\n    return _this;\n  }\n  Timeline.prototype.didMount = function () {\n    this.animator.on('end', this.next);\n  };\n  Timeline.prototype.didUnmount = function () {\n    this.animator.off('end', this.next);\n  };\n  Timeline.prototype.render = function () {\n    var _a = this,\n      state = _a.state,\n      props = _a.props;\n    var children = props.children;\n    var index = state.index;\n    var childrenArray = Children.toArray(children);\n    return childrenArray[index];\n  };\n  return Timeline;\n}(Component);\nexport default Timeline;", "import { __assign, __awaiter, __generator } from \"tslib\";\nimport { h, toRaw, isVNode } from 'vue';\nimport { Canvas, Children } from '@antv/f-engine';\nvar toRawChildren = function toRawChildren(slots) {\n  return Children.map(slots, function (slot) {\n    if (!slot) return slot;\n    var element = toRaw(slot);\n    // vnode\n    if (isVNode(element)) {\n      var key = element.key,\n        ref = element.ref,\n        type = element.type,\n        props = element.props,\n        children = element.children;\n      if (children) {\n        props.children = toRawChildren(children);\n      }\n      return {\n        key: key,\n        ref: ref,\n        type: type,\n        props: props\n      };\n    }\n    // slot\n    if (element.default) {\n      var children = element.default();\n      return toRawChildren(children);\n    }\n    return null;\n  });\n};\nexport default {\n  props: {\n    className: {\n      type: String,\n      required: false\n    },\n    pixelRatio: {\n      type: Number,\n      default: 1,\n      required: false\n    },\n    width: {\n      type: [Number, String],\n      required: false\n    },\n    height: {\n      type: [Number, String],\n      required: false\n    },\n    padding: {\n      type: [Number, String, Array],\n      required: false\n    },\n    animate: {\n      type: [Boolean],\n      default: true,\n      required: false\n    },\n    px2hd: {\n      type: [Function],\n      required: false\n    }\n  },\n  methods: {\n    getProps: function getProps() {\n      var _a = this,\n        $props = _a.$props,\n        $slots = _a.$slots;\n      var props = toRaw($props);\n      var canvasEl = this.$el;\n      var context = canvasEl.getContext('2d');\n      return __assign(__assign({}, props), {\n        // context 内部创建，不能被覆盖\n        context: context,\n        children: toRawChildren($slots)\n      });\n    }\n  },\n  mounted: function mounted() {\n    return __awaiter(this, void 0, void 0, function () {\n      var props, canvas;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            props = this.getProps();\n            canvas = new Canvas(props);\n            return [4 /*yield*/, canvas.render()];\n          case 1:\n            _a.sent();\n            this.canvas = canvas;\n            return [2 /*return*/];\n        }\n      });\n    });\n  },\n\n  updated: function updated() {\n    return __awaiter(this, void 0, void 0, function () {\n      var props, canvas;\n      return __generator(this, function (_a) {\n        switch (_a.label) {\n          case 0:\n            props = this.getProps();\n            canvas = this.canvas;\n            return [4 /*yield*/, canvas.update(props)];\n          case 1:\n            _a.sent();\n            return [2 /*return*/];\n        }\n      });\n    });\n  },\n\n  render: function render() {\n    return h('canvas', {\n      className: \"f-chart \".concat(this.className || ''),\n      style: {\n        width: '100%',\n        height: '100%',\n        display: 'block',\n        padding: 0,\n        margin: 0\n      }\n    });\n  },\n  beforeUnmount: function beforeUnmount() {\n    var canvas = this.canvas;\n    canvas.destroy();\n  }\n};"],
  "mappings": "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AE,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,EAAE,IAAI,EAAE,CAAC,IAAI,EAAE,EAAE,IAAI,EAAE,CAAC,GAAG,EAAE,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,EAAE,IAAI,EAAE,CAAC,IAAI,EAAE,EAAE,IAAI,EAAE,CAAC,GAAG,EAAE,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,EAAE,IAAI,EAAE,EAAE,IAAI,EAAE,EAAE,GAAG,EAAE,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,EAAE,IAAI,EAAE,EAAE,IAAI,EAAE,EAAE,GAAG,EAAE,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,EAAE,IAAI,EAAE,EAAE,IAAI,EAAE,EAAE,IAAI,EAAE,EAAE,GAAG,EAAE,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,CAAC,IAAI,EAAE,EAAE,IAAI,EAAE,EAAE,IAAI,EAAE,EAAE,IAAI,EAAE,EAAE,GAAG,EAAE,CAAC,IAAI,EAAE,EAAE,IAAI,EAAE,CAAC,IAAI,EAAE,EAAE,IAAI,EAAE,CAAC,IAAI,EAAE,EAAE,IAAI,EAAE,EAAE,IAAI,EAAE,EAAE,GAAG,EAAE,CAAC,IAAI,EAAE,EAAE,IAAI,EAAE,CAAC,IAAI,EAAE,EAAE,IAAI,EAAE,CAAC,IAAI,EAAE,EAAE,IAAI,EAAE,EAAE,IAAI,EAAE,EAAE,GAAG,EAAE,CAAC,IAAI,EAAE,EAAE,IAAI,EAAE,CAAC,IAAI,EAAE,EAAE,IAAI,EAAE,EAAE,IAAI,EAAE,EAAE,IAAI,EAAE,EAAE,IAAI,EAAE,EAAE,GAAG,EAAE,CAAC,IAAI,EAAE,EAAE,IAAI,EAAE,CAAC,IAAI,EAAE,EAAE,IAAI,EAAE,EAAE,IAAI,EAAE,EAAE,IAAI,EAAE,EAAE,IAAI,EAAE,EAAE,CAAC;AACx6B;AACA,SAAS,gBAAgB,eAAe;AAC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",
  "names": ["global", "factory", "compare", "s", "tmp", "RBush", "data", "extend", "EE", "EventEmitter", "len", "length", "rad", "s", "scale", "add", "adjoint", "clone", "copy", "create", "determinant", "equals", "exactEquals", "frob", "fromQuat", "fromRotation", "fromScaling", "fromTranslation", "fromValues", "identity", "invert", "mul", "multiply", "multiplyScalar", "multiplyScalarAndAdd", "rotate", "scale", "set", "str", "sub", "subtract", "translate", "transpose", "create", "clone", "copy", "fromValues", "set", "identity", "transpose", "invert", "adjoint", "determinant", "multiply", "translate", "scale", "rotate", "rad", "len", "s", "fromTranslation", "fromScaling", "fromRotation", "fromQuat", "str", "frob", "add", "subtract", "multiplyScalar", "multiplyScalarAndAdd", "exactEquals", "equals", "mul", "sub", "add", "clone", "copy", "create", "dot", "equals", "exactEquals", "fromValues", "identity", "invert", "len", "length", "lerp", "mul", "multiply", "normalize", "random", "rotateX", "rotateY", "rotateZ", "scale", "set", "sqrLen", "squaredLength", "str", "add", "clone", "copy", "create", "equals", "exactEquals", "fromValues", "mul", "multiply", "rotateX", "rotateY", "rotateZ", "scale", "set", "str", "sub", "subtract", "create", "clone", "fromValues", "copy", "set", "add", "subtract", "multiply", "scale", "len", "d", "rotateX", "rad", "rotateY", "rotateZ", "str", "exactEquals", "equals", "sub", "mul", "add", "ceil", "clone", "copy", "create", "cross", "dist", "distance", "div", "divide", "dot", "equals", "exactEquals", "floor", "forEach", "fromValues", "inverse", "len", "length", "lerp", "max", "min", "mul", "multiply", "negate", "normalize", "random", "round", "scale", "scaleAndAdd", "set", "sqrDist", "sqrLen", "squaredDistance", "squaredLength", "str", "sub", "subtract", "transformMat4", "transformQuat", "zero", "create", "clone", "fromValues", "copy", "set", "add", "subtract", "multiply", "divide", "ceil", "floor", "min", "max", "round", "scale", "scaleAndAdd", "distance", "squaredDistance", "length", "squaredLength", "negate", "inverse", "normalize", "len", "dot", "cross", "A", "B", "C", "D", "E", "lerp", "random", "d", "transformMat4", "transformQuat", "zero", "str", "exactEquals", "equals", "sub", "mul", "div", "dist", "sqrDist", "sqrLen", "forEach", "create", "identity", "rad", "s", "dot", "multiply", "rotateX", "rotateY", "rotateZ", "scale", "random", "invert", "str", "clone", "fromValues", "copy", "set", "add", "mul", "lerp", "length", "len", "squaredLength", "sqrLen", "normalize", "exactEquals", "equals", "d", "add", "angle", "ceil", "clone", "copy", "create", "cross", "dist", "distance", "div", "divide", "dot", "equals", "exactEquals", "floor", "forEach", "fromValues", "inverse", "len", "length", "lerp", "max", "min", "mul", "multiply", "negate", "normalize", "random", "rotate", "round", "scale", "scaleAndAdd", "set", "sqrDist", "sqrLen", "squaredDistance", "squaredLength", "str", "sub", "subtract", "transformMat3", "transformMat4", "zero", "create", "clone", "fromValues", "copy", "set", "add", "subtract", "multiply", "divide", "ceil", "floor", "min", "max", "round", "scale", "scaleAndAdd", "distance", "squaredDistance", "length", "squaredLength", "negate", "inverse", "normalize", "len", "dot", "cross", "lerp", "random", "transformMat3", "transformMat4", "rotate", "rad", "angle", "zero", "str", "exactEquals", "equals", "sub", "mul", "div", "dist", "sqrDist", "sqrLen", "forEach", "data", "max", "max", "max", "PathParser", "rad", "angle", "rad", "h", "distance", "length", "px", "angle", "PI", "distance", "length", "t1", "distance", "length", "t1", "distance", "length", "distance", "data", "length", "min", "max", "s", "len", "distance", "len", "splice", "data", "str", "min", "max", "toString", "default_1", "Component", "len", "import_rbush", "factory", "h", "s", "min", "max", "h", "h", "s", "h", "distance", "isNumberEqual", "angle", "length", "cross", "d", "EPSILON", "d2", "box", "xExtrema", "yExtrema", "pointDistance", "pointAt", "divide", "tangentAngle", "t1", "t2", "nearestPoint$1", "nearestPoint", "px", "getAngle", "rotate", "PropertySyntax", "define", "self", "value", "next", "key", "_setPrototypeOf", "o", "p", "len", "UnitType", "UnitCategory", "ValueRange", "Nested", "ParenLess", "CSSStyleValueType", "stringToUnitType", "unitFromName", "unitTypeToUnitCategory", "canonicalUnitTypeForCategory", "conversionToCanonicalUnitsScaleFactor", "unitTypeToString", "CSSStyleValue", "toString", "CSSColorValue", "_this", "GradientType", "CSSGradientValue", "clone", "CSSKeywordValue", "memoized", "str", "kebabize", "map", "formatInfinityOrNaN", "number", "toCanonicalUnit", "CSSUnitValue", "_this", "clone", "equals", "CSSRGB", "getOrCreateKeyword", "getOrCreateUnitValue", "id", "getAngle", "angle", "deg2rad", "deg", "rad2deg", "rad", "turn", "quat", "fromRotationTranslationScale", "d", "determinant", "angle", "rad2deg", "scale", "perspective", "normalize", "scale2", "s", "deg2rad", "circle", "ellipse", "color", "size", "rad", "length", "Shape", "getPathBBox", "box", "angleBetween", "pointOnEllipticalArc", "len", "dist", "r", "CALL_DELEGATE", "CALL_ASYNC_DELEGATE", "PROMISE_DELEGATE", "Hook", "_this", "mergeOptions", "withOptions", "HookCodeFactory", "create", "code", "_loop", "j", "current", "doneBreak", "i", "_loop2", "done", "AsyncParallelHookCodeFactory", "COMPILE", "AsyncParallelHook", "AsyncSeriesWaterfallHookCodeFactory", "onResult", "onDone", "AsyncSeriesWaterfallHook", "SyncHookCodeFactory", "TAP_ASYNC", "TAP_PROMISE", "SyncHook", "SyncWaterfallHookCodeFactory", "SyncWaterfallHook", "uniqueId", "pnow", "polyfillRaf", "id", "polyfillCaf", "getRequestAnimationFrame", "vp", "getCancelAnimationFrame", "find", "length", "angle", "type", "steps", "size", "color", "rgba", "color", "AABB", "min", "max", "add", "intersection", "Plane", "distance", "normalize", "Mask", "Frustum", "Point", "clone", "Rectangle", "parseLengthOrPercentage", "deg", "rad2deg", "size", "parseParam", "internalParsePath", "e", "getPathBBox", "A", "s", "angle", "deg2rad", "length", "d", "translate", "scale", "perspective", "multiply", "composeMatrix", "quat", "dot", "isMatrixOrPerspective", "_loop", "i", "type", "tmp", "j", "CSSPropertyAngle", "CSSPropertyClipPath", "CSSPropertyColor", "CSSPropertyFilter", "CSSPropertyLengthOrPercentage", "CSSPropertyLengthOrPercentage12", "CSSPropertyLengthOrPercentage14", "CSSPropertyLocalPosition", "CSSPropertyMarker", "CSSPropertyNumber", "CSSPropertyOffsetDistance", "CSSPropertyOpacity", "CSSPropertyPath", "CSSPropertyPoints", "CSSPropertyShadowBlur", "_this", "CSSPropertyText", "CSSPropertyTextTransform", "CSSPropertyTransform", "CSSPropertyTransformOrigin", "CSSPropertyZIndex", "CustomElementRegistry", "define", "FederatedEvent", "CustomEvent", "EventTarget", "EventEmitter", "listener", "Node", "forEach", "set", "Document", "createElement", "id", "find", "Strategy", "ElementEvent", "MutationEvent", "Element", "_this", "id", "find", "set", "Node", "FederatedMouseEvent", "FederatedPointerEvent", "clone", "FederatedWheelEvent", "DisplayObject", "_", "translate", "getPosition", "scale", "rad2deg", "rotate", "getRotation", "transformMat4", "fromRotationTranslationScale", "angle", "add", "Circle", "CustomElement", "DisplayObjectPool", "Ellipse", "Group", "HTML", "Image", "Line", "rad", "getPoint", "getPointAtLength", "distance", "getTotalLength", "Path", "marker", "length", "Polygon", "Polyline", "Rect", "Text", "d", "isPropertyResolved", "DefaultStyleValueRegistry", "min", "max", "CameraType", "CameraTrackingMode", "CameraProjectionMode", "Camera", "EventEmitter", "deg2rad", "pos", "getAngle", "CircleUpdater", "EllipseUpdater", "LineUpdater", "PathUpdater", "PolylineUpdater", "RectUpdater", "TextUpdater", "EventService", "e", "propagationPath", "tmp", "OffscreenCanvasCreator", "RenderReason", "RenderingService", "render", "DefaultSceneGraphSelector", "root", "DefaultSceneGraphService", "runtime", "tmpMat4", "trigger", "s", "TextService", "line", "measureText", "leading", "width", "i", "calcWidth", "char", "color", "getGlobalThis", "AbstractRendererPlugin", "AbstractRenderer", "CullingPlugin", "DirtyCheckPlugin", "EventPlugin", "FrustumCullingStrategy", "frustum", "len", "PrepareRendererPlugin", "handleAttributeChanged", "handleBoundsChanged", "handleMounted", "handleUnmounted", "CanvasEvent", "Canvas", "_this", "document", "requestAnimationFrame", "cancelAnimationFrame", "root", "render", "tick", "RBush", "polarToCartesian", "Arc", "_this", "deg2rad", "angle", "Marker", "_this", "d2", "s", "d", "computeArcSweep", "Sector", "_this", "deg2rad", "angle", "getPoint", "min", "max", "len", "SmoothPolyline", "_this", "pos", "d", "import_eventemitter3", "_inheritsLoose", "_setPrototypeOf", "o", "p", "_assertThisInitialized", "self", "calcDirection", "calcDistance", "getCenter", "Gesture", "_this", "len", "ev", "global", "EE", "Gesture", "registerTag", "getTag", "Shape", "Shape", "import_eventemitter3", "Animator", "_this", "d", "EE", "Shape", "map", "isUndefined", "pos", "min", "max", "percent", "measureText", "NodeTree", "Shape", "measureText", "len", "getStyle", "Shape", "last", "_inheritsLoose", "_setPrototypeOf", "o", "p", "rad", "length", "h", "Plugin", "_this", "_regeneratorRuntime", "define", "self", "value", "next", "key", "asyncGeneratorStep", "_asyncToGenerator", "_inheritsLoose", "_setPrototypeOf", "o", "p", "_unsupportedIterableToArray", "_arrayLikeToArray", "len", "_createForOfIteratorHelperLoose", "tmpMat4", "CanvasPickerPlugin", "_this", "runtime", "generatePath", "document", "distance", "isNumberEqual", "getBBoxByArray", "piMod", "angle", "line", "box", "length", "pointAt", "pointDistance", "cross", "pointToLine", "d", "tangentAngle", "EPSILON", "nearestPoint", "d2", "snapLength", "quadraticAt", "extrema", "derivativeAt", "divideQuadratic", "quadraticLength", "quadratic", "xExtrema", "yExtrema", "nearestPoint$1", "divide", "cubicAt", "derivativeAt$1", "extrema$1", "t1", "t2", "divideCubic", "cubicLength", "cubic", "last", "isPointInStroke", "px", "isPointInPath", "Plugin", "trueFunc", "_regeneratorRuntime", "define", "self", "value", "next", "key", "asyncGeneratorStep", "_asyncToGenerator", "_extends", "_inheritsLoose", "_setPrototypeOf", "o", "p", "CanvasRendererPlugin", "runtime", "_this", "handleUnmounted", "e", "handleCulled", "context", "renderByZIndex", "generatePath", "min", "max", "id", "DefaultRenderer", "render", "gradient", "object", "color", "ImageRenderer", "TextRenderer", "RectRenderer", "CircleRenderer", "EllipseRenderer", "LineRenderer", "PolylineRenderer", "PolygonRenderer", "PathRenderer", "Plugin", "_regeneratorRuntime", "define", "self", "value", "next", "key", "asyncGeneratorStep", "_asyncToGenerator", "_inheritsLoose", "_setPrototypeOf", "o", "p", "ARRAY_TYPE", "create", "identity", "scale", "ImagePool", "_this", "angle", "size", "gradient", "color", "LoadImagePlugin", "handleMounted", "e", "handleAttributeChanged", "Plugin", "_regeneratorRuntime", "define", "self", "value", "next", "key", "asyncGeneratorStep", "_asyncToGenerator", "_inheritsLoose", "_setPrototypeOf", "o", "p", "MobileInteractionPlugin", "onPointerDown", "onPointerUp", "onPointerMove", "onPointerOver", "onPointerOut", "onPointerCancel", "Plugin", "_this", "_regeneratorRuntime", "define", "self", "value", "next", "key", "asyncGeneratorStep", "_asyncToGenerator", "_inheritsLoose", "_setPrototypeOf", "o", "p", "_extends", "DragndropPlugin", "_this", "document", "handlePointerdown", "event", "handlePointermove", "stopDragging", "Plugin", "Canvas2DContextService", "ContextRegisterPlugin", "Renderer", "import_eventemitter3", "CanvasElement", "EventEmitter", "e", "import_eventemitter3", "len", "e", "px", "px2hd", "batchPx2hd", "_defineProperties", "_toPropertyKey", "_createClass", "_inheritsLoose", "_setPrototypeOf", "o", "p", "_toPrimitive", "AnimationEvent", "_this", "Animation", "set", "A", "B", "C", "calcBezier", "getSlope", "binarySubdivide", "newtonRaphsonIterate", "bezier", "getTForX", "dist", "convertToDash", "str", "Quad", "Cubic", "Quart", "Quint", "Expo", "Sine", "Circ", "Back", "Bounce", "Elastic", "Spring", "Steps", "Bezier", "EaseOut", "ease", "EaseInOut", "EaseOutIn", "complexEasingSyntax", "getEasingFunction", "linear", "pos", "d", "target", "InterpolationFactory", "AnimationEffectTiming", "length", "previousOffset", "KeyframeEffect", "AnimationTimeline", "document", "animation", "id", "requestAnimationFrame", "px2hd", "computeLayout", "Canvas", "requestAnimationFrame", "cancelAnimationFrame", "EE", "Timeline", "_this", "_a", "props", "count", "delay", "toRawChildren", "render"]
}
