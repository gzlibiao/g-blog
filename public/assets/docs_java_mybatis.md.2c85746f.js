import{_ as s,c as n,o as a,a as l}from"./app.116e60de.js";const D=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[{"level":2,"title":"优点","slug":"优点","link":"#优点","children":[]},{"level":2,"title":"mybatis 标签","slug":"mybatis-标签","link":"#mybatis-标签","children":[{"level":3,"title":"1.if 标签","slug":"_1-if-标签","link":"#_1-if-标签","children":[]},{"level":3,"title":"2.where 标签","slug":"_2-where-标签","link":"#_2-where-标签","children":[]},{"level":3,"title":"3.trim 标签","slug":"_3-trim-标签","link":"#_3-trim-标签","children":[]},{"level":3,"title":"4.choose 标签","slug":"_4-choose-标签","link":"#_4-choose-标签","children":[]},{"level":3,"title":"5.set 标签-UPDATE 子标签","slug":"_5-set-标签-update-子标签","link":"#_5-set-标签-update-子标签","children":[]},{"level":3,"title":"6.foreach 标签","slug":"_6-foreach-标签","link":"#_6-foreach-标签","children":[]},{"level":3,"title":"7.bind 标签","slug":"_7-bind-标签","link":"#_7-bind-标签","children":[]}]}],"relativePath":"docs/java/mybatis.md"}'),e={name:"docs/java/mybatis.md"},p=l(`<h2 id="优点" tabindex="-1">优点 <a class="header-anchor" href="#优点" aria-hidden="true">#</a></h2><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">● 无侵入：只做增强不做改变，引入它不会对现有工程产生影响，如丝般顺滑</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">● 损耗小：启动即会自动注入基本 CURD，性能基本无损耗，直接面向对象操作</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">● 强大的 CRUD 操作：内置通用 Mapper、通用 Service，仅仅通过少量配置即可实现单表大部分 CRUD 操作，更有强大的条件构造器，满足各类使用需求</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">● 支持 Lambda 形式调用：通过 Lambda 表达式，方便地编写各类查询条件，无需再担心字段写错</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">● 支持主键自动生成：支持多达 4 种主键策略（内含分布式唯一 ID 生成器 - Sequence），可自由配置，完美解决主键问题</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">● 支持 ActiveRecord 模式：支持 ActiveRecord 形式调用，实体类只需继承 Model 类即可进行强大的 CRUD 操作</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">● 支持自定义全局通用操作：支持全局通用方法注入（ Write once, use anywhere ）</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">● 内置代码生成器：采用代码或者 Maven 插件可快速生成 Mapper 、 Model 、 Service 、 Controller 层代码，支持模板引擎，更有超多自定义配置等您来使用</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">● 内置分页插件：基于 MyBatis 物理分页，开发者无需关心具体操作，配置好插件之后，写分页等同于普通 List 查询</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">● 分页插件支持多种数据库：支持 MySQL、MariaDB、Oracle、DB2、H2、HSQL、SQLite、Postgre、SQLServer 等多种数据库</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">● 内置性能分析插件：可输出 SQL 语句以及其执行时间，建议开发测试时启用该功能，能快速揪出慢查询</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">● 内置全局拦截插件：提供全表 delete 、 update 操作智能分析阻断，也可自定义拦截规则，预防误操作</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h2 id="mybatis-标签" tabindex="-1">mybatis 标签 <a class="header-anchor" href="#mybatis-标签" aria-hidden="true">#</a></h2><h3 id="_1-if-标签" tabindex="-1">1.if 标签 <a class="header-anchor" href="#_1-if-标签" aria-hidden="true">#</a></h3><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">查询的时候因为后面的if判断后拼接的判断条件都要带and连接，所以必须在where后首先接上1=1，防止出错，或者使用where标签</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_2-where-标签" tabindex="-1">2.where 标签 <a class="header-anchor" href="#_2-where-标签" aria-hidden="true">#</a></h3><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">MyBatis会将where标签中拼装的SQL语句中多余出来的and和or去掉，但是where只会去掉第一个多出来的and或者or，所以要把and或者or写在前面</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_3-trim-标签" tabindex="-1">3.trim 标签 <a class="header-anchor" href="#_3-trim-标签" aria-hidden="true">#</a></h3><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">prefix：前缀，给拼串后的整个字符串加一个前缀</span></span>
<span class="line"><span style="color:#A6ACCD;">prefixOverrides：前缀覆盖，去掉整个字符串前面多余的字符</span></span>
<span class="line"><span style="color:#A6ACCD;">suffix：后缀，给拼串后的整个字符串加一个后缀</span></span>
<span class="line"><span style="color:#A6ACCD;">suffixOverrides：后缀覆盖，去掉整个字符串后面多余的字符</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="_4-choose-标签" tabindex="-1">4.choose 标签 <a class="header-anchor" href="#_4-choose-标签" aria-hidden="true">#</a></h3><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">分支选择：相当于switch-case，含子标签when, otherwise</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_5-set-标签-update-子标签" tabindex="-1">5.set 标签-UPDATE 子标签 <a class="header-anchor" href="#_5-set-标签-update-子标签" aria-hidden="true">#</a></h3><h4 id="更新指定项" tabindex="-1">更新指定项 <a class="header-anchor" href="#更新指定项" aria-hidden="true">#</a></h4><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">&lt;!-- public void updateEmp(Employee employee); --&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">update</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">updateEmp</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  	update tbl_employee</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">set</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">if</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">test</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">lastName!=null</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    	last_name=#{lastName},</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">if</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">if</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">test</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">email!=null</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    	email=#{email},</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">if</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">if</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">test</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">gender!=null</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">      gender=#{gender}</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">if</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">set</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">	where id=#{id}</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">update</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">注意：set中的if中写的设置语句后的逗号&quot;,&quot;不能省略，不然就无法一次更新多个信息了</span></span>
<span class="line"><span style="color:#A6ACCD;">想达到此效果也可用trim标签完成，只需要将原来的set处的标签改为</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">trim</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">prefix</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">set</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">suffixOverrides</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">trim</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h3 id="_6-foreach-标签" tabindex="-1">6.foreach 标签 <a class="header-anchor" href="#_6-foreach-标签" aria-hidden="true">#</a></h3><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">1. collection：指定要遍历的集合</span></span>
<span class="line"><span style="color:#A6ACCD;">2. list 类型的参数会特殊处理封装在 map 中，map 的 key 就叫 list</span></span>
<span class="line"><span style="color:#A6ACCD;">3. item：将当前遍历出的元素赋值给指定的变量</span></span>
<span class="line"><span style="color:#A6ACCD;">4. separator：表示每个元素与每个元素之间的分隔符</span></span>
<span class="line"><span style="color:#A6ACCD;">5. open：为遍历出的结果拼接一个开始的字符</span></span>
<span class="line"><span style="color:#A6ACCD;">6. close：为遍历出的结果拼接一个结束的字符</span></span>
<span class="line"><span style="color:#A6ACCD;">7. index：索引。遍历 list 的时候 index 表示的就是索引，item 就是 map 的值；遍历 map 的时候 index 表示的就是 map 的 key，item 就是 map 的值</span></span>
<span class="line"><span style="color:#A6ACCD;">   作用：可以将 OGNL 表达式绑定到一个变量中，方便后来引用这个变量的值</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="_7-bind-标签" tabindex="-1">7.bind 标签 <a class="header-anchor" href="#_7-bind-标签" aria-hidden="true">#</a></h3><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-palenight"><code><span class="line"><span style="color:#A6ACCD;">增删改查标签内还有一个 bind 子标签，是绑定的意思</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;bind name=&quot;_lastName&quot; value=&quot;&#39;%&#39;+lastName+&#39;%&#39;&quot;&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">这样就相当于在原先的 lastName 的值的两端加上了%，方便使用 like 查询，这样在接下来写就可以写 like #{*lastName}了，在 Java 的方法中也不用再每次都手动加%了</span></span>
<span class="line"><span style="color:#A6ACCD;">不推荐使用这种方式，要是模糊查询还是每次在 Java 方法中自己加%、*等符号比较好，这样查询的操作自由度要更高，规则有变的情况下不需要更改的配置值</span></span>
<span class="line"><span style="color:#A6ACCD;">8.sql 标签与 include 标签</span></span>
<span class="line"><span style="color:#A6ACCD;">与增删改查标签同级，可以将使用频率比较高的 sql 语句部分写入 sql 标签中</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;sql id=&quot;insertColumn&quot;&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">		employee_id,last_name,email</span></span>
<span class="line"><span style="color:#A6ACCD;">&lt;/sql&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span>
<span class="line"><span style="color:#A6ACCD;">insert into employees(</span></span>
<span class="line"><span style="color:#A6ACCD;">  &lt;include refid=&quot;insertColumn&quot;&gt;&lt;/include&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">当数据库类型不同，导致需要保存的东西不同时，可以在 sql 标签内写&lt;if&gt;子标签判断\\_databaseId 即可</span></span>
<span class="line"><span style="color:#A6ACCD;">在&lt;include&gt;标签内还可以用&lt;property name=&quot;xxx&quot; value=&quot;aaa&quot;&gt;标签自定义一些属性，在&lt;sql&gt;标签中可以用\${xxx(name属性值)}来调用，注意是$不是#</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div>`,18),r=[p];function o(c,t,i,b,d,u){return a(),n("div",null,r)}const y=s(e,[["render",o]]);export{D as __pageData,y as default};
